const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CyabvMkz.js","assets/vendor-Dx4nA8xd.js","assets/index.es-Ciq1HQBF.js","assets/ui-BHYXjmCW.js","assets/charts-D_PF1a2T.js"])))=>i.map(i=>d[i]);
import{j as u,L as dn,X as Ec,a as Ym,H as Fv,R as Un,B as $v,C as nu,F as Bv,U as Gm,T as Uv,M as zv,S as qv,b as Wv,c as Jm,d as Mh,I as xc,g as Qf,i as Vv,e as Ic,f as Kd,h as ep,k as Km,r as Hv,l as Yv,m as Xm,n as Dc,o as Gv,p as tc,q as Jv,s as Kv,t as Xv,u as st,v as Zm,w as tp,x as Mc,y as Oi,z as Rh,A as Zv,P as Qm,D as Qv,G as rc,E as Xd,J as ey,K as ty,N as ry,O as ny,Y as ay,Q as e0,V as sy,W as t0,Z as iy,_ as oy,$ as ly,a0 as cy,a1 as Pa,a2 as uy,a3 as dy,a4 as hy,a5 as fy,a6 as py,a7 as my}from"./ui-BHYXjmCW.js";import{b as r0,d as gy,c as kn,r as H,u as Vn,a as n0,L as Fh,e as a0,N as Ea,O as vy,B as yy,f as by,h as _r}from"./vendor-Dx4nA8xd.js";import{R as rp,B as wy,C as xy,X as _y,Y as Sy,T as np,a as ky,P as Ny,b as jy,c as Py,_ as Ay,d as Ly,e as Oy,f as gt}from"./charts-D_PF1a2T.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Zd={},ap=r0;Zd.createRoot=ap.createRoot,Zd.hydrateRoot=ap.hydrateRoot;const Ty="modulepreload",Cy=function(t){return"/"+t},sp={},Ba=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Cy(l),l in sp)return;sp[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Ty,d||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),d)return new Promise((v,m)=>{p.addEventListener("load",v),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Ey=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ba(async()=>{const{default:n}=await Promise.resolve().then(()=>Ji);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class $h extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Iy extends $h{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Dy extends $h{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class My extends $h{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qd||(Qd={}));var Ry=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(h){try{d(n.next(h))}catch(p){i(p)}}function l(h){try{d(n.throw(h))}catch(p){i(p)}}function d(h){h.done?s(h.value):a(h.value).then(o,l)}d((n=n.apply(t,e||[])).next())})};class Fy{constructor(e,{headers:r={},customFetch:n,region:a=Qd.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Ey(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Ry(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:i}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let d;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(o["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(o["Content-Type"]="application/json",d=JSON.stringify(i)));const h=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:d}).catch(x=>{throw new Iy(x)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Dy(h);if(!h.ok)throw new My(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return v==="application/json"?m=yield h.json():v==="application/octet-stream"?m=yield h.blob():v==="text/event-stream"?m=h:v==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Zr={},Bh={},au={},rl={},su={},iu={},$y=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gi=$y();const By=Gi.fetch,s0=Gi.fetch.bind(Gi),i0=Gi.Headers,Uy=Gi.Request,zy=Gi.Response,Ji=Object.freeze(Object.defineProperty({__proto__:null,Headers:i0,Request:Uy,Response:zy,default:s0,fetch:By},Symbol.toStringTag,{value:"Module"})),qy=gy(Ji);var ou={};Object.defineProperty(ou,"__esModule",{value:!0});let Wy=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ou.default=Wy;var o0=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(iu,"__esModule",{value:!0});const Vy=o0(qy),Hy=o0(ou);let Yy=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Vy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,o,l;let d=null,h=null,p=null,v=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const _=await s.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=_:h=JSON.parse(_))}const b=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),S=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");b&&S&&S.length>1&&(p=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await s.text();try{d=JSON.parse(b),Array.isArray(d)&&s.status===404&&(h=[],d=null,v=200,m="OK")}catch{s.status===404&&b===""?(v=204,m="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,v=200,m="OK"),d&&this.shouldThrowOnError)throw new Hy.default(d)}return{error:d,data:h,count:p,status:v,statusText:m}});return this.shouldThrowOnError||(a=a.catch(s=>{var i,o,l;return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}};iu.default=Yy;var Gy=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(su,"__esModule",{value:!0});const Jy=Gy(iu);let Ky=class extends Jy.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${l};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};su.default=Ky;var Xy=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rl,"__esModule",{value:!0});const Zy=Xy(su);let Qy=class extends Zy.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};rl.default=Qy;var e2=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(au,"__esModule",{value:!0});const Co=e2(rl);let t2=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const i=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Co.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Co.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){const i="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(l.length>0){const d=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new Co.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Co.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Co.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};au.default=t2;var lu={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.version=void 0;cu.version="0.0.0-automated";Object.defineProperty(lu,"__esModule",{value:!0});lu.DEFAULT_HEADERS=void 0;const r2=cu;lu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r2.version}`};var l0=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bh,"__esModule",{value:!0});const n2=l0(au),a2=l0(rl),s2=lu;let i2=class c0{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},s2.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new n2.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new c0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:s}={}){let i;const o=new URL(`${this.url}/rpc/${e}`);let l;n||a?(i=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{o.searchParams.append(h,p)})):(i="POST",l=r);const d=Object.assign({},this.headers);return s&&(d.Prefer=`count=${s}`),new a2.default({method:i,url:o,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Bh.default=i2;var Ki=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.PostgrestError=Zr.PostgrestBuilder=Zr.PostgrestTransformBuilder=Zr.PostgrestFilterBuilder=Zr.PostgrestQueryBuilder=Zr.PostgrestClient=void 0;const u0=Ki(Bh);Zr.PostgrestClient=u0.default;const d0=Ki(au);Zr.PostgrestQueryBuilder=d0.default;const h0=Ki(rl);Zr.PostgrestFilterBuilder=h0.default;const f0=Ki(su);Zr.PostgrestTransformBuilder=f0.default;const p0=Ki(iu);Zr.PostgrestBuilder=p0.default;const m0=Ki(ou);Zr.PostgrestError=m0.default;var o2=Zr.default={PostgrestClient:u0.default,PostgrestQueryBuilder:d0.default,PostgrestFilterBuilder:h0.default,PostgrestTransformBuilder:f0.default,PostgrestBuilder:p0.default,PostgrestError:m0.default};const{PostgrestClient:l2,PostgrestQueryBuilder:YP,PostgrestFilterBuilder:GP,PostgrestTransformBuilder:JP,PostgrestBuilder:KP,PostgrestError:XP}=o2,c2="2.11.2",u2={"X-Client-Info":`realtime-js/${c2}`},d2="1.0.0",g0=1e4,h2=1e3;var Ri;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ri||(Ri={}));var on;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(on||(on={}));var Bn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Bn||(Bn={}));var eh;(function(t){t.websocket="websocket"})(eh||(eh={}));var Fs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fs||(Fs={}));class f2{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+a));i=i+a;const l=n.decode(e.slice(i,i+s));i=i+s;const d=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:l,payload:d}}}class v0{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Kt||(Kt={}));const ip=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,i)=>(s[i]=p2(i,t,e,a),s),{})},p2=(t,e,r,n)=>{const a=e.find(o=>o.name===t),s=a==null?void 0:a.type,i=r[t];return s&&!n.includes(s)?y0(s,i):th(i)},y0=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return y2(e,r)}switch(t){case Kt.bool:return m2(e);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return g2(e);case Kt.json:case Kt.jsonb:return v2(e);case Kt.timestamp:return b2(e);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:return th(e);default:return th(e)}},th=t=>t,m2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},g2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},v2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},y2=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const i=t.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>y0(e,o))}return t},b2=t=>typeof t=="string"?t.replace(" ","T"):t,b0=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class wd{constructor(e,r,n={},a=g0){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var op;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(op||(op={}));class zo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zo.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=zo.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=zo.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),i=this.transformState(r),o={},l={};return this.map(s,(d,h)=>{i[d]||(l[d]=h)}),this.map(i,(d,h)=>{const p=s[d];if(p){const v=h.map(S=>S.presence_ref),m=p.map(S=>S.presence_ref),x=h.filter(S=>m.indexOf(S.presence_ref)<0),b=p.filter(S=>v.indexOf(S.presence_ref)<0);x.length>0&&(o[d]=x),b.length>0&&(l[d]=b)}else o[d]=h}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var d;const h=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(l),h.length>0){const p=e[o].map(m=>m.presence_ref),v=h.filter(m=>p.indexOf(m.presence_ref)<0);e[o].unshift(...v)}n(o,h,l)}),this.map(i,(o,l)=>{let d=e[o];if(!d)return;const h=l.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[o]=d,a(o,d,l),d.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lp||(lp={}));var cp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cp||(cp={}));var Oa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Oa||(Oa={}));class Uh{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=on.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wd(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new v0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=on.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=on.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new zo(this),this.broadcastEndpointURL=b0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:o}}=this.params;this._onError(h=>e==null?void 0:e(Oa.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Oa.CLOSED));const l={},d={broadcast:s,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){e==null||e(Oa.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,m=(p=v==null?void 0:v.length)!==null&&p!==void 0?p:0,x=[];for(let b=0;b<m;b++){const S=v[b],{filter:{event:_,schema:O,table:F,filter:X}}=S,J=h&&h[b];if(J&&J.event===_&&J.schema===O&&J.table===F&&J.filter===X)x.push(Object.assign(Object.assign({},S),{id:J.id}));else{this.unsubscribe(),e==null||e(Oa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Oa.SUBSCRIBED);return}}).receive("error",h=>{e==null||e(Oa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Oa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=on.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new wd(this,Bn.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new wd(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const i=e.toLocaleLowerCase(),{close:o,error:l,leave:d,join:h}=Bn;if(n&&[o,l,d,h].indexOf(i)>=0&&n!==this._joinRef())return;let v=this._onMessage(i,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var x,b,S;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(b=m.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===i}).map(m=>m.callback(v,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var x,b,S,_,O,F;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const X=m.id,J=(x=m.filter)===null||x===void 0?void 0:x.event;return X&&((b=r.ids)===null||b===void 0?void 0:b.includes(X))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const X=(O=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return X==="*"||X===((F=r==null?void 0:r.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:b,table:S,commit_timestamp:_,type:O,errors:F}=x;v=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:_,eventType:O,new:{},old:{},errors:F}),this._getPayloadRecords(x))}m.callback(v,n)})}_isClosed(){return this.state===on.closed}_isJoined(){return this.state===on.joined}_isJoining(){return this.state===on.joining}_isLeaving(){return this.state===on.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Uh.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bn.close,{},e)}_onError(e){this._on(Bn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=on.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ip(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ip(e.columns,e.old_record)),r}}const w2=()=>{},x2=typeof WebSocket<"u",_2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S2{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=u2,this.params={},this.timeout=g0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=w2,this.conn=null,this.sendBuffer=[],this.serializer=new f2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Ba(async()=>{const{default:l}=await Promise.resolve().then(()=>Ji);return{default:l}},void 0).then(({default:l})=>l(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${e}/${eh.websocket}`,this.httpEndpoint=b0(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,i)=>i(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new v0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(x2){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new k2(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ba(async()=>{const{default:e}=await import("./browser-CyabvMkz.js").then(r=>r.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:d2}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return Fs.Connecting;case Ri.open:return Fs.Open;case Ri.closing:return Fs.Closing;default:return Fs.Closed}}isConnected(){return this.connectionState()===Fs.Open}channel(e,r={config:{}}){const n=new Uh(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:a,ref:s}=e,i=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Bn.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(h2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:s,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,s,i)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([_2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class k2{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ri.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class zh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class N2 extends zh{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rh extends zh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var j2=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(h){try{d(n.next(h))}catch(p){i(p)}}function l(h){try{d(n.throw(h))}catch(p){i(p)}}function d(h){h.done?s(h.value):a(h.value).then(o,l)}d((n=n.apply(t,e||[])).next())})};const w0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ba(async()=>{const{default:n}=await Promise.resolve().then(()=>Ji);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},P2=()=>j2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ba(()=>Promise.resolve().then(()=>Ji),void 0)).Response:Response}),nh=t=>{if(Array.isArray(t))return t.map(r=>nh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=nh(n)}),e};var qs=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(h){try{d(n.next(h))}catch(p){i(p)}}function l(h){try{d(n.throw(h))}catch(p){i(p)}}function d(h){h.done?s(h.value):a(h.value).then(o,l)}d((n=n.apply(t,e||[])).next())})};const xd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A2=(t,e,r)=>qs(void 0,void 0,void 0,function*(){const n=yield P2();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new N2(xd(a),t.status||500))}).catch(a=>{e(new rh(xd(a),a))}):e(new rh(xd(t),t))}),L2=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function nl(t,e,r,n,a,s){return qs(this,void 0,void 0,function*(){return new Promise((i,o)=>{t(r,L2(e,n,a,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>A2(l,o,n))})})}function Rc(t,e,r,n){return qs(this,void 0,void 0,function*(){return nl(t,"GET",e,r,n)})}function ds(t,e,r,n,a){return qs(this,void 0,void 0,function*(){return nl(t,"POST",e,n,a,r)})}function O2(t,e,r,n,a){return qs(this,void 0,void 0,function*(){return nl(t,"PUT",e,n,a,r)})}function T2(t,e,r,n){return qs(this,void 0,void 0,function*(){return nl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function x0(t,e,r,n,a){return qs(this,void 0,void 0,function*(){return nl(t,"DELETE",e,n,a,r)})}var Kr=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(h){try{d(n.next(h))}catch(p){i(p)}}function l(h){try{d(n.throw(h))}catch(p){i(p)}}function d(h){h.done?s(h.value):a(h.value).then(o,l)}d((n=n.apply(t,e||[])).next())})};const C2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},up={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E2{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=w0(a)}uploadOrUpdate(e,r,n,a){return Kr(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},up),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),p=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:s,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),v=yield p.json();return p.ok?{data:{path:d,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(s){if(Pr(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Kr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",r);try{let l;const d=Object.assign({upsert:up.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",d.cacheControl)):(l=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:h}),v=yield p.json();return p.ok?{data:{path:s,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(Pr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Kr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield ds(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new zh("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(Pr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Kr(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Pr(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Kr(this,void 0,void 0,function*(){try{return{data:{path:(yield ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Pr(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Kr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield ds(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(Pr(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Kr(this,void 0,void 0,function*(){try{const a=yield ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(Pr(a))return{data:null,error:a};throw a}})}download(e,r){return Kr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Rc(this.fetch,`${this.url}/${a}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Pr(o))return{data:null,error:o};throw o}})}info(e){return Kr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Rc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:nh(n),error:null}}catch(n){if(Pr(n))return{data:null,error:n};throw n}})}exists(e){return Kr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield T2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pr(n)&&n instanceof rh){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(e){return Kr(this,void 0,void 0,function*(){try{return{data:yield x0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Pr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Kr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},C2),r),{prefix:e||""});return{data:yield ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Pr(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const I2="2.7.1",D2={"X-Client-Info":`storage-js/${I2}`};var _i=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(h){try{d(n.next(h))}catch(p){i(p)}}function l(h){try{d(n.throw(h))}catch(p){i(p)}}function d(h){h.done?s(h.value):a(h.value).then(o,l)}d((n=n.apply(t,e||[])).next())})};class M2{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},D2),r),this.fetch=w0(n)}listBuckets(){return _i(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Pr(e))return{data:null,error:e};throw e}})}getBucket(e){return _i(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Pr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return _i(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return _i(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _i(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _i(this,void 0,void 0,function*(){try{return{data:yield x0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Pr(r))return{data:null,error:r};throw r}})}}class R2 extends M2{constructor(e,r={},n){super(e,r,n)}from(e){return new E2(this.url,this.headers,e,this.fetch)}}const F2="2.48.1";let Bo="";typeof Deno<"u"?Bo="deno":typeof document<"u"?Bo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bo="react-native":Bo="node";const $2={"X-Client-Info":`supabase-js-${Bo}/${F2}`},B2={headers:$2},U2={schema:"public"},z2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q2={};var W2=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(h){try{d(n.next(h))}catch(p){i(p)}}function l(h){try{d(n.throw(h))}catch(p){i(p)}}function d(h){h.done?s(h.value):a(h.value).then(o,l)}d((n=n.apply(t,e||[])).next())})};const V2=t=>{let e;return t?e=t:typeof fetch>"u"?e=s0:e=fetch,(...r)=>e(...r)},H2=()=>typeof Headers>"u"?i0:Headers,Y2=(t,e,r)=>{const n=V2(r),a=H2();return(s,i)=>W2(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let d=new a(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},i),{headers:d}))})};var G2=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(h){try{d(n.next(h))}catch(p){i(p)}}function l(h){try{d(n.throw(h))}catch(p){i(p)}}function d(h){h.done?s(h.value):a(h.value).then(o,l)}d((n=n.apply(t,e||[])).next())})};function J2(t){return t.replace(/\/$/,"")}function K2(t,e){const{db:r,auth:n,realtime:a,global:s}=t,{db:i,auth:o,realtime:l,global:d}=e,h={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},d),s),accessToken:()=>G2(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const _0="2.67.3",X2="http://localhost:9999",Z2="supabase.auth.token",Q2={"X-Client-Info":`gotrue-js/${_0}`},dp=10,ah="X-Supabase-Api-Version",S0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function eb(t){return Math.round(Date.now()/1e3)+t}function tb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const na=()=>typeof window<"u"&&typeof document<"u",Cs={tested:!1,writable:!1},qo=()=>{if(!na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cs.tested)return Cs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Cs.tested=!0,Cs.writable=!0}catch{Cs.tested=!0,Cs.writable=!1}return Cs.writable};function rb(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const k0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ba(async()=>{const{default:n}=await Promise.resolve().then(()=>Ji);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},nb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",N0=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},nc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ac=async(t,e)=>{await t.removeItem(e)};function ab(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,s,i,o,l,d,h=0;for(t=t.replace("-","+").replace("_","/");h<t.length;)i=e.indexOf(t.charAt(h++)),o=e.indexOf(t.charAt(h++)),l=e.indexOf(t.charAt(h++)),d=e.indexOf(t.charAt(h++)),n=i<<2|o>>4,a=(o&15)<<4|l>>2,s=(l&3)<<6|d,r=r+String.fromCharCode(n),l!=64&&a!=0&&(r=r+String.fromCharCode(a)),d!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class uu{constructor(){this.promise=new uu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}uu.promiseConstructor=Promise;function hp(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(ab(n))}async function sb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ib(t,e){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await t(s);if(!e(s,null,i)){n(i);return}}catch(i){if(!e(s,i)){a(i);return}}})()})}function ob(t){return("0"+t.toString(16)).substr(-2)}function lb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,ob).join("")}async function cb(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}function ub(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function db(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await cb(t);return ub(r)}async function Si(t,e,r=!1){const n=lb();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await N0(t,`${e}-code-verifier`,a);const s=await db(n);return[s,n===s?"plain":"s256"]}const hb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fb(t){const e=t.headers.get(ah);if(!e||!e.match(hb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class al extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function kt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class pb extends al{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mb(t){return kt(t)&&t.name==="AuthApiError"}class j0 extends al{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}let Ws=class extends al{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}};class cs extends Ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gb(t){return kt(t)&&t.name==="AuthSessionMissingError"}class _d extends Ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sc extends Ws{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ic extends Ws{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vb(t){return kt(t)&&t.name==="AuthImplicitGrantRedirectError"}class fp extends Ws{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sh extends Ws{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Sd(t){return kt(t)&&t.name==="AuthRetryableFetchError"}class pp extends Ws{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var yb=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Ds=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bb=[502,503,504];async function mp(t){var e;if(!nb(t))throw new sh(Ds(t),0);if(bb.includes(t.status))throw new sh(Ds(t),t.status);let r;try{r=await t.json()}catch(s){throw new j0(Ds(s),s)}let n;const a=fb(t);if(a&&a.getTime()>=S0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pp(Ds(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new cs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new pp(Ds(r),t.status,r.weak_password.reasons);throw new pb(Ds(r),t.status||500,n)}const wb=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Lt(t,e,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[ah]||(s[ah]=S0["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await xb(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function xb(t,e,r,n,a,s){const i=wb(e,n,a,s);let o;try{o=await t(r,Object.assign({},i))}catch(l){throw console.error(l),new sh(Ds(l),0)}if(o.ok||await mp(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await mp(l)}}function us(t){var e;let r=null;Nb(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=eb(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function gp(t){const e=us(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _b(t){return{data:t,error:null}}function Sb(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,i=yb(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function kb(t){return t}function Nb(t){return t.access_token&&t.refresh_token&&t.expires_in}var jb=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class Pb{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=k0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:hs})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=jb(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Sb,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hs})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,s,i,o,l;try{const d={nextPage:null,lastPage:0,total:0},h=await Lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:kb});if(h.error)throw h.error;const p=await h.json(),v=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);d[`${S}Page`]=b}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(kt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await Lt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hs})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Lt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:hs})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:hs})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Lt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}}const Ab={getItem:t=>qo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{qo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{qo()&&globalThis.localStorage.removeItem(t)}};function vp(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Lb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ki={debug:!!(globalThis&&qo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ob extends P0{}async function Tb(t,e,r){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ob(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ki.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Lb();const Cb={url:X2,storageKey:Z2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Eo=30*1e3,yp=3;async function bp(t,e,r){return await r()}class Yo{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yo.nextInstanceID,Yo.nextInstanceID+=1,this.instanceID>0&&na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Cb),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Pb({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=k0(a.fetch),this.lock=a.lock||bp,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:na()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Tb:this.lock=bp,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:qo()?this.storage=Ab:(this.memoryStorage={},this.storage=vp(this.memoryStorage)):(this.memoryStorage={},this.storage=vp(this.memoryStorage)),na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=rb(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),na()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),vb(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return kt(r)?{error:r}:{error:new j0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const s=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:us}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,a;try{let s;if("email"in e){const{email:h,password:p,options:v}=e;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Si(this.storage,this.storageKey)),s=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:m,code_challenge_method:x},xform:us})}else if("phone"in e){const{phone:h,password:p,options:v}=e;s=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(a=v==null?void 0:v.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:us})}else throw new sc("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:i,options:o}=e;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gp})}else if("phone"in e){const{phone:s,password:i,options:o}=e;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gp})}else throw new sc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new _d}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await nc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:us});if(await ac(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new _d}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(kt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=e,o=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:us}),{data:l,error:d}=o;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _d}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,s,i;try{if("email"in e){const{email:o,options:l}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Si(this.storage,this.storageKey));const{error:p}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:o,options:l}=e,{data:d,error:h}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new sc("You must provide either an email or phone number.")}catch(o){if(kt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await Lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:us});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,d=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Si(this.storage,this.storageKey)),await Lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:_b})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new cs;const{error:a}=await Lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(kt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:i}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:i,error:o}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new sc("You must provide either an email or phone number and a type")}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await nc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,h)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,h))})}return{data:{session:e},error:null}}const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hs}):await this._useSession(async r=>{var n,a,s;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cs}:await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:hs})})}catch(r){if(kt(r))return gb(r)&&(await this._removeSession(),await ac(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new cs;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Si(this.storage,this.storageKey));const{data:d,error:h}=await Lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:hs});if(h)throw h;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return hp(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cs;const r=Date.now()/1e3;let n=r,a=!0,s=null;const i=hp(e.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(kt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:o}=r;if(o)throw o;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new cs;const{session:a,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!na())throw new ic("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ic(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ic("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fp("No code detected.");const{data:O,error:F}=await this._exchangeCodeForSession(e.code);if(F)throw F;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:d}=e;if(!s||!o||!i||!d)throw new ic("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(o);let v=h+p;l&&(v=parseInt(l));const m=v-h;m*1e3<=Eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const x=v-p;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,h);const{data:b,error:S}=await this._getUser(s);if(S)throw S;const _={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:p,expires_at:v,refresh_token:i,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(kt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await nc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,e);if(o&&!(mb(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await ac(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=tb(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Si(this.storage,this.storageKey,!0));try{return await Lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(kt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,d,h;const{data:p,error:v}=s;if(v)throw v;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Lt(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return na()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(kt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await Lt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ib(async a=>(a>0&&await sb(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:us})),(a,s)=>{const i=200*Math.pow(2,a);return s&&Sd(s)&&Date.now()+i-n<Eo})}catch(n){if(this._debug(r,"error",n),kt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),na()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await nc(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<a+dp;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${dp}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Sd(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new uu;const{data:s,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!s.session)throw new cs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),kt(s)){const i={session:null,error:s};return Sd(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await N0(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ac(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&na()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Eo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Eo}ms, refresh threshold is ${yp} ticks`),a<=yp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof P0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!na()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Si(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Lt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await Lt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:i,error:o}=await Lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await Lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const h=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}}Yo.nextInstanceID=0;const Eb=Yo;class Ib extends Eb{constructor(e){super(e)}}var Db=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(h){try{d(n.next(h))}catch(p){i(p)}}function l(h){try{d(n.throw(h))}catch(p){i(p)}}function d(h){h.done?s(h.value):a(h.value).then(o,l)}d((n=n.apply(t,e||[])).next())})};class Mb{constructor(e,r,n){var a,s,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=J2(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:U2,realtime:q2,auth:Object.assign(Object.assign({},z2),{storageKey:l}),global:B2},h=K2(n??{},d);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=Y2(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new l2(`${o}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Fy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new R2(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Db(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:i,lock:o,debug:l},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ib({url:this.authUrl,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:i,lock:o,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new S2(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rb=(t,e,r)=>new Mb(t,e,r),A0="https://aylxcqaddelwxfukerhr.supabase.co",Fb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF5bHhjcWFkZGVsd3hmdWtlcmhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDAwMTc2NTksImV4cCI6MjA1NTU5MzY1OX0.YqQAdHMeGMmPAfKFtZPTovJ8szJi_iiUwkEnnLk1Cg8",Go="songmetrix_last_activity",$b=15*60*1e3,cn=`sb-${A0.split("//")[1].split(".")[0]}-auth-token`;let Ti=!1,wp=!1;const ih=()=>{try{localStorage.removeItem(cn),localStorage.removeItem(Go),sessionStorage.removeItem(cn),sessionStorage.removeItem(Go),document.cookie.split(";").forEach(t=>{const[e]=t.trim().split("=");(e.includes("supabase")||e.includes("sb-"))&&(document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`)})}catch(t){console.error("Erro ao limpar dados de sesso:",t)}},ca=()=>{try{const t=Date.now().toString();sessionStorage.setItem(Go,t)}catch(t){console.error("Erro ao atualizar atividade:",t)}},L0=()=>{try{if(!sessionStorage.getItem(cn))return!1;const e=sessionStorage.getItem(Go);return e?Date.now()-parseInt(e)>$b:(ca(),!1)}catch{return!1}},Bb=()=>{try{if(sessionStorage.getItem(cn))return!0;const t=localStorage.getItem(cn);return t?(sessionStorage.setItem(cn,t),ca(),!0):!1}catch{return!1}},Ub={getItem:t=>{try{if(t===cn&&L0())return ih(),null;const e=sessionStorage.getItem(t);if(e)return t===cn&&ca(),e;const r=localStorage.getItem(t);return r&&t===cn?(sessionStorage.setItem(t,r),ca(),r):r||null}catch{return null}},setItem:(t,e)=>{try{sessionStorage.setItem(t,e),t===cn&&(ca(),Ti=!1)}catch(r){console.error("Erro ao definir item:",r)}},removeItem:t=>{try{sessionStorage.removeItem(t),localStorage.removeItem(t)}catch(e){console.error("Erro ao remover item:",e)}}},zb=Bb(),ot=Rb(A0,Fb,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:Ub}});zb&&!sessionStorage.getItem(Go)&&ca();if(!wp&&(wp=!0,ot.auth.getSession().then(({data:{session:t}})=>{t&&ca()}).catch(()=>{}),ot.auth.onAuthStateChange((t,e)=>{if(t==="SIGNED_OUT"){ih(),!Ti&&window.location.pathname!=="/login"&&(Ti=!0,window.location.href="/login");return}e&&(ca(),Ti=!1)}),typeof window<"u")){let t=0;const e=()=>{const r=Date.now();r-t>1e4&&(t=r,sessionStorage.getItem(cn)&&ca())};document.addEventListener("click",e),document.addEventListener("keydown",e),setInterval(()=>{L0()&&sessionStorage.getItem(cn)&&(ih(),!Ti&&window.location.pathname!=="/login"&&(Ti=!0,window.location.href="/login"))},6e4),window.addEventListener("beforeunload",()=>{sessionStorage.getItem(cn)&&ca()})}class Mn extends al{constructor(e){super("Authentication error"),this.name="AuthError",this.message=e,this.__isAuthError=!0}}const O0=H.createContext(void 0),qb=({children:t})=>{const[e,r]=H.useState(null),[n,a]=H.useState(null),[s,i]=H.useState(!0),[o,l]=H.useState(null),[d,h]=H.useState(null),p=H.useRef(!1),v=H.useRef(!1),m=H.useRef(!0),x=Vn();H.useEffect(()=>()=>{m.current=!1},[]);const b=async()=>{try{const{data:K,error:D}=await ot.auth.getSession();return D?!1:!!K.session}catch{return!1}},S=async(K,D)=>{try{const{data:{user:Y}}=await ot.auth.getUser();if(!Y)throw new Error("Usurio no autenticado");if(!(n==="ADMIN"))throw new Error("Usurio no tem permisso de administrador");const{error:k}=await ot.from("users").update({status:D,updated_at:new Date().toISOString()}).eq("id",K);if(k)throw k;const{data:{session:A}}=await ot.auth.getSession();if(!(await fetch("/api/users/update-status",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A==null?void 0:A.access_token}`},body:JSON.stringify({userId:K,status:D})})).ok)throw new Error("Falha ao atualizar metadados do usurio")}catch(Y){throw Y}},_=async()=>{if(p.current)return!1;p.current=!0;try{if(!await b())return p.current=!1,!1;const{data:{user:D},error:Y}=await ot.auth.getUser();if(Y||!D)return p.current=!1,!1;const{data:R,error:k}=await ot.from("users").select("status, created_at").eq("id",D.id).single();if(k||!R)return p.current=!1,!1;if(R.status==="ADMIN"||R.status==="ATIVO"||R.status==="TRIAL"){if(m.current&&(r(D),a(R.status)),R.status==="TRIAL"){const A=new Date(R.created_at),U=Math.abs(new Date().getTime()-A.getTime()),Z=Math.floor(U/(1e3*60*60*24)),re=Math.max(0,7-Z);if(m.current&&h(re),re<=0)return await ot.from("users").update({status:"INATIVO"}).eq("id",D.id),x("/plans",{state:{trialExpired:!0,message:"Seu perodo de avaliao gratuito expirou. Escolha um plano para continuar utilizando o sistema."},replace:!0}),p.current=!1,!1}else m.current&&h(null);return m.current&&i(!1),p.current=!1,!0}else return R.status==="INATIVO"?(x("/pending-approval",{state:{message:"Sua conta est aguardando aprovao. Por favor, aguarde o contato do nosso atendimento."},replace:!0}),p.current=!1,!1):(await ot.auth.signOut(),x("/login",{state:{error:"Usurio inativo. Entre em contato com o administrador."},replace:!0}),p.current=!1,!1)}catch{return p.current=!1,!1}};H.useEffect(()=>{if(v.current)return;v.current=!0,(async()=>{if(m.current)try{const Y=`sb-${"https://aylxcqaddelwxfukerhr.supabase.co".split("//")[1].split(".")[0]}-auth-token`;if(!!!sessionStorage.getItem(Y)){m.current&&(r(null),a(null),i(!1));return}const{data:{session:k}}=await ot.auth.getSession();if(!k){m.current&&(r(null),a(null),i(!1));return}const{data:{user:A}}=await ot.auth.getUser();if(!A){m.current&&(r(null),a(null),i(!1));return}const{data:E,error:U}=await ot.from("users").select("status, created_at").eq("id",A.id).single();if(U||!E){m.current&&(r(null),a(null),i(!1));return}if(E.status==="ADMIN"||E.status==="ATIVO"||E.status==="TRIAL"){if(m.current){if(r(A),a(E.status),E.status==="TRIAL"){const Z=new Date(E.created_at),ae=Math.abs(new Date().getTime()-Z.getTime()),ee=Math.ceil(ae/(1e3*60*60*24)),de=Math.max(0,7-ee);if(m.current&&h(de),de<=0){await ot.from("users").update({status:"INATIVO"}).eq("id",A.id),m.current&&(r(null),a(null),i(!1)),x("/plans",{state:{trialExpired:!0,message:"Seu perodo de avaliao gratuito expirou. Escolha um plano para continuar."},replace:!0});return}}else m.current&&h(null);i(!1)}}else await ot.auth.signOut(),m.current&&(r(null),a(null),i(!1)),x("/login",{state:{error:"Usurio inativo. Entre em contato com o administrador."},replace:!0})}catch{m.current&&(r(null),a(null),i(!1))}})();const{data:{subscription:D}}=ot.auth.onAuthStateChange((Y,R)=>{if(console.log("Evento de autenticao:",Y,R?"com sesso":"sem sesso"),Y==="USER_UPDATED"&&(R!=null&&R.user)&&console.log("Usurio atualizado:",{id:R.user.id,email:R.user.email,email_confirmado:R.user.email_confirmed_at?"Sim":"No",created_at:R.user.created_at,metadados:R.user.user_metadata}),!(Y==="USER_UPDATED"||Y==="INITIAL_SESSION")){if(Y==="SIGNED_OUT"||!R){m.current&&(r(null),a(null),h(null));return}(Y==="SIGNED_IN"||Y==="TOKEN_REFRESHED")&&!e&&m.current&&_()}});return()=>{D.unsubscribe()}},[x]);const ce={currentUser:e,userStatus:n,loading:s,error:o,trialDaysRemaining:d,login:async(K,D)=>{try{m.current&&(l(null),i(!0));const{data:Y,error:R}=await ot.auth.signInWithPassword({email:K,password:D});if(R)throw R;if(!(Y!=null&&Y.user))throw new Mn("Usurio no encontrado");const{data:k,error:A}=await ot.auth.getUser();if(A)throw A;const E=(k==null?void 0:k.user)||Y.user,{data:U,error:Z}=await ot.from("users").select("status, created_at").eq("id",E.id).single();if(Z)if(console.error("Erro ao buscar usurio no banco:",Z),Z.code==="PGRST116"){console.log("Criando registro de usurio que no existe no banco:",E.id);const ee=new Date(E.created_at),pe=Math.abs(new Date().getTime()-ee.getTime()),N=Math.ceil(pe/(1e3*60*60*24))<=7,{error:$}=await ot.from("users").insert({id:E.id,email:E.email,status:N?"TRIAL":"INATIVO",created_at:E.created_at||new Date().toISOString(),updated_at:new Date().toISOString()});if($)throw console.error("Erro ao criar registro de usurio:",$),$;const{data:V,error:T}=await ot.from("users").select("status, created_at").eq("id",E.id).single();if(T)throw console.error("Erro ao buscar usurio recm-criado:",T),T;if(!V)throw new Mn("Erro ao criar registro de usurio");return await ot.auth.updateUser({data:{status:V.status}}),m.current&&(r(E),a(V.status),i(!1)),x("/dashboard",{replace:!0}),{error:null}}else throw Z;if(!U)throw new Mn("Usurio no encontrado no banco de dados");const re=U.status;let ae=null;if(re==="TRIAL"){const ee=new Date(U.created_at),pe=Math.abs(new Date().getTime()-ee.getTime()),Le=Math.ceil(pe/(1e3*60*60*24));if(ae=Math.max(0,7-Le),ae<=0)throw await ot.auth.signOut(),new Mn("Seu perodo de avaliao gratuito expirou.")}if(re!=="ADMIN"&&re!=="ATIVO"&&re!=="TRIAL")throw await ot.auth.signOut(),new Mn("Usurio inativo. Entre em contato com o administrador.");return m.current&&(r(E),a(re),h(ae),i(!1)),x("/dashboard",{replace:!0}),{error:null}}catch(Y){return await ot.auth.signOut(),m.current&&i(!1),Y instanceof al?Y.message.includes("Invalid login")?{error:new Mn("Email ou senha invlidos")}:Y.message.includes("Email not confirmed")?{error:new Mn("Email no confirmado")}:Y.message.includes("trial_expired")||Y.message.includes("perodo de avaliao")?{error:new Mn("Seu perodo de avaliao gratuito expirou. Escolha um plano para continuar utilizando o sistema.")}:{error:new Mn(Y.message)}:{error:new Mn("Erro ao fazer login")}}},logout:async()=>{m.current&&i(!0);try{await ot.auth.signOut(),m.current&&(r(null),a(null),h(null)),x("/login",{replace:!0})}catch{}finally{m.current&&i(!1)}},updateUserStatus:S,refreshUserStatus:_,signUp:async(K,D)=>{try{const{data:Y,error:R}=await ot.from("users").select("id").eq("email",K);if(R)console.error("Erro ao verificar email existente:",R);else if(Y&&Y.length>0)return{error:new Mn("Este email j est registrado. Por favor, faa login ou use outro email.")};const{data:k,error:A}=await ot.auth.signUp({email:K,password:D,options:{emailRedirectTo:`${window.location.origin}/login`,data:{status:"TRIAL"}}});if(A)throw console.error("Erro no signUp do Supabase:",A),A;if(k!=null&&k.user){console.log("Usurio criado com sucesso. ID:",k.user.id);const{error:E}=await ot.from("users").upsert({id:k.user.id,email:k.user.email,status:"TRIAL",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});return E?console.error("Erro ao criar registro do usurio no banco de dados:",E):console.log("Registro do usurio criado/atualizado com sucesso na tabela users"),{error:null,confirmation_sent:!0,should_redirect:!1,message:"Conta criada com sucesso! Verifique seu email para confirmar o cadastro."}}else console.warn("Dados do usurio no disponveis aps signUp");return{error:null}}catch(Y){return console.error("Erro durante o processo de cadastro:",Y),{error:Y}}},updateFavoriteRadios:async K=>{try{const{data:{user:D}}=await ot.auth.getUser();if(!D)throw new Error("Usurio no autenticado");const{error:Y}=await ot.auth.updateUser({data:{...D.user_metadata,favorite_radios:K}});if(Y)throw Y;const{error:R}=await ot.from("users").update({favorite_radios:K,updated_at:new Date().toISOString()}).eq("id",D.id);R&&console.error("Erro ao atualizar rdios favoritas no banco de dados:",R),console.log("Rdios favoritas atualizadas com sucesso:",K)}catch(D){throw console.error("Erro ao atualizar rdios favoritas:",D),D}}};return u.jsx(O0.Provider,{value:ce,children:t})};function br(){const t=H.useContext(O0);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const qh=H.forwardRef(({label:t,error:e,icon:r,helperText:n,className:a="",...s},i)=>u.jsxs("div",{className:"w-full",children:[t&&u.jsx("label",{htmlFor:s.id,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),u.jsxs("div",{className:"relative rounded-lg",children:[r&&u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none group",children:u.jsx("span",{className:"text-gray-400 group-focus-within:text-[#1a3891] transition-colors",children:r})}),u.jsx("input",{ref:i,className:`
              appearance-none block w-full px-3 py-2
              border rounded-lg
              placeholder-gray-400 dark:placeholder-gray-500
              focus:outline-none focus:ring-2 focus:ring-[#1a3891] focus:border-[#1a3891]
              transition-colors
              sm:text-sm
              ${r?"pl-10":""}
              ${e?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}
              ${a}
            `,...s})]}),(e||n)&&u.jsx("p",{className:`mt-1 text-sm ${e?"text-red-600":"text-gray-500 dark:text-gray-400"}`,children:e||n})]}));qh.displayName="Input";const Wh=H.forwardRef((t,e)=>u.jsx(qh,{type:"email",icon:u.jsxs("svg",{className:"h-5 w-5 text-gray-400 group-focus-within:text-[#1a3891] transition-colors",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[u.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),u.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),ref:e,...t}));Wh.displayName="EmailInput";const Fc=H.forwardRef((t,e)=>{const[r,n]=n0.useState(!1);return u.jsxs("div",{className:"relative",children:[u.jsx(qh,{type:r?"text":"password",icon:u.jsx("svg",{className:"h-5 w-5 text-gray-400 group-focus-within:text-[#1a3891] transition-colors",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),ref:e,...t}),u.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?u.jsxs("svg",{className:"h-5 w-5 text-gray-400 hover:text-[#1a3891] transition-colors",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[u.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),u.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]}):u.jsxs("svg",{className:"h-5 w-5 text-gray-400 hover:text-[#1a3891] transition-colors",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[u.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),u.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]})});Fc.displayName="PasswordInput";const Wb={primary:"bg-[#1a3891] text-white hover:bg-[#162d7a] focus:ring-[#122463]",secondary:"bg-gray-200 text-gray-700 hover:bg-gray-300 focus:ring-gray-400",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-[#1a3891]",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},Vb={small:"px-3 py-1.5 text-sm",medium:"px-4 py-2",large:"px-6 py-3 text-lg"};function Hb({children:t,variant:e="primary",size:r="medium",isLoading:n=!1,fullWidth:a=!1,icon:s,className:i="",disabled:o,...l}){return u.jsx("button",{className:`
        ${Wb[e]}
        ${Vb[r]}
        ${a?"w-full":""}
        inline-flex items-center justify-center
        font-medium rounded-lg
        focus:outline-none focus:ring-2 focus:ring-offset-2
        transition-colors duration-200
        disabled:opacity-50 disabled:cursor-not-allowed
        ${i}
      `,disabled:o||n,...l,children:n?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Carregando..."]}):u.jsxs(u.Fragment,{children:[s&&u.jsx("span",{className:"mr-2",children:s}),t]})})}function Fi(t){return u.jsx(Hb,{variant:"primary",...t})}const Yb={success:{container:"bg-green-50 border-green-400",text:"text-green-700",icon:""},error:{container:"bg-red-50 border-red-400",text:"text-red-700",icon:""},warning:{container:"bg-yellow-50 border-yellow-400",text:"text-yellow-700",icon:""},info:{container:"bg-blue-50 border-blue-400",text:"text-blue-700",icon:""}};function Gb({type:t,message:e,onClose:r}){const n=Yb[t];return u.jsxs("div",{className:`${n.container} border px-4 py-3 rounded relative animate-fadeIn`,role:"alert",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{className:"mr-2",children:n.icon}),u.jsx("span",{className:`block sm:inline ${n.text}`,children:e})]}),r&&u.jsxs("button",{className:`absolute top-0 bottom-0 right-0 px-4 py-3 ${n.text} hover:opacity-75`,onClick:r,children:[u.jsx("span",{className:"sr-only",children:"Fechar"}),u.jsx("span",{className:"text-xl",children:""})]})]})}function $c({message:t,onClose:e}){return u.jsx(Gb,{type:"error",message:t,onClose:e})}function du({size:t="medium",message:e="Carregando..."}){const r={small:"h-4 w-4",medium:"h-8 w-8",large:"h-12 w-12"};return u.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[u.jsx("div",{className:`animate-spin rounded-full border-b-2 border-blue-500 ${r[t]}`}),e&&u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e})]})}function Jb(){const[t,e]=H.useState(""),[r,n]=H.useState(""),[a,s]=H.useState(""),[i,o]=H.useState(!1);Vn();const{login:l}=br(),d=async h=>{h.preventDefault();try{if(o(!0),s(""),!t||!r){s("Por favor, preencha todos os campos."),o(!1);return}const{error:p}=await l(t,r);if(p){s(p.message),o(!1);return}}catch(p){console.error("Erro ao fazer login:",p),s("Ocorreu um erro durante o login. Tente novamente."),o(!1)}};return i?u.jsx(du,{size:"large",message:"Autenticando..."}):u.jsxs("div",{className:"min-h-screen flex",children:[u.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-[#122463] via-[#162d7a] to-[#1a3891] items-center justify-center p-12 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(255,255,255,0.1)_0%,rgba(255,255,255,0)_100%)]"}),u.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(255,255,255,0.2) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),u.jsxs("div",{className:"max-w-lg relative z-10",children:[u.jsx("img",{src:"/logo-1280x256.png",alt:"SongMetrix",className:"w-full h-auto mb-8"}),u.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Inteligncia musical para sua rdio"})]})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Vamos comear"}),u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Bem vindo! Por favor, faa o login para continuar."})]}),a&&u.jsx($c,{message:a,onClose:()=>s("")}),u.jsxs("form",{className:"space-y-4",onSubmit:d,children:[u.jsx("div",{children:u.jsx(Wh,{id:"email",value:t,onChange:h=>e(h.target.value),placeholder:"Email",required:!0})}),u.jsx("div",{children:u.jsx(Fc,{id:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Senha",required:!0})}),u.jsx("div",{children:u.jsx(Fi,{type:"submit",fullWidth:!0,isLoading:i,children:"Continuar com Email"})})]}),u.jsxs("div",{className:"text-sm text-center",children:[u.jsx("span",{className:"text-gray-600",children:"No tem uma conta?"})," ",u.jsx(Fh,{to:"/register",className:"font-medium text-[#1a3891] hover:text-[#162d7a]",children:"Registre-se"})]})]})})]})}function Kb(){const[t,e]=H.useState(""),[r,n]=H.useState(""),[a,s]=H.useState(""),[i,o]=H.useState(""),[l,d]=H.useState(!1),{signUp:h}=br(),p=Vn(),v=x=>/^(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{6,})/.test(x),m=async x=>{if(x.preventDefault(),r!==a)return o("As senhas no coincidem");if(!v(r))return o("A senha deve ter pelo menos 6 caracteres, 1 caractere especial e 1 letra maiscula");try{o(""),d(!0);const{error:b,should_redirect:S,message:_}=await h(t,r);if(b)throw b;const{error:O}=await ot.auth.updateUser({data:{status:"TRIAL"}});O&&console.error("Erro ao atualizar metadados do usurio:",O),S!==!1&&await ot.auth.signOut(),p("/pending-approval",{state:{message:_||"Por favor, verifique seu email para confirmar seu cadastro. Aps a confirmao, voc ter acesso ao sistema com 7 dias gratuitos para testar todas as funcionalidades. Se no encontrar o email, verifique sua caixa de spam."},replace:!0})}catch(b){console.error("Erro no registro:",b);let S="Falha ao criar conta. Por favor, tente novamente.";typeof b=="object"&&b!==null&&(b.message&&(b.message.includes("already registered")||b.message.includes("already exists")?S="Este email j est registrado.":b.message.includes("valid email")?S="Por favor, fornea um email vlido.":b.message.includes("weak password")?S="A senha fornecida  muito fraca.":b.message.includes("database")||b.message.includes("insert")||b.message.includes("update")?S="Erro ao criar perfil do usurio. Por favor, tente novamente.":(b.message.includes("network")||b.message.includes("fetch")||b.message.includes("connection"))&&(S="Erro de conexo. Verifique sua internet e tente novamente."),S==="Falha ao criar conta. Por favor, tente novamente."&&console.log("Mensagem de erro original:",b.message.substring(0,100))),b.code&&console.log("Cdigo de erro:",b.code)),o(S)}finally{d(!1)}};return l?u.jsx(du,{size:"large",message:"Criando sua conta..."}):u.jsxs("div",{className:"min-h-screen flex",children:[u.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-[#122463] via-[#162d7a] to-[#1a3891] items-center justify-center p-12 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,rgba(255,255,255,0.1)_0%,rgba(255,255,255,0)_100%)]"}),u.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(255,255,255,0.2) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),u.jsxs("div",{className:"max-w-lg relative z-10",children:[u.jsx("img",{src:"/logo-1280x256.png",alt:"SongMetrix",className:"w-full h-auto mb-8"}),u.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Inteligncia musical para sua rdio"})]})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Criar nova conta"}),u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Preencha os dados abaixo para se registrar"}),u.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-md text-blue-700 text-sm",children:[u.jsx("p",{className:"font-medium",children:"Perodo de avaliao gratuito!"}),u.jsx("p",{children:"Ao se cadastrar, voc ter 7 dias gratuitos para testar todas as funcionalidades do sistema."})]})]}),i&&u.jsx($c,{message:i,onClose:()=>o("")}),u.jsxs("form",{className:"space-y-4",onSubmit:m,children:[u.jsx("div",{children:u.jsx(Wh,{id:"email",value:t,onChange:x=>e(x.target.value),placeholder:"Email",required:!0})}),u.jsx("div",{children:u.jsx(Fc,{id:"password",value:r,onChange:x=>n(x.target.value),placeholder:"Senha",required:!0})}),u.jsx("div",{children:u.jsx(Fc,{id:"confirm-password",value:a,onChange:x=>s(x.target.value),placeholder:"Confirmar Senha",required:!0})}),u.jsx("div",{children:u.jsx(Fi,{type:"submit",fullWidth:!0,isLoading:l,children:"Criar conta"})})]}),u.jsx("div",{className:"text-sm text-center",children:u.jsx(Fh,{to:"/login",className:"font-medium text-[#1a3891] hover:text-[#162d7a]",children:"J tem uma conta? Faa login"})}),u.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[u.jsx("p",{children:"Requisitos da senha:"}),u.jsxs("ul",{className:"list-disc list-inside",children:[u.jsx("li",{children:"Mnimo de 6 caracteres"}),u.jsx("li",{children:"Pelo menos 1 caractere especial (!@#$%^&*)"}),u.jsx("li",{children:"Pelo menos 1 letra maiscula"})]})]})]})})]})}function Xb({children:t}){const{currentUser:e,userStatus:r,refreshUserStatus:n,loading:a}=br(),[s,i]=H.useState(!0),[o,l]=H.useState(null),[d,h]=H.useState(null),p=a0(),v=Vn(),m=H.useRef(!1),x=H.useRef(!1),b=H.useRef(0),S=()=>{try{const _=`sb-${"https://aylxcqaddelwxfukerhr.supabase.co".split("//")[1].split(".")[0]}-auth-token`;return!!sessionStorage.getItem(_)}catch{return!1}};return H.useEffect(()=>{if(m.current||x.current||a&&S())return;if(e&&r){m.current=!0,i(!1);return}let _=!0;return x.current=!0,(async()=>{try{if(!S()){_&&(i(!1),m.current=!0,x.current=!1,!p.pathname.startsWith("/login")&&!p.pathname.startsWith("/signup")&&!p.pathname.startsWith("/reset-password")&&v("/login",{replace:!0}));return}const{data:{session:F},error:X}=await ot.auth.getSession();if(X||!F){if(b.current<2&&(b.current++,await n(),_&&e)){m.current=!0,i(!1),x.current=!1;return}_&&(h("Falha ao restaurar sesso"),i(!1),m.current=!0,x.current=!1);return}e||await n(),_&&(i(!1),m.current=!0,x.current=!1)}catch{_&&(h("Erro ao verificar autenticao"),i(!1),m.current=!0,x.current=!1)}})(),()=>{_=!1}},[e,r,n,a,v,p.pathname]),H.useEffect(()=>{if(!e||o!==null||s)return;let _=!0;return(async()=>{var F;try{const X=((F=e.user_metadata)==null?void 0:F.favorite_radios)||[];_&&l(X.length>0)}catch{_&&l(!1)}})(),()=>{_=!1}},[e,o,s]),a||s&&S()?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(dn,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Carregando sua sesso..."})]})}):d?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-md",children:[u.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Erro de Autenticao"}),u.jsx("p",{className:"text-gray-700 mb-4",children:d}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Tentar Novamente"})]})}):!e&&!S()?u.jsx(Ea,{to:"/login",replace:!0}):r==="INATIVO"?u.jsx(Ea,{to:"/plans",state:{trialExpired:!0,message:"Seu perodo de avaliao gratuito expirou. Escolha um plano para continuar utilizando o sistema."},replace:!0}):r==="ADMIN"?u.jsx(u.Fragment,{children:t}):r==="ATIVO"||r==="TRIAL"?p.pathname.startsWith("/admin/")?u.jsx(Ea,{to:"/ranking",replace:!0}):o===!1&&p.pathname!=="/first-access"?u.jsx(Ea,{to:"/first-access",replace:!0}):u.jsx(u.Fragment,{children:t}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(dn,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Verificando permisses..."})]})})}var T0=(t=>(t.ADMIN="ADMIN",t.ATIVO="ATIVO",t.INATIVO="INATIVO",t.TRIAL="TRIAL",t))(T0||{});function oc({children:t}){const{currentUser:e}=br(),[r,n]=H.useState(null),[a,s]=H.useState(!0);return H.useEffect(()=>{(()=>{var l;if(!e){n(!1),s(!1);return}const o=(l=e.user_metadata)==null?void 0:l.status;n(o===T0.ADMIN),s(!1)})()},[e]),a?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx(dn,{className:"w-12 h-12 animate-spin text-blue-500"})}):e?r?u.jsx(u.Fragment,{children:t}):u.jsx(Ea,{to:"/ranking"}):u.jsx(Ea,{to:"/login"})}const Zb=({onSave:t})=>{const{currentUser:e,updateFavoriteRadios:r}=br(),[n,a]=H.useState([]),[s,i]=H.useState([]),[o,l]=H.useState(!0),[d,h]=H.useState(!1),[p,v]=H.useState(""),[m,x]=H.useState(!1),b=Vn();H.useEffect(()=>{var J;if(e){const ce=((J=e.user_metadata)==null?void 0:J.favorite_radios)||[];ce.length===0?x(!0):i(ce)}},[e]),H.useEffect(()=>{_()},[]);const S=async()=>{const{data:{session:J}}=await ot.auth.getSession();return{Authorization:`Bearer ${J==null?void 0:J.access_token}`,"Content-Type":"application/json"}},_=async()=>{try{l(!0),v("");const J=await S(),ce=new AbortController,K=setTimeout(()=>ce.abort(),15e3),D=await fetch("/api/radios/status",{headers:J,signal:ce.signal});if(clearTimeout(K),!D.ok)throw new Error(`Erro ao carregar rdios: ${D.status} ${D.statusText}`);const Y=await D.json();if(!Y||!Array.isArray(Y)||Y.length===0)throw new Error("Nenhuma rdio disponvel no momento.");a(Y),l(!1)}catch(J){console.error("Erro ao buscar rdios:",J),v("Erro ao carregar rdios. Por favor, tente novamente."),l(!1)}},O=J=>{i(ce=>ce.includes(J)?ce.filter(K=>K!==J):[...ce,J])},F=async()=>{if(s.length===0){v("Por favor, selecione pelo menos uma rdio");return}try{h(!0),v(""),await r(s),await t(s),m&&b("/dashboard")}catch(J){console.error("Erro ao salvar rdios favoritas:",J),v("No foi possvel salvar suas rdios favoritas. Por favor, tente novamente.")}finally{h(!1)}},X=()=>{_()};return o?u.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4",children:[u.jsx(dn,{className:"w-8 h-8 animate-spin text-blue-500"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando lista de rdios..."})]}):u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:u.jsxs("div",{className:"space-y-4",children:[m&&u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 p-3 rounded-lg mb-4",children:[u.jsx("p",{children:"Bem-vindo(a) ao Songmetrix! Para comear, selecione suas rdios favoritas."}),u.jsx("p",{className:"mt-2 text-sm",children:"Estas informaes sero usadas para personalizar seu dashboard."})]}),p&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/50 text-red-600 dark:text-red-400 p-3 rounded-lg flex justify-between items-center",children:[u.jsx("span",{children:p}),u.jsx("button",{onClick:X,className:"px-3 py-1 bg-red-100 dark:bg-red-800 rounded-md text-sm hover:bg-red-200 dark:hover:bg-red-700",children:"Tentar novamente"})]}),n.length===0?u.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:["Nenhuma rdio disponvel no momento.",u.jsx("button",{onClick:X,className:"block mx-auto mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Tentar novamente"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(J=>u.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[u.jsx("input",{type:"checkbox",id:J.name,checked:s.includes(J.name),onChange:()=>O(J.name),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("label",{htmlFor:J.name,className:"flex-1 text-sm font-medium text-gray-700 dark:text-gray-200 cursor-pointer",children:J.name}),u.jsx("div",{className:`w-2 h-2 rounded-full ${J.status==="ONLINE"?"bg-green-500":"bg-red-500"}`})]},J.name))}),u.jsx("div",{className:"flex justify-end mt-6",children:u.jsx("button",{onClick:F,disabled:s.length===0||d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:d?u.jsxs(u.Fragment,{children:[u.jsx(dn,{className:"w-4 h-4 animate-spin"}),"Salvando..."]}):"Salvar Favoritas"})})]})})};function Qb(){const{currentUser:t,updateFavoriteRadios:e}=br(),[r,n]=H.useState(null),[a,s]=H.useState(!0),[i,o]=H.useState("");Vn(),H.useEffect(()=>{(()=>{var h;if(t)try{const p=((h=t.user_metadata)==null?void 0:h.favorite_radios)||[];n(p.length>0)}catch(p){console.error("Erro ao verificar rdios favoritas:",p),o("Erro ao verificar rdios favoritas. Por favor, tente novamente.")}finally{s(!1)}})()},[t]);const l=async d=>{if(t)try{o(""),s(!0),await e(d),console.log("Rdios favoritas salvas com sucesso, redirecionando para dashboard..."),n(!0),window.location.href="/dashboard"}catch(h){console.error("Erro ao salvar rdios favoritas:",h),s(!1),o("No foi possvel salvar suas rdios favoritas. Por favor, tente novamente.")}};return t?a?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx(dn,{className:"w-12 h-12 animate-spin text-blue-500"})}):r?u.jsx(Ea,{to:"/dashboard"}):u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Bem-vindo ao SongMetrix"}),u.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300",children:"Para comear, selecione suas rdios favoritas"})]}),i&&u.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/50 text-red-600 dark:text-red-400 rounded-lg",children:i}),u.jsx(Zb,{onSave:l})]})}):u.jsx(Ea,{to:"/login"})}function e5(){const t=[{icon:u.jsx("svg",{className:"w-12 h-12 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),title:"Monitoramento Inteligente",description:"Acompanhe a programao musical das principais rdios brasileiras com atualizaes em tempo real"},{icon:u.jsx("svg",{className:"w-12 h-12 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"Insights Estratgicos",description:"Descubra tendncias e padres musicais com nossa anlise detalhada de dados"},{icon:u.jsx("svg",{className:"w-12 h-12 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),title:"Gesto Personalizada",description:"Ferramentas flexveis para criar relatrios e anlises adaptados s suas necessidades"}];return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-navy-800 to-navy-900 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(255,255,255,0.03) 1px, transparent 1px)",backgroundSize:"24px 24px"}}),u.jsx("div",{className:"absolute inset-0 overflow-hidden",children:u.jsxs("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full transform rotate-12",children:[u.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-transparent via-blue-400/10 to-transparent"}),u.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-transparent via-indigo-400/10 to-transparent mt-32"})]})}),u.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-16",children:[u.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-20",children:[u.jsx("img",{src:"/logo-1280x256.png",alt:"SongMetrix",className:"w-full max-w-2xl mx-auto h-auto mb-12 animate-fade-in"}),u.jsx("h1",{className:"text-5xl font-bold text-white mb-8 animate-fade-in",children:"Inteligncia musical para sua rdio"})]}),u.jsxs("div",{className:"max-w-4xl mx-auto bg-white/10 backdrop-blur-lg rounded-3xl p-12 mb-20 shadow-2xl transform hover:scale-[1.01] transition-all duration-300",children:[u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h2",{className:"text-4xl font-bold text-white mb-6 text-center",children:"Parabns! Voc ganhou 7 dias de teste grtis! "}),u.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-indigo-500/20 p-6 rounded-xl mb-8 border border-blue-400/30",children:[u.jsx("p",{className:"text-2xl text-white/90 mb-4 text-center",children:"Sua conta foi criada com sucesso! Para ativar seus 7 dias gratuitos, basta confirmar seu email."}),u.jsx("p",{className:"text-xl text-white/90 text-center font-semibold",children:" Verifique sua caixa de entrada agora!"})]}),u.jsx("p",{className:"text-xl text-white/80 mb-8 text-center",children:"Durante seu perodo de teste, voc ter acesso completo a todas as funcionalidades premium do SongMetrix. Descubra como nossa tecnologia exclusiva de monitoramento em tempo real pode revolucionar a programao musical da sua rdio! "}),u.jsx("div",{className:"text-center",children:u.jsx(Fh,{to:"/login",className:"inline-block bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-lg font-medium px-10 py-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:"Voltar para o Login"})})]}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-20",children:t.map((e,r)=>u.jsxs("div",{className:"bg-white/5 backdrop-blur-lg p-8 rounded-2xl shadow-xl hover:bg-white/10 transition-all duration-300 transform hover:scale-105",children:[u.jsx("div",{className:"mb-6",children:e.icon}),u.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:e.title}),u.jsx("p",{className:"text-lg text-white/70",children:e.description})]},r))}),u.jsxs("div",{className:"max-w-4xl mx-auto bg-white/5 backdrop-blur-lg rounded-2xl p-10",children:[u.jsx("h3",{className:"text-3xl font-semibold text-white mb-8 text-center",children:"Recursos Exclusivos"}),u.jsxs("ul",{className:"space-y-6",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("svg",{className:"w-8 h-8 text-green-400 mr-4 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{className:"text-white/90 text-xl",children:"Cobertura nacional com monitoramento de rdios em todas as regies"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("svg",{className:"w-8 h-8 text-green-400 mr-4 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{className:"text-white/90 text-xl",children:"Suporte especializado para otimizar sua programao musical"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("svg",{className:"w-8 h-8 text-green-400 mr-4 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{className:"text-white/90 text-xl",children:"Interface intuitiva e fcil de usar"})]})]})]}),u.jsx("div",{className:"max-w-4xl mx-auto mt-16 text-center",children:u.jsxs("div",{className:"p-6 bg-white/5 backdrop-blur-lg rounded-2xl",children:[u.jsx("h4",{className:"text-xl font-semibold text-white mb-4",children:"Precisa de ajuda?"}),u.jsx("p",{className:"text-white/80 mb-4",children:"Nossa equipe de suporte est pronta para ajudar voc"}),u.jsxs("a",{href:"mailto:suporte@songmetrix.com",className:"inline-flex items-center text-blue-400 hover:text-blue-300 transition-colors",children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"suporte@songmetrix.com"]})]})})]})]})}function C0(){const[t,e]=H.useState(()=>{const n=localStorage.getItem("theme");return n||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});return H.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),{theme:t,toggleTheme:()=>{e(n=>n==="light"?"dark":"light")}}}const t5={ATIVO:"ATIVO",INATIVO:"INATIVO",ADMIN:"ADMIN",TRIAL:"TRIAL"};function r5({currentView:t,onNavigate:e,onClose:r,isMobile:n}){const{userStatus:a,currentUser:s,logout:i}=br(),o=[{name:"Painel",icon:Fv,view:"dashboard"},{name:"Rdios",icon:Un,view:"radios"},{name:"Ranking",icon:$v,view:"ranking"},{name:"Tempo Real",icon:nu,view:"realtime"},{name:"Relatrios",icon:Bv,view:"relatorios"}],l=[{name:"Usurios",icon:Gm,view:"admin/users"},{name:"Abreviaes",icon:Uv,view:"admin/abbreviations"},{name:"Gerenciar Rdios",icon:Un,view:"admin/radios",subItems:[{name:"Streams",view:"admin/streams"},{name:"Relay",view:"admin/relay-streams"}]}],d=[...o,...a&&a===t5.ADMIN?l:[]],h=p=>{e(p),n&&r&&r()};return u.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-b from-navy-600 via-navy-700 to-navy-800",children:[n&&u.jsx("div",{className:"flex justify-end p-4",children:u.jsx("button",{onClick:r,className:"text-white/70 hover:text-white transition-colors","aria-label":"Fechar menu",children:u.jsx(Ec,{className:"w-6 h-6"})})}),u.jsx("div",{className:"px-6 py-4",children:u.jsx("img",{src:"/logo-1280x256.png",alt:"Logo",className:"h-8 w-auto object-contain"})}),u.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:d.map(p=>u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>h(p.view),className:`
                w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium
                transition-colors duration-150 ease-in-out
                ${t===p.view||p.subItems&&p.subItems.some(v=>t===v.view)?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}
                ${n?"text-base py-4":""}
              `,"aria-current":t===p.view?"page":void 0,children:[u.jsx(p.icon,{className:`${n?"w-6 h-6":"w-5 h-5"} flex-shrink-0`}),u.jsx("span",{className:"truncate",children:p.name})]}),p.subItems&&u.jsx("div",{className:"ml-8 mt-1 space-y-1",children:p.subItems.map(v=>u.jsx("button",{onClick:()=>h(v.view),className:`
                      w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm font-medium
                      transition-colors duration-150 ease-in-out
                      ${t===v.view?"bg-white/10 text-white":"text-white/70 hover:text-white hover:bg-white/5"}
                    `,children:u.jsx("span",{className:"truncate",children:v.name})},v.view))})]},p.view))}),n&&s&&u.jsx("div",{className:"relative z-20 px-4 py-4 mt-auto border-t border-white/10",children:u.jsxs("button",{onClick:async()=>{try{await i()}catch(p){console.error("Erro ao fazer logout:",p)}},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-white/70 hover:text-white hover:bg-white/5 text-base font-medium","aria-label":"Sair da conta",children:[u.jsx(Ym,{className:"w-6 h-6 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:"Sair"})]})})]})}const E0=({email:t,photoURL:e,size:r="md",className:n=""})=>{const a=t.charAt(0).toUpperCase(),s=o=>{const l=["bg-blue-500","bg-purple-500","bg-green-500","bg-yellow-500","bg-red-500","bg-indigo-500","bg-pink-500","bg-teal-500"],d=o.split("").reduce((h,p)=>p.charCodeAt(0)+((h<<5)-h),0);return l[Math.abs(d)%l.length]},i={sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg"};return e!=null&&e.includes("googleusercontent.com")?u.jsx("img",{src:e,alt:t,className:`rounded-full ${i[r]} ${n} object-cover`,referrerPolicy:"no-referrer"}):u.jsx("div",{className:`
      ${i[r]}
      ${s(t)}
      rounded-full
      flex
      items-center
      justify-center
      text-white
      font-semibold
      ${n}
    `,children:a})},n5=({currentView:t,onNavigate:e})=>{const{theme:r,toggleTheme:n}=C0(),{currentUser:a,logout:s}=br(),i=Vn(),[o,l]=H.useState(!1),[d,h]=H.useState(!1),[p,v]=H.useState(!1);H.useEffect(()=>{const _=()=>{l(window.innerWidth<1024)};return window.addEventListener("resize",_),_(),()=>window.removeEventListener("resize",_)},[]);const m=async()=>{try{await s(),i("/login")}catch(_){console.error("Erro ao fazer logout:",_)}},x=_=>{e(_),i(`/${_}`),o&&h(!1)},b=()=>t==="dashboard"?"Painel":t==="ranking"?"Ranking":t==="realtime"?"Tempo Real":t==="radios"?"Rdios":t==="relatorios"?"Relatrios":t==="spotify"?"Spotify Charts":t==="admin/users"?"Gerenciar Usurios":t==="admin/abbreviations"?"Abreviaes":t==="admin/streams"?"Gerenciar Streams":"",S=()=>{h(!1)};return u.jsxs("div",{className:`min-h-screen ${r==="dark"?"dark":""}`,children:[o&&d&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:S}),u.jsx("div",{className:`
          fixed inset-y-0 left-0 transform transition-transform duration-300 ease-in-out z-50
          ${o?"w-[85%] max-w-[300px]":"w-64"}
          ${o?d?"translate-x-0":"-translate-x-full":"translate-x-0"}
        `,children:u.jsx(r5,{currentView:t,onNavigate:x,onClose:S,isMobile:o})}),u.jsxs("div",{className:`
        flex-1 flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900
        ${o?"":"lg:ml-64"}
      `,children:[u.jsx("header",{className:"sticky top-0 z-30 h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:u.jsxs("div",{className:"h-full px-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[o&&u.jsx("button",{onClick:()=>h(!0),className:"p-2 text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:u.jsx(zv,{className:"w-6 h-6"})}),u.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white truncate",children:b()})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200",children:r==="dark"?u.jsx(qv,{className:"w-5 h-5"}):u.jsx(Wv,{className:"w-5 h-5"})}),a&&u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>v(!p),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[u.jsx(E0,{email:a.email||"",photoURL:a.photoURL,size:"sm"}),!o&&u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:a.email})]}),p&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"py-1",children:[o&&a.email&&u.jsx("div",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-200 border-b border-gray-200 dark:border-gray-700",children:a.email}),u.jsxs("button",{onClick:m,className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-red-600 dark:text-red-400",children:[u.jsx(Ym,{className:"w-4 h-4"}),"Sair"]})]})})]})]})]})}),u.jsx("main",{className:"flex-1 p-4",children:u.jsx(vy,{})})]})]})},a5=()=>{const t=["#1E3A8A","#3B82F6","#60A5FA","#38BDF8","#7DD3FC"];H.useState("favoritas");const[e,r]=H.useState([]),[n,a]=H.useState([]),[s,i]=H.useState(0),[o,l]=H.useState(0),[d,h]=H.useState([]),[p,v]=H.useState([]),[m,x]=H.useState([]),[b,S]=H.useState(!0),[_,O]=H.useState(null),[F,X]=H.useState(null),[J,ce]=H.useState(!1),{currentUser:K,userStatus:D,trialDaysRemaining:Y}=br(),R=Vn();console.log("Ambiente:","production"),H.useEffect(()=>{var ee;if(K){const de=((ee=K.user_metadata)==null?void 0:ee.favorite_radios)||[];if(de.length===0){R("/favorite-radios");return}r(de)}},[K,R]),H.useEffect(()=>{const ee=async(pe=!1)=>{if(!K){S(!1);return}if(e.length===0){S(!1);return}try{S(!0),O(null);const{data:{session:Le}}=await ot.auth.getSession(),N=Le==null?void 0:Le.access_token;if(!N)throw new Error("Sesso no encontrada");const $=e.map(Ee=>`radio=${encodeURIComponent(Ee)}`).join("&"),V="&limit_songs=5&limit_artists=5&limit_genres=5";console.log("Rdios favoritas:",e);const T=(Ee,ue,B=1e4)=>Promise.race([fetch(Ee,ue),new Promise((Ue,$e)=>setTimeout(()=>$e(new Error(`Timeout ao buscar ${Ee}`)),B))]),[q,z]=await Promise.all([T(`/api/dashboard?${$}${V}`,{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}},3e4).then(Ee=>{if(!Ee.ok)throw new Error("Falha ao carregar dados do dashboard");return Ee.json()}),T("/api/radios/status",{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}},3e4).then(Ee=>{if(!Ee.ok)throw new Error("Falha ao carregar status das rdios");return Ee.json()})]),Q=new Set(e),ne=z.filter(Ee=>Q.has(Ee.name));let Ae=ne;if(ne.length>5){const ue=Math.floor(Date.now()/864e5)%ne.length;Ae=[];for(let B=0;B<5;B++){const Ue=(ue+B)%ne.length;Ae.push(ne[Ue])}}const Ne=Ae.map(Ee=>({name:Ee.name,isOnline:Ee.status==="ONLINE"}));if(a(Ne),h(q.topSongs||[]),v(q.artistData||[]),q.genreData&&q.genreData.length>0){console.log("Dados de gnero recebidos:",q.genreData);const Ee=q.genreData.reduce((B,Ue)=>B+(Number(Ue.executions)||0),0),ue=q.genreData.map((B,Ue)=>{const $e=Number(B.executions)||0,je=Ee>0?Math.round($e/Ee*100):0;return{name:B.genre||"Desconhecido",value:je,executions:$e,color:t[Ue%t.length]}});console.log("Dados de gnero formatados:",ue),x(ue)}else console.log("Nenhum dado de gnero disponvel para exibio"),x([]);const fe=q.totalSongs||0,_e=q.songsPlayedToday||0;i(fe),l(_e),X(new Date)}catch(Le){console.error("Erro ao carregar dados:",Le),O("Falha ao carregar dados do dashboard")}finally{S(!1),ce(!1)}};e.length>0&&ee();const de=()=>{ce(!0),ee(!0)};window.refreshDashboard=de},[K,e]);const k=()=>{var ee;ce(!0),(ee=window.refreshDashboard)==null||ee.call(window)};if(e.length===0)return u.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:u.jsxs("div",{className:"text-center py-8",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sem rdios favoritas"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Para visualizar o dashboard, selecione suas rdios favoritas."}),u.jsx("button",{onClick:()=>R("/favorite-radios"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Selecionar Rdios Favoritas"})]})});if(b)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})});const A=({active:ee,payload:de})=>ee&&de&&de.length?u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border rounded shadow",children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:de[0].payload.artist}),u.jsxs("p",{className:"text-gray-700 dark:text-white",children:[de[0].value," execues"]})]}):null,E=()=>u.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-100 dark:bg-gray-700 rounded-lg animate-pulse",children:u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Carregando grfico..."})}),U=H.memo(({radios:ee})=>u.jsx("div",{className:"space-y-4",children:ee.length>0?ee.map((de,pe)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-900 dark:text-white",children:de.name}),u.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${de.isOnline?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:de.isOnline?"Online":"Offline"})]},pe)):u.jsx("div",{className:"text-center py-4",children:u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma rdio encontrada"})})})),Z=H.memo(({songs:ee})=>u.jsx("div",{className:"space-y-4",children:ee.length>0?ee.map((de,pe)=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:de.song_title}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:de.artist})]}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[de.executions,"x"]})]},pe)):u.jsx("div",{className:"text-center py-4",children:u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma msica encontrada"})})})),re=H.memo(({data:ee})=>u.jsx(H.Suspense,{fallback:u.jsx(E,{}),children:ee.length>0?u.jsx(rp,{width:"100%",height:"100%",children:u.jsxs(wy,{data:ee,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),u.jsx("stop",{offset:"100%",stopColor:"#1E3A8A"})]})}),u.jsx(xy,{strokeDasharray:"3 3",stroke:"#374151",className:"dark:stroke-gray-600"}),u.jsx(_y,{dataKey:"artist",stroke:"#374151",className:"dark:stroke-gray-300"}),u.jsx(Sy,{stroke:"#374151",className:"dark:stroke-gray-300"}),u.jsx(np,{content:u.jsx(A,{}),wrapperStyle:{backgroundColor:"var(--tooltip-bg, #fff)",color:"var(--tooltip-text, #000)",borderColor:"var(--tooltip-border, #ccc)"}}),u.jsx(ky,{dataKey:"executions",fill:"url(#barGradient)",className:"dark:opacity-90"})]})}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Sem dados disponveis"})})})),ae=H.memo(({data:ee,colors:de})=>u.jsx(H.Suspense,{fallback:u.jsx(E,{}),children:ee.length>0?u.jsx(rp,{width:"100%",height:"100%",children:u.jsxs(Ny,{children:[u.jsx(jy,{data:ee,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:({name:pe,value:Le,executions:N})=>`${pe}: ${Le}% `,className:"text-gray-900 dark:text-white",children:ee.map((pe,Le)=>u.jsx(Py,{fill:de[Le%de.length],className:"dark:opacity-90"},`cell-${Le}`))}),u.jsx(np,{formatter:(pe,Le,N)=>[`${pe}% (${N.payload.executions})`,Le],contentStyle:{backgroundColor:"var(--tooltip-bg, #fff)",color:"var(--tooltip-text, #000)",borderColor:"var(--tooltip-border, #ccc)"},wrapperStyle:{color:"currentColor"}})]})}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Sem dados disponveis"})})}));return u.jsxs("div",{className:"space-y-6",children:[D==="TRIAL"&&Y!==null&&u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900 border-l-4 border-blue-500 p-4 mb-4 rounded-md",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(nu,{className:"h-6 w-6 text-blue-500 dark:text-blue-400 mr-2"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Perodo de avaliao"}),u.jsx("p",{className:"text-blue-600 dark:text-blue-200",children:Y>1?`Voc tem ${Y} dias restantes no seu perodo de avaliao gratuito.`:Y===1?"Voc tem 1 dia restante no seu perodo de avaliao gratuito.":"Seu perodo de avaliao gratuito termina hoje."}),u.jsx("p",{className:"text-sm text-blue-500 dark:text-blue-300 mt-1",children:"Aps o trmino do perodo de avaliao, voc precisar assinar um plano para continuar usando o sistema."})]})]})}),u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),u.jsxs("div",{className:"flex items-center gap-2",children:[F&&u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Atualizado: ",F.toLocaleTimeString()]}),u.jsx("button",{onClick:k,disabled:J,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Atualizar dados",children:u.jsx(Jm,{className:`w-5 h-5 text-gray-600 dark:text-gray-300 ${J?"animate-spin":""}`})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[u.jsx(Un,{className:"w-5 h-5"}),"Rdios Favoritas"]}),u.jsx("span",{className:"text-yellow-500",children:""})]}),u.jsx(U,{radios:n}),n.length<e.length&&u.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["*Mostrando 5 de ",e.length," rdios favoritas. A exibio ser alternada diariamente."]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[u.jsx(Mh,{className:"w-5 h-5"}),"Top Msicas",u.jsxs("span",{className:"inline-block group relative cursor-help",children:[u.jsx(xc,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"invisible group-hover:visible absolute left-0 -bottom-1 transform translate-y-full w-60 px-2 py-1 bg-gray-700 text-white text-xs rounded-md z-10",children:"Informao baseada nas suas radios favoritas. Ultimos 30 dias."})]})]})}),u.jsx(Z,{songs:d})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:[u.jsx("div",{className:"mb-4",children:u.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:["Artistas Mais Tocados",u.jsxs("span",{className:"inline-block group relative cursor-help",children:[u.jsx(xc,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"invisible group-hover:visible absolute left-0 -bottom-1 transform translate-y-full w-60 px-2 py-1 bg-gray-700 text-white text-xs rounded-md z-10",children:"Informao baseada nas suas radios favoritas. Ultimos 30 dias."})]})]})}),u.jsx("div",{className:"h-80",children:u.jsx(re,{data:p})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm",children:[u.jsx("div",{className:"mb-4",children:u.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:["Distribuio por Gnero",u.jsxs("span",{className:"inline-block group relative cursor-help",children:[u.jsx(xc,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"invisible group-hover:visible absolute left-0 -bottom-1 transform translate-y-full w-60 px-2 py-1 bg-gray-700 text-white text-xs rounded-md z-10",children:"Informao baseada nas suas radios favoritas. Ultimos 30 dias."})]})]})}),u.jsx("div",{className:"h-80",children:u.jsx(ae,{data:m,colors:t})})]})]})]})};function Tt(t){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(t)}function s5(t,e){if(Tt(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0(t){var e=s5(t,"string");return Tt(e)=="symbol"?e:e+""}function Uo(t,e,r){return(e=I0(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xp(Object(r),!0).forEach(function(n){Uo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i5(t){if(Array.isArray(t))return t}function o5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,o=[],l=!0,d=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){d=!0,a=h}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw a}}return o}}function oh(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function D0(t,e){if(t){if(typeof t=="string")return oh(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oh(t,e):void 0}}function l5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ra(t,e){return i5(t)||o5(t,e)||D0(t,e)||l5()}function qa(t,e){if(t==null)return{};var r,n,a=Ay(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var c5=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function u5(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,o=t.inputValue,l=t.menuIsOpen,d=t.onChange,h=t.onInputChange,p=t.onMenuClose,v=t.onMenuOpen,m=t.value,x=qa(t,c5),b=H.useState(o!==void 0?o:r),S=Ra(b,2),_=S[0],O=S[1],F=H.useState(l!==void 0?l:a),X=Ra(F,2),J=X[0],ce=X[1],K=H.useState(m!==void 0?m:i),D=Ra(K,2),Y=D[0],R=D[1],k=H.useCallback(function(ee,de){typeof d=="function"&&d(ee,de),R(ee)},[d]),A=H.useCallback(function(ee,de){var pe;typeof h=="function"&&(pe=h(ee,de)),O(pe!==void 0?pe:ee)},[h]),E=H.useCallback(function(){typeof v=="function"&&v(),ce(!0)},[v]),U=H.useCallback(function(){typeof p=="function"&&p(),ce(!1)},[p]),Z=o!==void 0?o:_,re=l!==void 0?l:J,ae=m!==void 0?m:Y;return lt(lt({},x),{},{inputValue:Z,menuIsOpen:re,onChange:k,onInputChange:A,onMenuClose:U,onMenuOpen:E,value:ae})}function d5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I0(n.key),n)}}function h5(t,e,r){return e&&_p(t.prototype,e),r&&_p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function Bc(t){return Bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bc(t)}function M0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M0=function(){return!!t})()}function p5(t,e){if(e&&(Tt(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oy(t)}function m5(t){var e=M0();return function(){var r,n=Bc(t);if(e){var a=Bc(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p5(this,r)}}function g5(t){if(Array.isArray(t))return oh(t)}function v5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vh(t){return g5(t)||v5(t)||D0(t)||y5()}function b5(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function w5(t){const e=Km(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Xm(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,o=Dc(r)!==s||Dc(n)!==i;return o&&(r=s,n=i),{width:r,height:n,$:o}}function Hh(t){return Vv(t)?t:t.contextElement}function Sp(t){const e=Hh(t);if(!Xm(e))return Ic(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=w5(e);let i=(s?Dc(r.width):r.width)/n,o=(s?Dc(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const x5=Ic(0);function _5(t){const e=Kd(t);return!Gv()||!e.visualViewport?x5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function S5(t,e,r){return!1}function kp(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=Hh(t);let i=Ic(1);e&&(i=Sp(t));const o=S5()?_5(s):Ic(0);let l=(a.left+o.x)/i.x,d=(a.top+o.y)/i.y,h=a.width/i.x,p=a.height/i.y;if(s){const v=Kd(s),m=n;let x=v,b=ep(x);for(;b&&n&&m!==x;){const S=Sp(b),_=b.getBoundingClientRect(),O=Km(b),F=_.left+(b.clientLeft+parseFloat(O.paddingLeft))*S.x,X=_.top+(b.clientTop+parseFloat(O.paddingTop))*S.y;l*=S.x,d*=S.y,h*=S.x,p*=S.y,l+=F,d+=X,x=Kd(b),b=ep(x)}}return Hv({width:h,height:p,x:l,y:d})}function R0(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function k5(t,e){let r=null,n;const a=Yv(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function i(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const d=t.getBoundingClientRect(),{left:h,top:p,width:v,height:m}=d;if(o||e(),!v||!m)return;const x=tc(p),b=tc(a.clientWidth-(h+v)),S=tc(a.clientHeight-(p+m)),_=tc(h),F={rootMargin:-x+"px "+-b+"px "+-S+"px "+-_+"px",threshold:Jv(0,Kv(1,l))||1};let X=!0;function J(ce){const K=ce[0].intersectionRatio;if(K!==l){if(!X)return i();K?i(!1,K):n=setTimeout(()=>{i(!1,1e-7)},1e3)}K===1&&!R0(d,t.getBoundingClientRect())&&i(),X=!1}try{r=new IntersectionObserver(J,{...F,root:a.ownerDocument})}catch{r=new IntersectionObserver(J,F)}r.observe(t)}return i(!0),s}function N5(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,d=Hh(t),h=a||s?[...d?Qf(d):[],...Qf(e)]:[];h.forEach(_=>{a&&_.addEventListener("scroll",r,{passive:!0}),s&&_.addEventListener("resize",r)});const p=d&&o?k5(d,r):null;let v=-1,m=null;i&&(m=new ResizeObserver(_=>{let[O]=_;O&&O.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var F;(F=m)==null||F.observe(e)})),r()}),d&&!l&&m.observe(d),m.observe(e));let x,b=l?kp(t):null;l&&S();function S(){const _=kp(t);b&&!R0(b,_)&&r(),b=_,x=requestAnimationFrame(S)}return r(),()=>{var _;h.forEach(O=>{a&&O.removeEventListener("scroll",r),s&&O.removeEventListener("resize",r)}),p==null||p(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(x)}}var lh=H.useLayoutEffect,j5=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Uc=function(){};function P5(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function A5(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(P5(t,i)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var Np=function(e){return R5(e)?e.filter(Boolean):Tt(e)==="object"&&e!==null?[e]:[]},F0=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=qa(e,j5);return lt({},r)},ir=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,o=e.className;return{css:s(r,e),className:a(n??{},i(r,e),o)}};function hu(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function L5(t){return hu(t)?window.innerHeight:t.clientHeight}function $0(t){return hu(t)?window.pageYOffset:t.scrollTop}function zc(t,e){if(hu(t)){window.scrollTo(0,e);return}t.scrollTop=e}function O5(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function T5(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function lc(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Uc,a=$0(t),s=e-a,i=10,o=0;function l(){o+=i;var d=T5(o,a,s,r);zc(t,d),o<r?window.requestAnimationFrame(l):n(t)}l()}function jp(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?zc(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&zc(t,Math.max(e.offsetTop-a,0))}function C5(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Pp(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function E5(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var B0=!1,I5={get passive(){return B0=!0}},cc=typeof window<"u"?window:{};cc.addEventListener&&cc.removeEventListener&&(cc.addEventListener("p",Uc,I5),cc.removeEventListener("p",Uc,!1));var D5=B0;function M5(t){return t!=null}function R5(t){return Array.isArray(t)}function uc(t,e,r){return t?e:r}var F5=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var o=Ra(i,1),l=o[0];return!n.includes(l)});return s.reduce(function(i,o){var l=Ra(o,2),d=l[0],h=l[1];return i[d]=h,i},{})},$5=["children","innerProps"],B5=["children","innerProps"];function U5(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,o=t.controlHeight,l=O5(r),d={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return d;var h=l.getBoundingClientRect(),p=h.height,v=r.getBoundingClientRect(),m=v.bottom,x=v.height,b=v.top,S=r.offsetParent.getBoundingClientRect(),_=S.top,O=i?window.innerHeight:L5(l),F=$0(l),X=parseInt(getComputedStyle(r).marginBottom,10),J=parseInt(getComputedStyle(r).marginTop,10),ce=_-J,K=O-b,D=ce+F,Y=p-F-b,R=m-O+F+X,k=F+b-J,A=160;switch(a){case"auto":case"bottom":if(K>=x)return{placement:"bottom",maxHeight:e};if(Y>=x&&!i)return s&&lc(l,R,A),{placement:"bottom",maxHeight:e};if(!i&&Y>=n||i&&K>=n){s&&lc(l,R,A);var E=i?K-X:Y-X;return{placement:"bottom",maxHeight:E}}if(a==="auto"||i){var U=e,Z=i?ce:D;return Z>=n&&(U=Math.min(Z-X-o,e)),{placement:"top",maxHeight:U}}if(a==="bottom")return s&&zc(l,R),{placement:"bottom",maxHeight:e};break;case"top":if(ce>=x)return{placement:"top",maxHeight:e};if(D>=x&&!i)return s&&lc(l,k,A),{placement:"top",maxHeight:e};if(!i&&D>=n||i&&ce>=n){var re=e;return(!i&&D>=n||i&&ce>=n)&&(re=i?ce-J:D-J),s&&lc(l,k,A),{placement:"top",maxHeight:re}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return d}function z5(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var U0=function(e){return e==="auto"?"bottom":e},q5=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,o=s.spacing,l=s.colors;return lt((n={label:"menu"},Uo(n,z5(a),"100%"),Uo(n,"position","absolute"),Uo(n,"width","100%"),Uo(n,"zIndex",1),n),r?{}:{backgroundColor:l.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},z0=H.createContext(null),W5=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,d=H.useContext(z0)||{},h=d.setPortalPlacement,p=H.useRef(null),v=H.useState(a),m=Ra(v,2),x=m[0],b=m[1],S=H.useState(null),_=Ra(S,2),O=_[0],F=_[1],X=l.spacing.controlHeight;return lh(function(){var J=p.current;if(J){var ce=i==="fixed",K=o&&!ce,D=U5({maxHeight:a,menuEl:J,minHeight:n,placement:s,shouldScroll:K,isFixedPosition:ce,controlHeight:X});b(D.maxHeight),F(D.placement),h==null||h(D.placement)}},[a,s,i,o,n,h,X]),r({ref:p,placerProps:lt(lt({},e),{},{placement:O||U0(s),maxHeight:x})})},V5=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return st("div",gt({},ir(e,"menu",{menu:!0}),{ref:n},a),r)},H5=V5,Y5=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return lt({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},G5=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return st("div",gt({},ir(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},q0=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return lt({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},J5=q0,K5=q0,X5=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=qa(e,$5);return st("div",gt({},ir(lt(lt({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Z5=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=qa(e,B5);return st("div",gt({},ir(lt(lt({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},Q5=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},ew=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,o=e.menuPosition,l=H.useRef(null),d=H.useRef(null),h=H.useState(U0(i)),p=Ra(h,2),v=p[0],m=p[1],x=H.useMemo(function(){return{setPortalPlacement:m}},[]),b=H.useState(null),S=Ra(b,2),_=S[0],O=S[1],F=H.useCallback(function(){if(a){var K=C5(a),D=o==="fixed"?0:window.pageYOffset,Y=K[v]+D;(Y!==(_==null?void 0:_.offset)||K.left!==(_==null?void 0:_.rect.left)||K.width!==(_==null?void 0:_.rect.width))&&O({offset:Y,rect:K})}},[a,o,v,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);lh(function(){F()},[F]);var X=H.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),a&&l.current&&(d.current=N5(a,l.current,F,{elementResize:"ResizeObserver"in window}))},[a,F]);lh(function(){X()},[X]);var J=H.useCallback(function(K){l.current=K,X()},[X]);if(!r&&o!=="fixed"||!_)return null;var ce=st("div",gt({ref:J},ir(lt(lt({},e),{},{offset:_.offset,position:o,rect:_.rect}),"menuPortal",{"menu-portal":!0}),s),n);return st(z0.Provider,{value:x},r?r0.createPortal(ce,r):ce)},tw=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},rw=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return st("div",gt({},ir(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},nw=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return lt({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},aw=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return st("div",gt({},ir(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},sw=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},iw=function(e){var r=e.children,n=e.innerProps;return st("div",gt({},ir(e,"indicatorsContainer",{indicators:!0}),n),r)},Ap,ow=["size"],lw=["innerProps","isRtl","size"],cw={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},W0=function(e){var r=e.size,n=qa(e,ow);return st("svg",gt({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:cw},n))},Yh=function(e){return st(W0,gt({size:20},e),st("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},V0=function(e){return st(W0,gt({size:20},e),st("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},H0=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return lt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},uw=H0,dw=function(e){var r=e.children,n=e.innerProps;return st("div",gt({},ir(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||st(V0,null))},hw=H0,fw=function(e){var r=e.children,n=e.innerProps;return st("div",gt({},ir(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||st(Yh,null))},pw=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return lt({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},mw=function(e){var r=e.innerProps;return st("span",gt({},r,ir(e,"indicatorSeparator",{"indicator-separator":!0})))},gw=Xv(Ap||(Ap=b5([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),vw=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,o=s.spacing.baseUnit;return lt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:o*2})},kd=function(e){var r=e.delay,n=e.offset;return st("span",{css:Zm({animation:"".concat(gw," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},yw=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=qa(e,lw);return st("div",gt({},ir(lt(lt({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),st(kd,{delay:0,offset:n}),st(kd,{delay:160,offset:!0}),st(kd,{delay:320,offset:!n}))},bw=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,o=s.borderRadius,l=s.spacing;return lt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},ww=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,o=e.menuIsOpen;return st("div",gt({ref:s},ir(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":o}),i,{"aria-disabled":n||void 0}),r)},xw=ww,_w=["data"],Sw=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},kw=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,o=e.headingProps,l=e.innerProps,d=e.label,h=e.theme,p=e.selectProps;return st("div",gt({},ir(e,"group",{group:!0}),l),st(i,gt({},o,{selectProps:p,theme:h,getStyles:a,getClassNames:s,cx:n}),d),st("div",null,r))},Nw=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return lt({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},jw=function(e){var r=F0(e);r.data;var n=qa(r,_w);return st("div",gt({},ir(e,"groupHeading",{"group-heading":!0}),n))},Pw=kw,Aw=["innerRef","isDisabled","isHidden","inputClassName"],Lw=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,o=s.colors;return lt(lt({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},Ow),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:o.neutral80})},Y0={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Ow={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":lt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Y0)},Tw=function(e){return lt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Y0)},Cw=function(e){var r=e.cx,n=e.value,a=F0(e),s=a.innerRef,i=a.isDisabled,o=a.isHidden,l=a.inputClassName,d=qa(a,Aw);return st("div",gt({},ir(e,"input",{"input-container":!0}),{"data-value":n||""}),st("input",gt({className:r({input:!0},l),ref:s,style:Tw(o),disabled:i},d)))},Ew=Cw,Iw=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return lt({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},Dw=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return lt({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Mw=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,o=e.isFocused;return lt({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:o?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},G0=function(e){var r=e.children,n=e.innerProps;return st("div",n,r)},Rw=G0,Fw=G0;function $w(t){var e=t.children,r=t.innerProps;return st("div",gt({role:"button"},r),e||st(Yh,{size:14}))}var Bw=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,o=e.removeProps,l=e.selectProps,d=n.Container,h=n.Label,p=n.Remove;return st(d,{data:a,innerProps:lt(lt({},ir(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:l},st(h,{data:a,innerProps:lt({},ir(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},r),st(p,{data:a,innerProps:lt(lt({},ir(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},o),selectProps:l}))},Uw=Bw,zw=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,o=i.spacing,l=i.colors;return lt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?l.primary:a?l.primary25:"transparent",color:n?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?l.primary:l.primary50}})},qw=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,o=e.innerProps;return st("div",gt({},ir(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},o),r)},Ww=qw,Vw=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return lt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Hw=function(e){var r=e.children,n=e.innerProps;return st("div",gt({},ir(e,"placeholder",{placeholder:!0}),n),r)},Yw=Hw,Gw=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return lt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Jw=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return st("div",gt({},ir(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Kw=Jw,Xw={ClearIndicator:fw,Control:xw,DropdownIndicator:dw,DownChevron:V0,CrossIcon:Yh,Group:Pw,GroupHeading:jw,IndicatorsContainer:iw,IndicatorSeparator:mw,Input:Ew,LoadingIndicator:yw,Menu:H5,MenuList:G5,MenuPortal:ew,LoadingMessage:Z5,NoOptionsMessage:X5,MultiValue:Uw,MultiValueContainer:Rw,MultiValueLabel:Fw,MultiValueRemove:$w,Option:Ww,Placeholder:Yw,SelectContainer:rw,SingleValue:Kw,ValueContainer:aw},Zw=function(e){return lt(lt({},Xw),e.components)},Lp=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Qw(t,e){return!!(t===e||Lp(t)&&Lp(e))}function ex(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Qw(t[r],e[r]))return!1;return!0}function tx(t,e){e===void 0&&(e=ex);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var rx={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},nx=function(e){return st("span",gt({css:rx},e))},Op=nx,ax={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,o=e.selectValue,l=e.isDisabled,d=e.isSelected,h=e.isAppleDevice,p=function(b,S){return b&&b.length?"".concat(b.indexOf(S)+1," of ").concat(b.length):""};if(r==="value"&&o)return"value ".concat(i," focused, ").concat(p(o,n),".");if(r==="menu"&&h){var v=l?" disabled":"",m="".concat(d?" selected":"").concat(v);return"".concat(i).concat(m,", ").concat(p(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},sx=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,o=e.selectValue,l=e.selectProps,d=e.id,h=e.isAppleDevice,p=l.ariaLiveMessages,v=l.getOptionLabel,m=l.inputValue,x=l.isMulti,b=l.isOptionDisabled,S=l.isSearchable,_=l.menuIsOpen,O=l.options,F=l.screenReaderStatus,X=l.tabSelectsValue,J=l.isLoading,ce=l["aria-label"],K=l["aria-live"],D=H.useMemo(function(){return lt(lt({},ax),p||{})},[p]),Y=H.useMemo(function(){var Z="";if(r&&D.onChange){var re=r.option,ae=r.options,ee=r.removedValue,de=r.removedValues,pe=r.value,Le=function(Q){return Array.isArray(Q)?null:Q},N=ee||re||Le(pe),$=N?v(N):"",V=ae||de||void 0,T=V?V.map(v):[],q=lt({isDisabled:N&&b(N,o),label:$,labels:T},r);Z=D.onChange(q)}return Z},[r,D,b,o,v]),R=H.useMemo(function(){var Z="",re=n||a,ae=!!(n&&o&&o.includes(n));if(re&&D.onFocus){var ee={focused:re,label:v(re),isDisabled:b(re,o),isSelected:ae,options:s,context:re===n?"menu":"value",selectValue:o,isAppleDevice:h};Z=D.onFocus(ee)}return Z},[n,a,v,b,D,s,o,h]),k=H.useMemo(function(){var Z="";if(_&&O.length&&!J&&D.onFilter){var re=F({count:s.length});Z=D.onFilter({inputValue:m,resultsMessage:re})}return Z},[s,m,_,D,O,F,J]),A=(r==null?void 0:r.action)==="initial-input-focus",E=H.useMemo(function(){var Z="";if(D.guidance){var re=a?"value":_?"menu":"input";Z=D.guidance({"aria-label":ce,context:re,isDisabled:n&&b(n,o),isMulti:x,isSearchable:S,tabSelectsValue:X,isInitialFocus:A})}return Z},[ce,n,a,x,b,S,_,D,o,X,A]),U=st(H.Fragment,null,st("span",{id:"aria-selection"},Y),st("span",{id:"aria-focused"},R),st("span",{id:"aria-results"},k),st("span",{id:"aria-guidance"},E));return st(H.Fragment,null,st(Op,{id:d},A&&U),st(Op,{"aria-live":K,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!A&&U))},ix=sx,ch=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],ox=new RegExp("["+ch.map(function(t){return t.letters}).join("")+"]","g"),J0={};for(var Nd=0;Nd<ch.length;Nd++)for(var jd=ch[Nd],Pd=0;Pd<jd.letters.length;Pd++)J0[jd.letters[Pd]]=jd.base;var K0=function(e){return e.replace(ox,function(r){return J0[r]})},lx=tx(K0),Tp=function(e){return e.replace(/^\s+|\s+$/g,"")},cx=function(e){return"".concat(e.label," ").concat(e.value)},ux=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=lt({ignoreCase:!0,ignoreAccents:!0,stringify:cx,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,o=a.stringify,l=a.trim,d=a.matchFrom,h=l?Tp(n):n,p=l?Tp(o(r)):o(r);return s&&(h=h.toLowerCase(),p=p.toLowerCase()),i&&(h=lx(h),p=K0(p)),d==="start"?p.substr(0,h.length)===h:p.indexOf(h)>-1}},dx=["innerRef"];function hx(t){var e=t.innerRef,r=qa(t,dx),n=F5(r,"onExited","in","enter","exit","appear");return st("input",gt({ref:e},n,{css:Zm({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var fx=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function px(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=H.useRef(!1),o=H.useRef(!1),l=H.useRef(0),d=H.useRef(null),h=H.useCallback(function(S,_){if(d.current!==null){var O=d.current,F=O.scrollTop,X=O.scrollHeight,J=O.clientHeight,ce=d.current,K=_>0,D=X-J-F,Y=!1;D>_&&i.current&&(n&&n(S),i.current=!1),K&&o.current&&(s&&s(S),o.current=!1),K&&_>D?(r&&!i.current&&r(S),ce.scrollTop=X,Y=!0,i.current=!0):!K&&-_>F&&(a&&!o.current&&a(S),ce.scrollTop=0,Y=!0,o.current=!0),Y&&fx(S)}},[r,n,a,s]),p=H.useCallback(function(S){h(S,S.deltaY)},[h]),v=H.useCallback(function(S){l.current=S.changedTouches[0].clientY},[]),m=H.useCallback(function(S){var _=l.current-S.changedTouches[0].clientY;h(S,_)},[h]),x=H.useCallback(function(S){if(S){var _=D5?{passive:!1}:!1;S.addEventListener("wheel",p,_),S.addEventListener("touchstart",v,_),S.addEventListener("touchmove",m,_)}},[m,v,p]),b=H.useCallback(function(S){S&&(S.removeEventListener("wheel",p,!1),S.removeEventListener("touchstart",v,!1),S.removeEventListener("touchmove",m,!1))},[m,v,p]);return H.useEffect(function(){if(e){var S=d.current;return x(S),function(){b(S)}}},[e,x,b]),function(S){d.current=S}}var Cp=["boxSizing","height","overflow","paddingRight","position"],Ep={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Ip(t){t.cancelable&&t.preventDefault()}function Dp(t){t.stopPropagation()}function Mp(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function Rp(){return"ontouchstart"in window||navigator.maxTouchPoints}var Fp=!!(typeof window<"u"&&window.document&&window.document.createElement),Io=0,Ni={capture:!1,passive:!1};function mx(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=H.useRef({}),s=H.useRef(null),i=H.useCallback(function(l){if(Fp){var d=document.body,h=d&&d.style;if(n&&Cp.forEach(function(x){var b=h&&h[x];a.current[x]=b}),n&&Io<1){var p=parseInt(a.current.paddingRight,10)||0,v=document.body?document.body.clientWidth:0,m=window.innerWidth-v+p||0;Object.keys(Ep).forEach(function(x){var b=Ep[x];h&&(h[x]=b)}),h&&(h.paddingRight="".concat(m,"px"))}d&&Rp()&&(d.addEventListener("touchmove",Ip,Ni),l&&(l.addEventListener("touchstart",Mp,Ni),l.addEventListener("touchmove",Dp,Ni))),Io+=1}},[n]),o=H.useCallback(function(l){if(Fp){var d=document.body,h=d&&d.style;Io=Math.max(Io-1,0),n&&Io<1&&Cp.forEach(function(p){var v=a.current[p];h&&(h[p]=v)}),d&&Rp()&&(d.removeEventListener("touchmove",Ip,Ni),l&&(l.removeEventListener("touchstart",Mp,Ni),l.removeEventListener("touchmove",Dp,Ni)))}},[n]);return H.useEffect(function(){if(e){var l=s.current;return i(l),function(){o(l)}}},[e,i,o]),function(l){s.current=l}}var gx=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},vx={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function yx(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,o=t.onTopArrive,l=t.onTopLeave,d=px({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:o,onTopLeave:l}),h=mx({isEnabled:r}),p=function(m){d(m),h(m)};return st(H.Fragment,null,r&&st("div",{onClick:gx,css:vx}),e(p))}var bx={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},wx=function(e){var r=e.name,n=e.onFocus;return st("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:bx,value:"",onChange:function(){}})},xx=wx;function Gh(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function _x(){return Gh(/^iPhone/i)}function X0(){return Gh(/^Mac/i)}function Sx(){return Gh(/^iPad/i)||X0()&&navigator.maxTouchPoints>1}function kx(){return _x()||Sx()}function Nx(){return X0()||kx()}var jx=function(e){return e.label},Px=function(e){return e.label},Ax=function(e){return e.value},Lx=function(e){return!!e.isDisabled},Ox={clearIndicator:hw,container:tw,control:bw,dropdownIndicator:uw,group:Sw,groupHeading:Nw,indicatorsContainer:sw,indicatorSeparator:pw,input:Lw,loadingIndicator:vw,loadingMessage:K5,menu:q5,menuList:Y5,menuPortal:Q5,multiValue:Iw,multiValueLabel:Dw,multiValueRemove:Mw,noOptionsMessage:J5,option:zw,placeholder:Vw,singleValue:Gw,valueContainer:nw},Tx={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Cx=4,Z0=4,Ex=38,Ix=Z0*2,Dx={baseUnit:Z0,controlHeight:Ex,menuGutter:Ix},Ad={borderRadius:Cx,colors:Tx,spacing:Dx},Mx={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Pp(),captureMenuScroll:!Pp(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ux(),formatGroupLabel:jx,getOptionLabel:Px,getOptionValue:Ax,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Lx,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!E5(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function $p(t,e,r,n){var a=tg(t,e,r),s=rg(t,e,r),i=eg(t,e),o=qc(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:o,index:n}}function _c(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,o){return $p(t,i,e,o)}).filter(function(i){return Up(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=$p(t,r,e,n);return Up(t,s)?s:void 0}).filter(M5)}function Q0(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,Vh(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function Bp(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,Vh(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function Rx(t,e){return Q0(_c(t,e))}function Up(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,o=e.value;return(!ag(t)||!s)&&ng(t,{label:i,value:o,data:a},n)}function Fx(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function $x(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var Ld=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},eg=function(e,r){return e.getOptionLabel(r)},qc=function(e,r){return e.getOptionValue(r)};function tg(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function rg(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=qc(t,e);return r.some(function(a){return qc(t,a)===n})}function ng(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var ag=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},Bx=1,sg=function(t){f5(r,t);var e=m5(r);function r(n){var a;if(d5(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=Nx(),a.controlRef=null,a.getControlRef=function(l){a.controlRef=l},a.focusedOptionRef=null,a.getFocusedOptionRef=function(l){a.focusedOptionRef=l},a.menuListRef=null,a.getMenuListRef=function(l){a.menuListRef=l},a.inputRef=null,a.getInputRef=function(l){a.inputRef=l},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(l,d){var h=a.props,p=h.onChange,v=h.name;d.name=v,a.ariaOnChange(l,d),p(l,d)},a.setValue=function(l,d,h){var p=a.props,v=p.closeMenuOnSelect,m=p.isMulti,x=p.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:x}),v&&(a.setState({inputIsHiddenAfterUpdate:!m}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(l,{action:d,option:h})},a.selectOption=function(l){var d=a.props,h=d.blurInputOnSelect,p=d.isMulti,v=d.name,m=a.state.selectValue,x=p&&a.isOptionSelected(l,m),b=a.isOptionDisabled(l,m);if(x){var S=a.getOptionValue(l);a.setValue(m.filter(function(_){return a.getOptionValue(_)!==S}),"deselect-option",l)}else if(!b)p?a.setValue([].concat(Vh(m),[l]),"select-option",l):a.setValue(l,"select-option");else{a.ariaOnChange(l,{action:"select-option",option:l,name:v});return}h&&a.blurInput()},a.removeValue=function(l){var d=a.props.isMulti,h=a.state.selectValue,p=a.getOptionValue(l),v=h.filter(function(x){return a.getOptionValue(x)!==p}),m=uc(d,v,v[0]||null);a.onChange(m,{action:"remove-value",removedValue:l}),a.focusInput()},a.clearValue=function(){var l=a.state.selectValue;a.onChange(uc(a.props.isMulti,[],null),{action:"clear",removedValues:l})},a.popValue=function(){var l=a.props.isMulti,d=a.state.selectValue,h=d[d.length-1],p=d.slice(0,d.length-1),v=uc(l,p,p[0]||null);h&&a.onChange(v,{action:"pop-value",removedValue:h})},a.getFocusedOptionId=function(l){return Ld(a.state.focusableOptionsWithIds,l)},a.getFocusableOptionsWithIds=function(){return Bp(_c(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var l=arguments.length,d=new Array(l),h=0;h<l;h++)d[h]=arguments[h];return A5.apply(void 0,[a.props.classNamePrefix].concat(d))},a.getOptionLabel=function(l){return eg(a.props,l)},a.getOptionValue=function(l){return qc(a.props,l)},a.getStyles=function(l,d){var h=a.props.unstyled,p=Ox[l](d,h);p.boxSizing="border-box";var v=a.props.styles[l];return v?v(p,d):p},a.getClassNames=function(l,d){var h,p;return(h=(p=a.props.classNames)[l])===null||h===void 0?void 0:h.call(p,d)},a.getElementId=function(l){return"".concat(a.state.instancePrefix,"-").concat(l)},a.getComponents=function(){return Zw(a.props)},a.buildCategorizedOptions=function(){return _c(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return Q0(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(l,d){a.setState({ariaSelection:lt({value:l},d)})},a.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(l){a.blockOptionHover=!1},a.onControlMouseDown=function(l){if(!l.defaultPrevented){var d=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&a.onMenuClose():d&&a.openMenu("first"):(d&&(a.openAfterFocus=!0),a.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},a.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!a.props.isDisabled){var d=a.props,h=d.isMulti,p=d.menuIsOpen;a.focusInput(),p?(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()):a.openMenu("first"),l.preventDefault()}},a.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(a.clearValue(),l.preventDefault(),a.openAfterFocus=!1,l.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(l){typeof a.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&hu(l.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(l)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(l){var d=l.touches,h=d&&d.item(0);h&&(a.initialTouchX=h.clientX,a.initialTouchY=h.clientY,a.userIsDragging=!1)},a.onTouchMove=function(l){var d=l.touches,h=d&&d.item(0);if(h){var p=Math.abs(h.clientX-a.initialTouchX),v=Math.abs(h.clientY-a.initialTouchY),m=5;a.userIsDragging=p>m||v>m}},a.onTouchEnd=function(l){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(l.target)&&a.menuListRef&&!a.menuListRef.contains(l.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(l){a.userIsDragging||a.onControlMouseDown(l)},a.onClearIndicatorTouchEnd=function(l){a.userIsDragging||a.onClearIndicatorMouseDown(l)},a.onDropdownIndicatorTouchEnd=function(l){a.userIsDragging||a.onDropdownIndicatorMouseDown(l)},a.handleInputChange=function(l){var d=a.props.inputValue,h=l.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(h,{action:"input-change",prevInputValue:d}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(l){a.props.onFocus&&a.props.onFocus(l),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(l){var d=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(l),a.onInputChange("",{action:"input-blur",prevInputValue:d}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(l){if(!(a.blockOptionHover||a.state.focusedOption===l)){var d=a.getFocusableOptions(),h=d.indexOf(l);a.setState({focusedOption:l,focusedOptionId:h>-1?a.getFocusedOptionId(l):null})}},a.shouldHideSelectedOptions=function(){return ag(a.props)},a.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),a.focus()},a.onKeyDown=function(l){var d=a.props,h=d.isMulti,p=d.backspaceRemovesValue,v=d.escapeClearsValue,m=d.inputValue,x=d.isClearable,b=d.isDisabled,S=d.menuIsOpen,_=d.onKeyDown,O=d.tabSelectsValue,F=d.openMenuOnFocus,X=a.state,J=X.focusedOption,ce=X.focusedValue,K=X.selectValue;if(!b&&!(typeof _=="function"&&(_(l),l.defaultPrevented))){switch(a.blockOptionHover=!0,l.key){case"ArrowLeft":if(!h||m)return;a.focusValue("previous");break;case"ArrowRight":if(!h||m)return;a.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(ce)a.removeValue(ce);else{if(!p)return;h?a.popValue():x&&a.clearValue()}break;case"Tab":if(a.isComposing||l.shiftKey||!S||!O||!J||F&&a.isOptionSelected(J,K))return;a.selectOption(J);break;case"Enter":if(l.keyCode===229)break;if(S){if(!J||a.isComposing)return;a.selectOption(J);break}return;case"Escape":S?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:m}),a.onMenuClose()):x&&v&&a.clearValue();break;case" ":if(m)return;if(!S){a.openMenu("first");break}if(!J)return;a.selectOption(J);break;case"ArrowUp":S?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":S?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!S)return;a.focusOption("pageup");break;case"PageDown":if(!S)return;a.focusOption("pagedown");break;case"Home":if(!S)return;a.focusOption("first");break;case"End":if(!S)return;a.focusOption("last");break;default:return}l.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Bx),a.state.selectValue=Np(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),o=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[o],a.state.focusedOptionId=Ld(s,i[o])}return a}return h5(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&jp(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,o=s.menuIsOpen,l=this.state.isFocused;(l&&!i&&a.isDisabled||l&&o&&!a.menuIsOpen)&&this.focusInput(),l&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(jp(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,o=i.selectValue,l=i.isFocused,d=this.buildFocusableOptions(),h=a==="first"?0:d.length-1;if(!this.props.isMulti){var p=d.indexOf(o[0]);p>-1&&(h=p)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[h],focusedOptionId:this.getFocusedOptionId(d[h])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,o=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=i.indexOf(o);o||(l=-1);var d=i.length-1,h=-1;if(i.length){switch(a){case"previous":l===0?h=0:l===-1?h=d:h=l-1;break;case"next":l>-1&&l<d&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:i[h]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,d=o.indexOf(i);i||(d=-1),a==="up"?l=d>0?d-1:o.length-1:a==="down"?l=(d+1)%o.length:a==="pageup"?(l=d-s,l<0&&(l=0)):a==="pagedown"?(l=d+s,l>o.length-1&&(l=o.length-1)):a==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ad):lt(lt({},Ad),this.props.theme):Ad}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,o=this.getClassNames,l=this.getValue,d=this.selectOption,h=this.setValue,p=this.props,v=p.isMulti,m=p.isRtl,x=p.options,b=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:o,getValue:l,hasValue:b,isMulti:v,isRtl:m,options:x,selectOption:d,selectProps:p,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return tg(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return rg(this.props,a,s)}},{key:"filterOption",value:function(a,s){return ng(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:o})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,o=a.inputId,l=a.inputValue,d=a.tabIndex,h=a.form,p=a.menuIsOpen,v=a.required,m=this.getComponents(),x=m.Input,b=this.state,S=b.inputIsHidden,_=b.ariaSelection,O=this.commonProps,F=o||this.getElementId("input"),X=lt(lt(lt({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":v,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?H.createElement(x,gt({},O,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:F,innerRef:this.getInputRef,isDisabled:s,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:h,type:"text",value:l},X)):H.createElement(hx,gt({id:F,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Uc,onFocus:this.onInputFocus,disabled:s,tabIndex:d,inputMode:"none",form:h,value:""},X))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,o=s.MultiValueContainer,l=s.MultiValueLabel,d=s.MultiValueRemove,h=s.SingleValue,p=s.Placeholder,v=this.commonProps,m=this.props,x=m.controlShouldRenderValue,b=m.isDisabled,S=m.isMulti,_=m.inputValue,O=m.placeholder,F=this.state,X=F.selectValue,J=F.focusedValue,ce=F.isFocused;if(!this.hasValue()||!x)return _?null:H.createElement(p,gt({},v,{key:"placeholder",isDisabled:b,isFocused:ce,innerProps:{id:this.getElementId("placeholder")}}),O);if(S)return X.map(function(D,Y){var R=D===J,k="".concat(a.getOptionLabel(D),"-").concat(a.getOptionValue(D));return H.createElement(i,gt({},v,{components:{Container:o,Label:l,Remove:d},isFocused:R,isDisabled:b,key:k,index:Y,removeProps:{onClick:function(){return a.removeValue(D)},onTouchEnd:function(){return a.removeValue(D)},onMouseDown:function(E){E.preventDefault()}},data:D}),a.formatOptionLabel(D,"value"))});if(_)return null;var K=X[0];return H.createElement(h,gt({},v,{data:K,isDisabled:b}),this.formatOptionLabel(K,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,o=this.props,l=o.isDisabled,d=o.isLoading,h=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||d)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return H.createElement(s,gt({},i,{innerProps:p,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,o=this.props,l=o.isDisabled,d=o.isLoading,h=this.state.isFocused;if(!s||!d)return null;var p={"aria-hidden":"true"};return H.createElement(s,gt({},i,{innerProps:p,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var o=this.commonProps,l=this.props.isDisabled,d=this.state.isFocused;return H.createElement(i,gt({},o,{isDisabled:l,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return H.createElement(s,gt({},i,{innerProps:d,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,o=s.GroupHeading,l=s.Menu,d=s.MenuList,h=s.MenuPortal,p=s.LoadingMessage,v=s.NoOptionsMessage,m=s.Option,x=this.commonProps,b=this.state.focusedOption,S=this.props,_=S.captureMenuScroll,O=S.inputValue,F=S.isLoading,X=S.loadingMessage,J=S.minMenuHeight,ce=S.maxMenuHeight,K=S.menuIsOpen,D=S.menuPlacement,Y=S.menuPosition,R=S.menuPortalTarget,k=S.menuShouldBlockScroll,A=S.menuShouldScrollIntoView,E=S.noOptionsMessage,U=S.onMenuScrollToTop,Z=S.onMenuScrollToBottom;if(!K)return null;var re=function($,V){var T=$.type,q=$.data,z=$.isDisabled,Q=$.isSelected,ne=$.label,Ae=$.value,Ne=b===q,fe=z?void 0:function(){return a.onOptionHover(q)},_e=z?void 0:function(){return a.selectOption(q)},Ee="".concat(a.getElementId("option"),"-").concat(V),ue={id:Ee,onClick:_e,onMouseMove:fe,onMouseOver:fe,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:Q};return H.createElement(m,gt({},x,{innerProps:ue,data:q,isDisabled:z,isSelected:Q,key:Ee,label:ne,type:T,value:Ae,isFocused:Ne,innerRef:Ne?a.getFocusedOptionRef:void 0}),a.formatOptionLabel($.data,"menu"))},ae;if(this.hasOptions())ae=this.getCategorizedOptions().map(function(N){if(N.type==="group"){var $=N.data,V=N.options,T=N.index,q="".concat(a.getElementId("group"),"-").concat(T),z="".concat(q,"-heading");return H.createElement(i,gt({},x,{key:q,data:$,options:V,Heading:o,headingProps:{id:z,data:N.data},label:a.formatGroupLabel(N.data)}),N.options.map(function(Q){return re(Q,"".concat(T,"-").concat(Q.index))}))}else if(N.type==="option")return re(N,"".concat(N.index))});else if(F){var ee=X({inputValue:O});if(ee===null)return null;ae=H.createElement(p,x,ee)}else{var de=E({inputValue:O});if(de===null)return null;ae=H.createElement(v,x,de)}var pe={minMenuHeight:J,maxMenuHeight:ce,menuPlacement:D,menuPosition:Y,menuShouldScrollIntoView:A},Le=H.createElement(W5,gt({},x,pe),function(N){var $=N.ref,V=N.placerProps,T=V.placement,q=V.maxHeight;return H.createElement(l,gt({},x,pe,{innerRef:$,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:F,placement:T}),H.createElement(yx,{captureEnabled:_,onTopArrive:U,onBottomArrive:Z,lockEnabled:k},function(z){return H.createElement(d,gt({},x,{innerRef:function(ne){a.getMenuListRef(ne),z(ne)},innerProps:{role:"listbox","aria-multiselectable":x.isMulti,id:a.getElementId("listbox")},isLoading:F,maxHeight:q,focusedOption:b}),ae)}))});return R||Y==="fixed"?H.createElement(h,gt({},x,{appendTo:R,controlElement:this.controlRef,menuPlacement:D,menuPosition:Y}),Le):Le}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,o=s.isDisabled,l=s.isMulti,d=s.name,h=s.required,p=this.state.selectValue;if(h&&!this.hasValue()&&!o)return H.createElement(xx,{name:d,onFocus:this.onValueInputFocus});if(!(!d||o))if(l)if(i){var v=p.map(function(b){return a.getOptionValue(b)}).join(i);return H.createElement("input",{name:d,type:"hidden",value:v})}else{var m=p.length>0?p.map(function(b,S){return H.createElement("input",{key:"i-".concat(S),name:d,type:"hidden",value:a.getOptionValue(b)})}):H.createElement("input",{name:d,type:"hidden",value:""});return H.createElement("div",null,m)}else{var x=p[0]?this.getOptionValue(p[0]):"";return H.createElement("input",{name:d,type:"hidden",value:x})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,o=s.focusedOption,l=s.focusedValue,d=s.isFocused,h=s.selectValue,p=this.getFocusableOptions();return H.createElement(ix,gt({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:o,focusedValue:l,isFocused:d,selectValue:h,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,o=a.SelectContainer,l=a.ValueContainer,d=this.props,h=d.className,p=d.id,v=d.isDisabled,m=d.menuIsOpen,x=this.state.isFocused,b=this.commonProps=this.getCommonProps();return H.createElement(o,gt({},b,{className:h,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:v,isFocused:x}),this.renderLiveRegion(),H.createElement(s,gt({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:v,isFocused:x,menuIsOpen:m}),H.createElement(l,gt({},b,{isDisabled:v}),this.renderPlaceholderOrValue(),this.renderInput()),H.createElement(i,gt({},b,{isDisabled:v}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,o=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,d=s.ariaSelection,h=s.isFocused,p=s.prevWasFocused,v=s.instancePrefix,m=a.options,x=a.value,b=a.menuIsOpen,S=a.inputValue,_=a.isMulti,O=Np(x),F={};if(i&&(x!==i.value||m!==i.options||b!==i.menuIsOpen||S!==i.inputValue)){var X=b?Rx(a,O):[],J=b?Bp(_c(a,O),"".concat(v,"-option")):[],ce=o?Fx(s,O):null,K=$x(s,X),D=Ld(J,K);F={selectValue:O,focusedOption:K,focusedOptionId:D,focusableOptionsWithIds:J,focusedValue:ce,clearFocusValueOnUpdate:!1}}var Y=l!=null&&a!==i?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},R=d,k=h&&p;return h&&!k&&(R={value:uc(_,O,O[0]||null),options:O,action:"initial-input-focus"},k=!p),(d==null?void 0:d.action)==="initial-input-focus"&&(R=null),lt(lt(lt({},F),Y),{},{prevProps:a,ariaSelection:R,prevWasFocused:k})}}]),r}(H.Component);sg.defaultProps=Mx;var Ux=H.forwardRef(function(t,e){var r=u5(t);return H.createElement(sg,gt({ref:e},r))}),fs=Ux;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ig;function Ve(){return ig.apply(null,arguments)}function zx(t){ig=t}function qn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Us(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function It(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jh(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(It(t,e))return!1;return!0}function Xr(t){return t===void 0}function Ua(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function sl(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function og(t,e){var r=[],n,a=t.length;for(n=0;n<a;++n)r.push(e(t[n],n));return r}function ps(t,e){for(var r in e)It(e,r)&&(t[r]=e[r]);return It(e,"toString")&&(t.toString=e.toString),It(e,"valueOf")&&(t.valueOf=e.valueOf),t}function pa(t,e,r,n){return Og(t,e,r,n,!0).utc()}function qx(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function St(t){return t._pf==null&&(t._pf=qx()),t._pf}var uh;Array.prototype.some?uh=Array.prototype.some:uh=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function Kh(t){var e=null,r=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=St(t),r=uh.call(e.parsedDateParts,function(a){return a!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function fu(t){var e=pa(NaN);return t!=null?ps(St(e),t):St(e).userInvalidated=!0,e}var zp=Ve.momentProperties=[],Od=!1;function Xh(t,e){var r,n,a,s=zp.length;if(Xr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Xr(e._i)||(t._i=e._i),Xr(e._f)||(t._f=e._f),Xr(e._l)||(t._l=e._l),Xr(e._strict)||(t._strict=e._strict),Xr(e._tzm)||(t._tzm=e._tzm),Xr(e._isUTC)||(t._isUTC=e._isUTC),Xr(e._offset)||(t._offset=e._offset),Xr(e._pf)||(t._pf=St(e)),Xr(e._locale)||(t._locale=e._locale),s>0)for(r=0;r<s;r++)n=zp[r],a=e[n],Xr(a)||(t[n]=a);return t}function il(t){Xh(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Od===!1&&(Od=!0,Ve.updateOffset(this),Od=!1)}function Wn(t){return t instanceof il||t!=null&&t._isAMomentObject!=null}function lg(t){Ve.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Nn(t,e){var r=!0;return ps(function(){if(Ve.deprecationHandler!=null&&Ve.deprecationHandler(null,t),r){var n=[],a,s,i,o=arguments.length;for(s=0;s<o;s++){if(a="",typeof arguments[s]=="object"){a+=`
[`+s+"] ";for(i in arguments[0])It(arguments[0],i)&&(a+=i+": "+arguments[0][i]+", ");a=a.slice(0,-2)}else a=arguments[s];n.push(a)}lg(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var qp={};function cg(t,e){Ve.deprecationHandler!=null&&Ve.deprecationHandler(t,e),qp[t]||(lg(e),qp[t]=!0)}Ve.suppressDeprecationWarnings=!1;Ve.deprecationHandler=null;function ma(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Wx(t){var e,r;for(r in t)It(t,r)&&(e=t[r],ma(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function dh(t,e){var r=ps({},t),n;for(n in e)It(e,n)&&(Us(t[n])&&Us(e[n])?(r[n]={},ps(r[n],t[n]),ps(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)It(t,n)&&!It(e,n)&&Us(t[n])&&(r[n]=ps({},r[n]));return r}function Zh(t){t!=null&&this.set(t)}var hh;Object.keys?hh=Object.keys:hh=function(t){var e,r=[];for(e in t)It(t,e)&&r.push(e);return r};var Vx={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Hx(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return ma(n)?n.call(e,r):n}function fa(t,e,r){var n=""+Math.abs(t),a=e-n.length,s=t>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var Qh=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,dc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Td={},$i={};function nt(t,e,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),t&&($i[t]=a),e&&($i[e[0]]=function(){return fa(a.apply(this,arguments),e[1],e[2])}),r&&($i[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function Yx(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Gx(t){var e=t.match(Qh),r,n;for(r=0,n=e.length;r<n;r++)$i[e[r]]?e[r]=$i[e[r]]:e[r]=Yx(e[r]);return function(a){var s="",i;for(i=0;i<n;i++)s+=ma(e[i])?e[i].call(a,t):e[i];return s}}function Sc(t,e){return t.isValid()?(e=ug(e,t.localeData()),Td[e]=Td[e]||Gx(e),Td[e](t)):t.localeData().invalidDate()}function ug(t,e){var r=5;function n(a){return e.longDateFormat(a)||a}for(dc.lastIndex=0;r>=0&&dc.test(t);)t=t.replace(dc,n),dc.lastIndex=0,r-=1;return t}var Jx={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Kx(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(Qh).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var Xx="Invalid date";function Zx(){return this._invalidDate}var Qx="%d",e_=/\d{1,2}/;function t_(t){return this._ordinal.replace("%d",t)}var r_={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function n_(t,e,r,n){var a=this._relativeTime[r];return ma(a)?a(t,e,r,n):a.replace(/%d/i,t)}function a_(t,e){var r=this._relativeTime[t>0?"future":"past"];return ma(r)?r(e):r.replace(/%s/i,e)}var Wp={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function jn(t){return typeof t=="string"?Wp[t]||Wp[t.toLowerCase()]:void 0}function ef(t){var e={},r,n;for(n in t)It(t,n)&&(r=jn(n),r&&(e[r]=t[n]));return e}var s_={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function i_(t){var e=[],r;for(r in t)It(t,r)&&e.push({unit:r,priority:s_[r]});return e.sort(function(n,a){return n.priority-a.priority}),e}var dg=/\d/,hn=/\d\d/,hg=/\d{3}/,tf=/\d{4}/,pu=/[+-]?\d{6}/,Qt=/\d\d?/,fg=/\d\d\d\d?/,pg=/\d\d\d\d\d\d?/,mu=/\d{1,3}/,rf=/\d{1,4}/,gu=/[+-]?\d{1,6}/,Xi=/\d+/,vu=/[+-]?\d+/,o_=/Z|[+-]\d\d:?\d\d/gi,yu=/Z|[+-]\d\d(?::?\d\d)?/gi,l_=/[+-]?\d+(\.\d{1,3})?/,ol=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zi=/^[1-9]\d?/,nf=/^([1-9]\d|\d)/,Wc;Wc={};function Qe(t,e,r){Wc[t]=ma(e)?e:function(n,a){return n&&r?r:e}}function c_(t,e){return It(Wc,t)?Wc[t](e._strict,e._locale):new RegExp(u_(t))}function u_(t){return Fa(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,a,s){return r||n||a||s}))}function Fa(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Sn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function At(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=Sn(e)),r}var fh={};function Wt(t,e){var r,n=e,a;for(typeof t=="string"&&(t=[t]),Ua(e)&&(n=function(s,i){i[e]=At(s)}),a=t.length,r=0;r<a;r++)fh[t[r]]=n}function ll(t,e){Wt(t,function(r,n,a,s){a._w=a._w||{},e(r,a._w,a,s)})}function d_(t,e,r){e!=null&&It(fh,t)&&fh[t](e,r._a,r,t)}function bu(t){return t%4===0&&t%100!==0||t%400===0}var $r=0,Ia=1,sa=2,Sr=3,zn=4,Da=5,Bs=6,h_=7,f_=8;nt("Y",0,0,function(){var t=this.year();return t<=9999?fa(t,4):"+"+t});nt(0,["YY",2],0,function(){return this.year()%100});nt(0,["YYYY",4],0,"year");nt(0,["YYYYY",5],0,"year");nt(0,["YYYYYY",6,!0],0,"year");Qe("Y",vu);Qe("YY",Qt,hn);Qe("YYYY",rf,tf);Qe("YYYYY",gu,pu);Qe("YYYYYY",gu,pu);Wt(["YYYYY","YYYYYY"],$r);Wt("YYYY",function(t,e){e[$r]=t.length===2?Ve.parseTwoDigitYear(t):At(t)});Wt("YY",function(t,e){e[$r]=Ve.parseTwoDigitYear(t)});Wt("Y",function(t,e){e[$r]=parseInt(t,10)});function Wo(t){return bu(t)?366:365}Ve.parseTwoDigitYear=function(t){return At(t)+(At(t)>68?1900:2e3)};var mg=Qi("FullYear",!0);function p_(){return bu(this.year())}function Qi(t,e){return function(r){return r!=null?(gg(this,t,r),Ve.updateOffset(this,e),this):Jo(this,t)}}function Jo(t,e){if(!t.isValid())return NaN;var r=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function gg(t,e,r){var n,a,s,i,o;if(!(!t.isValid()||isNaN(r))){switch(n=t._d,a=t._isUTC,e){case"Milliseconds":return void(a?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(a?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(a?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(a?n.setUTCHours(r):n.setHours(r));case"Date":return void(a?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}s=r,i=t.month(),o=t.date(),o=o===29&&i===1&&!bu(s)?28:o,a?n.setUTCFullYear(s,i,o):n.setFullYear(s,i,o)}}function m_(t){return t=jn(t),ma(this[t])?this[t]():this}function g_(t,e){if(typeof t=="object"){t=ef(t);var r=i_(t),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](t[r[n].unit])}else if(t=jn(t),ma(this[t]))return this[t](e);return this}function v_(t,e){return(t%e+e)%e}var ur;Array.prototype.indexOf?ur=Array.prototype.indexOf:ur=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function af(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=v_(e,12);return t+=(e-r)/12,r===1?bu(t)?29:28:31-r%7%2}nt("M",["MM",2],"Mo",function(){return this.month()+1});nt("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});nt("MMMM",0,0,function(t){return this.localeData().months(this,t)});Qe("M",Qt,Zi);Qe("MM",Qt,hn);Qe("MMM",function(t,e){return e.monthsShortRegex(t)});Qe("MMMM",function(t,e){return e.monthsRegex(t)});Wt(["M","MM"],function(t,e){e[Ia]=At(t)-1});Wt(["MMM","MMMM"],function(t,e,r,n){var a=r._locale.monthsParse(t,n,r._strict);a!=null?e[Ia]=a:St(r).invalidMonth=t});var y_="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vg="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yg=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,b_=ol,w_=ol;function x_(t,e){return t?qn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||yg).test(e)?"format":"standalone"][t.month()]:qn(this._months)?this._months:this._months.standalone}function __(t,e){return t?qn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[yg.test(e)?"format":"standalone"][t.month()]:qn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function S_(t,e,r){var n,a,s,i=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=pa([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?e==="MMM"?(a=ur.call(this._shortMonthsParse,i),a!==-1?a:null):(a=ur.call(this._longMonthsParse,i),a!==-1?a:null):e==="MMM"?(a=ur.call(this._shortMonthsParse,i),a!==-1?a:(a=ur.call(this._longMonthsParse,i),a!==-1?a:null)):(a=ur.call(this._longMonthsParse,i),a!==-1?a:(a=ur.call(this._shortMonthsParse,i),a!==-1?a:null))}function k_(t,e,r){var n,a,s;if(this._monthsParseExact)return S_.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=pa([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function bg(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=At(e);else if(e=t.localeData().monthsParse(e),!Ua(e))return t}var r=e,n=t.date();return n=n<29?n:Math.min(n,af(t.year(),r)),t._isUTC?t._d.setUTCMonth(r,n):t._d.setMonth(r,n),t}function wg(t){return t!=null?(bg(this,t),Ve.updateOffset(this,!0),this):Jo(this,"Month")}function N_(){return af(this.year(),this.month())}function j_(t){return this._monthsParseExact?(It(this,"_monthsRegex")||xg.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(It(this,"_monthsShortRegex")||(this._monthsShortRegex=b_),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function P_(t){return this._monthsParseExact?(It(this,"_monthsRegex")||xg.call(this),t?this._monthsStrictRegex:this._monthsRegex):(It(this,"_monthsRegex")||(this._monthsRegex=w_),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function xg(){function t(l,d){return d.length-l.length}var e=[],r=[],n=[],a,s,i,o;for(a=0;a<12;a++)s=pa([2e3,a]),i=Fa(this.monthsShort(s,"")),o=Fa(this.months(s,"")),e.push(i),r.push(o),n.push(o),n.push(i);e.sort(t),r.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function A_(t,e,r,n,a,s,i){var o;return t<100&&t>=0?(o=new Date(t+400,e,r,n,a,s,i),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,r,n,a,s,i),o}function Ko(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Vc(t,e,r){var n=7+e-r,a=(7+Ko(t,0,n).getUTCDay()-e)%7;return-a+n-1}function _g(t,e,r,n,a){var s=(7+r-n)%7,i=Vc(t,n,a),o=1+7*(e-1)+s+i,l,d;return o<=0?(l=t-1,d=Wo(l)+o):o>Wo(t)?(l=t+1,d=o-Wo(t)):(l=t,d=o),{year:l,dayOfYear:d}}function Xo(t,e,r){var n=Vc(t.year(),e,r),a=Math.floor((t.dayOfYear()-n-1)/7)+1,s,i;return a<1?(i=t.year()-1,s=a+$a(i,e,r)):a>$a(t.year(),e,r)?(s=a-$a(t.year(),e,r),i=t.year()+1):(i=t.year(),s=a),{week:s,year:i}}function $a(t,e,r){var n=Vc(t,e,r),a=Vc(t+1,e,r);return(Wo(t)-n+a)/7}nt("w",["ww",2],"wo","week");nt("W",["WW",2],"Wo","isoWeek");Qe("w",Qt,Zi);Qe("ww",Qt,hn);Qe("W",Qt,Zi);Qe("WW",Qt,hn);ll(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=At(t)});function L_(t){return Xo(t,this._week.dow,this._week.doy).week}var O_={dow:0,doy:6};function T_(){return this._week.dow}function C_(){return this._week.doy}function E_(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function I_(t){var e=Xo(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}nt("d",0,"do","day");nt("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});nt("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});nt("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});nt("e",0,0,"weekday");nt("E",0,0,"isoWeekday");Qe("d",Qt);Qe("e",Qt);Qe("E",Qt);Qe("dd",function(t,e){return e.weekdaysMinRegex(t)});Qe("ddd",function(t,e){return e.weekdaysShortRegex(t)});Qe("dddd",function(t,e){return e.weekdaysRegex(t)});ll(["dd","ddd","dddd"],function(t,e,r,n){var a=r._locale.weekdaysParse(t,n,r._strict);a!=null?e.d=a:St(r).invalidWeekday=t});ll(["d","e","E"],function(t,e,r,n){e[n]=At(t)});function D_(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function M_(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function sf(t,e){return t.slice(e,7).concat(t.slice(0,e))}var R_="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Sg="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),F_="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$_=ol,B_=ol,U_=ol;function z_(t,e){var r=qn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?sf(r,this._week.dow):t?r[t.day()]:r}function q_(t){return t===!0?sf(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function W_(t){return t===!0?sf(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function V_(t,e,r){var n,a,s,i=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=pa([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?e==="dddd"?(a=ur.call(this._weekdaysParse,i),a!==-1?a:null):e==="ddd"?(a=ur.call(this._shortWeekdaysParse,i),a!==-1?a:null):(a=ur.call(this._minWeekdaysParse,i),a!==-1?a:null):e==="dddd"?(a=ur.call(this._weekdaysParse,i),a!==-1||(a=ur.call(this._shortWeekdaysParse,i),a!==-1)?a:(a=ur.call(this._minWeekdaysParse,i),a!==-1?a:null)):e==="ddd"?(a=ur.call(this._shortWeekdaysParse,i),a!==-1||(a=ur.call(this._weekdaysParse,i),a!==-1)?a:(a=ur.call(this._minWeekdaysParse,i),a!==-1?a:null)):(a=ur.call(this._minWeekdaysParse,i),a!==-1||(a=ur.call(this._weekdaysParse,i),a!==-1)?a:(a=ur.call(this._shortWeekdaysParse,i),a!==-1?a:null))}function H_(t,e,r){var n,a,s;if(this._weekdaysParseExact)return V_.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=pa([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function Y_(t){if(!this.isValid())return t!=null?this:NaN;var e=Jo(this,"Day");return t!=null?(t=D_(t,this.localeData()),this.add(t-e,"d")):e}function G_(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function J_(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=M_(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function K_(t){return this._weekdaysParseExact?(It(this,"_weekdaysRegex")||of.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(It(this,"_weekdaysRegex")||(this._weekdaysRegex=$_),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function X_(t){return this._weekdaysParseExact?(It(this,"_weekdaysRegex")||of.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(It(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=B_),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Z_(t){return this._weekdaysParseExact?(It(this,"_weekdaysRegex")||of.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(It(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=U_),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function of(){function t(h,p){return p.length-h.length}var e=[],r=[],n=[],a=[],s,i,o,l,d;for(s=0;s<7;s++)i=pa([2e3,1]).day(s),o=Fa(this.weekdaysMin(i,"")),l=Fa(this.weekdaysShort(i,"")),d=Fa(this.weekdays(i,"")),e.push(o),r.push(l),n.push(d),a.push(o),a.push(l),a.push(d);e.sort(t),r.sort(t),n.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function lf(){return this.hours()%12||12}function Q_(){return this.hours()||24}nt("H",["HH",2],0,"hour");nt("h",["hh",2],0,lf);nt("k",["kk",2],0,Q_);nt("hmm",0,0,function(){return""+lf.apply(this)+fa(this.minutes(),2)});nt("hmmss",0,0,function(){return""+lf.apply(this)+fa(this.minutes(),2)+fa(this.seconds(),2)});nt("Hmm",0,0,function(){return""+this.hours()+fa(this.minutes(),2)});nt("Hmmss",0,0,function(){return""+this.hours()+fa(this.minutes(),2)+fa(this.seconds(),2)});function kg(t,e){nt(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}kg("a",!0);kg("A",!1);function Ng(t,e){return e._meridiemParse}Qe("a",Ng);Qe("A",Ng);Qe("H",Qt,nf);Qe("h",Qt,Zi);Qe("k",Qt,Zi);Qe("HH",Qt,hn);Qe("hh",Qt,hn);Qe("kk",Qt,hn);Qe("hmm",fg);Qe("hmmss",pg);Qe("Hmm",fg);Qe("Hmmss",pg);Wt(["H","HH"],Sr);Wt(["k","kk"],function(t,e,r){var n=At(t);e[Sr]=n===24?0:n});Wt(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});Wt(["h","hh"],function(t,e,r){e[Sr]=At(t),St(r).bigHour=!0});Wt("hmm",function(t,e,r){var n=t.length-2;e[Sr]=At(t.substr(0,n)),e[zn]=At(t.substr(n)),St(r).bigHour=!0});Wt("hmmss",function(t,e,r){var n=t.length-4,a=t.length-2;e[Sr]=At(t.substr(0,n)),e[zn]=At(t.substr(n,2)),e[Da]=At(t.substr(a)),St(r).bigHour=!0});Wt("Hmm",function(t,e,r){var n=t.length-2;e[Sr]=At(t.substr(0,n)),e[zn]=At(t.substr(n))});Wt("Hmmss",function(t,e,r){var n=t.length-4,a=t.length-2;e[Sr]=At(t.substr(0,n)),e[zn]=At(t.substr(n,2)),e[Da]=At(t.substr(a))});function e4(t){return(t+"").toLowerCase().charAt(0)==="p"}var t4=/[ap]\.?m?\.?/i,r4=Qi("Hours",!0);function n4(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var jg={calendar:Vx,longDateFormat:Jx,invalidDate:Xx,ordinal:Qx,dayOfMonthOrdinalParse:e_,relativeTime:r_,months:y_,monthsShort:vg,week:O_,weekdays:R_,weekdaysMin:F_,weekdaysShort:Sg,meridiemParse:t4},er={},Do={},Zo;function a4(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function Vp(t){return t&&t.toLowerCase().replace("_","-")}function s4(t){for(var e=0,r,n,a,s;e<t.length;){for(s=Vp(t[e]).split("-"),r=s.length,n=Vp(t[e+1]),n=n?n.split("-"):null;r>0;){if(a=wu(s.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&a4(s,n)>=r-1)break;r--}e++}return Zo}function i4(t){return!!(t&&t.match("^[^/\\\\]*$"))}function wu(t){var e=null,r;if(er[t]===void 0&&typeof module<"u"&&module&&module.exports&&i4(t))try{e=Zo._abbr,r=require,r("./locale/"+t),vs(e)}catch{er[t]=null}return er[t]}function vs(t,e){var r;return t&&(Xr(e)?r=Wa(t):r=cf(t,e),r?Zo=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Zo._abbr}function cf(t,e){if(e!==null){var r,n=jg;if(e.abbr=t,er[t]!=null)cg("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=er[t]._config;else if(e.parentLocale!=null)if(er[e.parentLocale]!=null)n=er[e.parentLocale]._config;else if(r=wu(e.parentLocale),r!=null)n=r._config;else return Do[e.parentLocale]||(Do[e.parentLocale]=[]),Do[e.parentLocale].push({name:t,config:e}),null;return er[t]=new Zh(dh(n,e)),Do[t]&&Do[t].forEach(function(a){cf(a.name,a.config)}),vs(t),er[t]}else return delete er[t],null}function o4(t,e){if(e!=null){var r,n,a=jg;er[t]!=null&&er[t].parentLocale!=null?er[t].set(dh(er[t]._config,e)):(n=wu(t),n!=null&&(a=n._config),e=dh(a,e),n==null&&(e.abbr=t),r=new Zh(e),r.parentLocale=er[t],er[t]=r),vs(t)}else er[t]!=null&&(er[t].parentLocale!=null?(er[t]=er[t].parentLocale,t===vs()&&vs(t)):er[t]!=null&&delete er[t]);return er[t]}function Wa(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Zo;if(!qn(t)){if(e=wu(t),e)return e;t=[t]}return s4(t)}function l4(){return hh(er)}function uf(t){var e,r=t._a;return r&&St(t).overflow===-2&&(e=r[Ia]<0||r[Ia]>11?Ia:r[sa]<1||r[sa]>af(r[$r],r[Ia])?sa:r[Sr]<0||r[Sr]>24||r[Sr]===24&&(r[zn]!==0||r[Da]!==0||r[Bs]!==0)?Sr:r[zn]<0||r[zn]>59?zn:r[Da]<0||r[Da]>59?Da:r[Bs]<0||r[Bs]>999?Bs:-1,St(t)._overflowDayOfYear&&(e<$r||e>sa)&&(e=sa),St(t)._overflowWeeks&&e===-1&&(e=h_),St(t)._overflowWeekday&&e===-1&&(e=f_),St(t).overflow=e),t}var c4=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,u4=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,d4=/Z|[+-]\d\d(?::?\d\d)?/,hc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cd=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],h4=/^\/?Date\((-?\d+)/i,f4=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,p4={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Pg(t){var e,r,n=t._i,a=c4.exec(n)||u4.exec(n),s,i,o,l,d=hc.length,h=Cd.length;if(a){for(St(t).iso=!0,e=0,r=d;e<r;e++)if(hc[e][1].exec(a[1])){i=hc[e][0],s=hc[e][2]!==!1;break}if(i==null){t._isValid=!1;return}if(a[3]){for(e=0,r=h;e<r;e++)if(Cd[e][1].exec(a[3])){o=(a[2]||" ")+Cd[e][0];break}if(o==null){t._isValid=!1;return}}if(!s&&o!=null){t._isValid=!1;return}if(a[4])if(d4.exec(a[4]))l="Z";else{t._isValid=!1;return}t._f=i+(o||"")+(l||""),hf(t)}else t._isValid=!1}function m4(t,e,r,n,a,s){var i=[g4(t),vg.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return s&&i.push(parseInt(s,10)),i}function g4(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function v4(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function y4(t,e,r){if(t){var n=Sg.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(n!==a)return St(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function b4(t,e,r){if(t)return p4[t];if(e)return 0;var n=parseInt(r,10),a=n%100,s=(n-a)/100;return s*60+a}function Ag(t){var e=f4.exec(v4(t._i)),r;if(e){if(r=m4(e[4],e[3],e[2],e[5],e[6],e[7]),!y4(e[1],r,t))return;t._a=r,t._tzm=b4(e[8],e[9],e[10]),t._d=Ko.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),St(t).rfc2822=!0}else t._isValid=!1}function w4(t){var e=h4.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Pg(t),t._isValid===!1)delete t._isValid;else return;if(Ag(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Ve.createFromInputFallback(t)}Ve.createFromInputFallback=Nn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ci(t,e,r){return t??e??r}function x4(t){var e=new Date(Ve.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function df(t){var e,r,n=[],a,s,i;if(!t._d){for(a=x4(t),t._w&&t._a[sa]==null&&t._a[Ia]==null&&_4(t),t._dayOfYear!=null&&(i=Ci(t._a[$r],a[$r]),(t._dayOfYear>Wo(i)||t._dayOfYear===0)&&(St(t)._overflowDayOfYear=!0),r=Ko(i,0,t._dayOfYear),t._a[Ia]=r.getUTCMonth(),t._a[sa]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=a[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Sr]===24&&t._a[zn]===0&&t._a[Da]===0&&t._a[Bs]===0&&(t._nextDay=!0,t._a[Sr]=0),t._d=(t._useUTC?Ko:A_).apply(null,n),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Sr]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(St(t).weekdayMismatch=!0)}}function _4(t){var e,r,n,a,s,i,o,l,d;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,i=4,r=Ci(e.GG,t._a[$r],Xo(Zt(),1,4).year),n=Ci(e.W,1),a=Ci(e.E,1),(a<1||a>7)&&(l=!0)):(s=t._locale._week.dow,i=t._locale._week.doy,d=Xo(Zt(),s,i),r=Ci(e.gg,t._a[$r],d.year),n=Ci(e.w,d.week),e.d!=null?(a=e.d,(a<0||a>6)&&(l=!0)):e.e!=null?(a=e.e+s,(e.e<0||e.e>6)&&(l=!0)):a=s),n<1||n>$a(r,s,i)?St(t)._overflowWeeks=!0:l!=null?St(t)._overflowWeekday=!0:(o=_g(r,n,a,s,i),t._a[$r]=o.year,t._dayOfYear=o.dayOfYear)}Ve.ISO_8601=function(){};Ve.RFC_2822=function(){};function hf(t){if(t._f===Ve.ISO_8601){Pg(t);return}if(t._f===Ve.RFC_2822){Ag(t);return}t._a=[],St(t).empty=!0;var e=""+t._i,r,n,a,s,i,o=e.length,l=0,d,h;for(a=ug(t._f,t._locale).match(Qh)||[],h=a.length,r=0;r<h;r++)s=a[r],n=(e.match(c_(s,t))||[])[0],n&&(i=e.substr(0,e.indexOf(n)),i.length>0&&St(t).unusedInput.push(i),e=e.slice(e.indexOf(n)+n.length),l+=n.length),$i[s]?(n?St(t).empty=!1:St(t).unusedTokens.push(s),d_(s,n,t)):t._strict&&!n&&St(t).unusedTokens.push(s);St(t).charsLeftOver=o-l,e.length>0&&St(t).unusedInput.push(e),t._a[Sr]<=12&&St(t).bigHour===!0&&t._a[Sr]>0&&(St(t).bigHour=void 0),St(t).parsedDateParts=t._a.slice(0),St(t).meridiem=t._meridiem,t._a[Sr]=S4(t._locale,t._a[Sr],t._meridiem),d=St(t).era,d!==null&&(t._a[$r]=t._locale.erasConvertYear(d,t._a[$r])),df(t),uf(t)}function S4(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function k4(t){var e,r,n,a,s,i,o=!1,l=t._f.length;if(l===0){St(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<l;a++)s=0,i=!1,e=Xh({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[a],hf(e),Kh(e)&&(i=!0),s+=St(e).charsLeftOver,s+=St(e).unusedTokens.length*10,St(e).score=s,o?s<n&&(n=s,r=e):(n==null||s<n||i)&&(n=s,r=e,i&&(o=!0));ps(t,r||e)}function N4(t){if(!t._d){var e=ef(t._i),r=e.day===void 0?e.date:e.day;t._a=og([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),df(t)}}function j4(t){var e=new il(uf(Lg(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Lg(t){var e=t._i,r=t._f;return t._locale=t._locale||Wa(t._l),e===null||r===void 0&&e===""?fu({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Wn(e)?new il(uf(e)):(sl(e)?t._d=e:qn(r)?k4(t):r?hf(t):P4(t),Kh(t)||(t._d=null),t))}function P4(t){var e=t._i;Xr(e)?t._d=new Date(Ve.now()):sl(e)?t._d=new Date(e.valueOf()):typeof e=="string"?w4(t):qn(e)?(t._a=og(e.slice(0),function(r){return parseInt(r,10)}),df(t)):Us(e)?N4(t):Ua(e)?t._d=new Date(e):Ve.createFromInputFallback(t)}function Og(t,e,r,n,a){var s={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Us(t)&&Jh(t)||qn(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=r,s._i=t,s._f=e,s._strict=n,j4(s)}function Zt(t,e,r,n){return Og(t,e,r,n,!1)}var A4=Nn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Zt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:fu()}),L4=Nn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Zt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:fu()});function Tg(t,e){var r,n;if(e.length===1&&qn(e[0])&&(e=e[0]),!e.length)return Zt();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function O4(){var t=[].slice.call(arguments,0);return Tg("isBefore",t)}function T4(){var t=[].slice.call(arguments,0);return Tg("isAfter",t)}var C4=function(){return Date.now?Date.now():+new Date},Mo=["year","quarter","month","week","day","hour","minute","second","millisecond"];function E4(t){var e,r=!1,n,a=Mo.length;for(e in t)if(It(t,e)&&!(ur.call(Mo,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<a;++n)if(t[Mo[n]]){if(r)return!1;parseFloat(t[Mo[n]])!==At(t[Mo[n]])&&(r=!0)}return!0}function I4(){return this._isValid}function D4(){return Hn(NaN)}function xu(t){var e=ef(t),r=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||e.isoWeek||0,i=e.day||0,o=e.hour||0,l=e.minute||0,d=e.second||0,h=e.millisecond||0;this._isValid=E4(e),this._milliseconds=+h+d*1e3+l*6e4+o*1e3*60*60,this._days=+i+s*7,this._months=+a+n*3+r*12,this._data={},this._locale=Wa(),this._bubble()}function kc(t){return t instanceof xu}function ph(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function M4(t,e,r){var n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),s=0,i;for(i=0;i<n;i++)At(t[i])!==At(e[i])&&s++;return s+a}function Cg(t,e){nt(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+fa(~~(r/60),2)+e+fa(~~r%60,2)})}Cg("Z",":");Cg("ZZ","");Qe("Z",yu);Qe("ZZ",yu);Wt(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=ff(yu,t)});var R4=/([\+\-]|\d\d)/gi;function ff(t,e){var r=(e||"").match(t),n,a,s;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(R4)||["-",0,0],s=+(a[1]*60)+At(a[2]),s===0?0:a[0]==="+"?s:-s)}function pf(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(Wn(t)||sl(t)?t.valueOf():Zt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Ve.updateOffset(r,!1),r):Zt(t).local()}function mh(t){return-Math.round(t._d.getTimezoneOffset())}Ve.updateOffset=function(){};function F4(t,e,r){var n=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=ff(yu,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(a=mh(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==t&&(!e||this._changeInProgress?Dg(this,Hn(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ve.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:mh(this)}function $4(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function B4(t){return this.utcOffset(0,t)}function U4(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(mh(this),"m")),this}function z4(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=ff(o_,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function q4(t){return this.isValid()?(t=t?Zt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function W4(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function V4(){if(!Xr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Xh(t,this),t=Lg(t),t._a?(e=t._isUTC?pa(t._a):Zt(t._a),this._isDSTShifted=this.isValid()&&M4(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function H4(){return this.isValid()?!this._isUTC:!1}function Y4(){return this.isValid()?this._isUTC:!1}function Eg(){return this.isValid()?this._isUTC&&this._offset===0:!1}var G4=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,J4=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Hn(t,e){var r=t,n=null,a,s,i;return kc(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:Ua(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=G4.exec(t))?(a=n[1]==="-"?-1:1,r={y:0,d:At(n[sa])*a,h:At(n[Sr])*a,m:At(n[zn])*a,s:At(n[Da])*a,ms:At(ph(n[Bs]*1e3))*a}):(n=J4.exec(t))?(a=n[1]==="-"?-1:1,r={y:Es(n[2],a),M:Es(n[3],a),w:Es(n[4],a),d:Es(n[5],a),h:Es(n[6],a),m:Es(n[7],a),s:Es(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(i=K4(Zt(r.from),Zt(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),s=new xu(r),kc(t)&&It(t,"_locale")&&(s._locale=t._locale),kc(t)&&It(t,"_isValid")&&(s._isValid=t._isValid),s}Hn.fn=xu.prototype;Hn.invalid=D4;function Es(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function Hp(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function K4(t,e){var r;return t.isValid()&&e.isValid()?(e=pf(e,t),t.isBefore(e)?r=Hp(t,e):(r=Hp(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Ig(t,e){return function(r,n){var a,s;return n!==null&&!isNaN(+n)&&(cg(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),a=Hn(r,n),Dg(this,a,t),this}}function Dg(t,e,r,n){var a=e._milliseconds,s=ph(e._days),i=ph(e._months);t.isValid()&&(n=n??!0,i&&bg(t,Jo(t,"Month")+i*r),s&&gg(t,"Date",Jo(t,"Date")+s*r),a&&t._d.setTime(t._d.valueOf()+a*r),n&&Ve.updateOffset(t,s||i))}var X4=Ig(1,"add"),Z4=Ig(-1,"subtract");function Mg(t){return typeof t=="string"||t instanceof String}function Q4(t){return Wn(t)||sl(t)||Mg(t)||Ua(t)||t3(t)||e3(t)||t===null||t===void 0}function e3(t){var e=Us(t)&&!Jh(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,s,i=n.length;for(a=0;a<i;a+=1)s=n[a],r=r||It(t,s);return e&&r}function t3(t){var e=qn(t),r=!1;return e&&(r=t.filter(function(n){return!Ua(n)&&Mg(t)}).length===0),e&&r}function r3(t){var e=Us(t)&&!Jh(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,s;for(a=0;a<n.length;a+=1)s=n[a],r=r||It(t,s);return e&&r}function n3(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function a3(t,e){arguments.length===1&&(arguments[0]?Q4(arguments[0])?(t=arguments[0],e=void 0):r3(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||Zt(),n=pf(r,this).startOf("day"),a=Ve.calendarFormat(this,n)||"sameElse",s=e&&(ma(e[a])?e[a].call(this,r):e[a]);return this.format(s||this.localeData().calendar(a,this,Zt(r)))}function s3(){return new il(this)}function i3(t,e){var r=Wn(t)?t:Zt(t);return this.isValid()&&r.isValid()?(e=jn(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function o3(t,e){var r=Wn(t)?t:Zt(t);return this.isValid()&&r.isValid()?(e=jn(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function l3(t,e,r,n){var a=Wn(t)?t:Zt(t),s=Wn(e)?e:Zt(e);return this.isValid()&&a.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function c3(t,e){var r=Wn(t)?t:Zt(t),n;return this.isValid()&&r.isValid()?(e=jn(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function u3(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function d3(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function h3(t,e,r){var n,a,s;if(!this.isValid())return NaN;if(n=pf(t,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,e=jn(e),e){case"year":s=Nc(this,n)/12;break;case"month":s=Nc(this,n);break;case"quarter":s=Nc(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-a)/864e5;break;case"week":s=(this-n-a)/6048e5;break;default:s=this-n}return r?s:Sn(s)}function Nc(t,e){if(t.date()<e.date())return-Nc(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),a,s;return e-n<0?(a=t.clone().add(r-1,"months"),s=(e-n)/(n-a)):(a=t.clone().add(r+1,"months"),s=(e-n)/(a-n)),-(r+s)||0}Ve.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ve.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function f3(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function p3(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?Sc(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ma(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Sc(r,"Z")):Sc(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function m3(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,a,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(r+n+a+s)}function g3(t){t||(t=this.isUtc()?Ve.defaultFormatUtc:Ve.defaultFormat);var e=Sc(this,t);return this.localeData().postformat(e)}function v3(t,e){return this.isValid()&&(Wn(t)&&t.isValid()||Zt(t).isValid())?Hn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function y3(t){return this.from(Zt(),t)}function b3(t,e){return this.isValid()&&(Wn(t)&&t.isValid()||Zt(t).isValid())?Hn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function w3(t){return this.to(Zt(),t)}function Rg(t){var e;return t===void 0?this._locale._abbr:(e=Wa(t),e!=null&&(this._locale=e),this)}var Fg=Nn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function $g(){return this._locale}var Hc=1e3,Bi=60*Hc,Yc=60*Bi,Bg=(365*400+97)*24*Yc;function Ui(t,e){return(t%e+e)%e}function Ug(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-Bg:new Date(t,e,r).valueOf()}function zg(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-Bg:Date.UTC(t,e,r)}function x3(t){var e,r;if(t=jn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?zg:Ug,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ui(e+(this._isUTC?0:this.utcOffset()*Bi),Yc);break;case"minute":e=this._d.valueOf(),e-=Ui(e,Bi);break;case"second":e=this._d.valueOf(),e-=Ui(e,Hc);break}return this._d.setTime(e),Ve.updateOffset(this,!0),this}function _3(t){var e,r;if(t=jn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?zg:Ug,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Yc-Ui(e+(this._isUTC?0:this.utcOffset()*Bi),Yc)-1;break;case"minute":e=this._d.valueOf(),e+=Bi-Ui(e,Bi)-1;break;case"second":e=this._d.valueOf(),e+=Hc-Ui(e,Hc)-1;break}return this._d.setTime(e),Ve.updateOffset(this,!0),this}function S3(){return this._d.valueOf()-(this._offset||0)*6e4}function k3(){return Math.floor(this.valueOf()/1e3)}function N3(){return new Date(this.valueOf())}function j3(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function P3(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function A3(){return this.isValid()?this.toISOString():null}function L3(){return Kh(this)}function O3(){return ps({},St(this))}function T3(){return St(this).overflow}function C3(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}nt("N",0,0,"eraAbbr");nt("NN",0,0,"eraAbbr");nt("NNN",0,0,"eraAbbr");nt("NNNN",0,0,"eraName");nt("NNNNN",0,0,"eraNarrow");nt("y",["y",1],"yo","eraYear");nt("y",["yy",2],0,"eraYear");nt("y",["yyy",3],0,"eraYear");nt("y",["yyyy",4],0,"eraYear");Qe("N",mf);Qe("NN",mf);Qe("NNN",mf);Qe("NNNN",q3);Qe("NNNNN",W3);Wt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var a=r._locale.erasParse(t,n,r._strict);a?St(r).era=a:St(r).invalidEra=t});Qe("y",Xi);Qe("yy",Xi);Qe("yyy",Xi);Qe("yyyy",Xi);Qe("yo",V3);Wt(["y","yy","yyy","yyyy"],$r);Wt(["yo"],function(t,e,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[$r]=r._locale.eraYearOrdinalParse(t,a):e[$r]=parseInt(t,10)});function E3(t,e){var r,n,a,s=this._eras||Wa("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":a=Ve(s[r].since).startOf("day"),s[r].since=a.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":a=Ve(s[r].until).startOf("day").valueOf(),s[r].until=a.valueOf();break}}return s}function I3(t,e,r){var n,a,s=this.eras(),i,o,l;for(t=t.toUpperCase(),n=0,a=s.length;n<a;++n)if(i=s[n].name.toUpperCase(),o=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(o===t)return s[n];break;case"NNNN":if(i===t)return s[n];break;case"NNNNN":if(l===t)return s[n];break}else if([i,o,l].indexOf(t)>=0)return s[n]}function D3(t,e){var r=t.since<=t.until?1:-1;return e===void 0?Ve(t.since).year():Ve(t.since).year()+(e-t.offset)*r}function M3(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function R3(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function F3(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function $3(){var t,e,r,n,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(r=a[t].since<=a[t].until?1:-1,n=this.clone().startOf("day").valueOf(),a[t].since<=n&&n<=a[t].until||a[t].until<=n&&n<=a[t].since)return(this.year()-Ve(a[t].since).year())*r+a[t].offset;return this.year()}function B3(t){return It(this,"_erasNameRegex")||gf.call(this),t?this._erasNameRegex:this._erasRegex}function U3(t){return It(this,"_erasAbbrRegex")||gf.call(this),t?this._erasAbbrRegex:this._erasRegex}function z3(t){return It(this,"_erasNarrowRegex")||gf.call(this),t?this._erasNarrowRegex:this._erasRegex}function mf(t,e){return e.erasAbbrRegex(t)}function q3(t,e){return e.erasNameRegex(t)}function W3(t,e){return e.erasNarrowRegex(t)}function V3(t,e){return e._eraYearOrdinalRegex||Xi}function gf(){var t=[],e=[],r=[],n=[],a,s,i,o,l,d=this.eras();for(a=0,s=d.length;a<s;++a)i=Fa(d[a].name),o=Fa(d[a].abbr),l=Fa(d[a].narrow),e.push(i),t.push(o),r.push(l),n.push(i),n.push(o),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}nt(0,["gg",2],0,function(){return this.weekYear()%100});nt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function _u(t,e){nt(0,[t,t.length],0,e)}_u("gggg","weekYear");_u("ggggg","weekYear");_u("GGGG","isoWeekYear");_u("GGGGG","isoWeekYear");Qe("G",vu);Qe("g",vu);Qe("GG",Qt,hn);Qe("gg",Qt,hn);Qe("GGGG",rf,tf);Qe("gggg",rf,tf);Qe("GGGGG",gu,pu);Qe("ggggg",gu,pu);ll(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=At(t)});ll(["gg","GG"],function(t,e,r,n){e[n]=Ve.parseTwoDigitYear(t)});function H3(t){return qg.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Y3(t){return qg.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function G3(){return $a(this.year(),1,4)}function J3(){return $a(this.isoWeekYear(),1,4)}function K3(){var t=this.localeData()._week;return $a(this.year(),t.dow,t.doy)}function X3(){var t=this.localeData()._week;return $a(this.weekYear(),t.dow,t.doy)}function qg(t,e,r,n,a){var s;return t==null?Xo(this,n,a).year:(s=$a(t,n,a),e>s&&(e=s),Z3.call(this,t,e,r,n,a))}function Z3(t,e,r,n,a){var s=_g(t,e,r,n,a),i=Ko(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}nt("Q",0,"Qo","quarter");Qe("Q",dg);Wt("Q",function(t,e){e[Ia]=(At(t)-1)*3});function Q3(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}nt("D",["DD",2],"Do","date");Qe("D",Qt,Zi);Qe("DD",Qt,hn);Qe("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Wt(["D","DD"],sa);Wt("Do",function(t,e){e[sa]=At(t.match(Qt)[0])});var Wg=Qi("Date",!0);nt("DDD",["DDDD",3],"DDDo","dayOfYear");Qe("DDD",mu);Qe("DDDD",hg);Wt(["DDD","DDDD"],function(t,e,r){r._dayOfYear=At(t)});function eS(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}nt("m",["mm",2],0,"minute");Qe("m",Qt,nf);Qe("mm",Qt,hn);Wt(["m","mm"],zn);var tS=Qi("Minutes",!1);nt("s",["ss",2],0,"second");Qe("s",Qt,nf);Qe("ss",Qt,hn);Wt(["s","ss"],Da);var rS=Qi("Seconds",!1);nt("S",0,0,function(){return~~(this.millisecond()/100)});nt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});nt(0,["SSS",3],0,"millisecond");nt(0,["SSSS",4],0,function(){return this.millisecond()*10});nt(0,["SSSSS",5],0,function(){return this.millisecond()*100});nt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});nt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});nt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});nt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Qe("S",mu,dg);Qe("SS",mu,hn);Qe("SSS",mu,hg);var ms,Vg;for(ms="SSSS";ms.length<=9;ms+="S")Qe(ms,Xi);function nS(t,e){e[Bs]=At(("0."+t)*1e3)}for(ms="S";ms.length<=9;ms+="S")Wt(ms,nS);Vg=Qi("Milliseconds",!1);nt("z",0,0,"zoneAbbr");nt("zz",0,0,"zoneName");function aS(){return this._isUTC?"UTC":""}function sS(){return this._isUTC?"Coordinated Universal Time":""}var ze=il.prototype;ze.add=X4;ze.calendar=a3;ze.clone=s3;ze.diff=h3;ze.endOf=_3;ze.format=g3;ze.from=v3;ze.fromNow=y3;ze.to=b3;ze.toNow=w3;ze.get=m_;ze.invalidAt=T3;ze.isAfter=i3;ze.isBefore=o3;ze.isBetween=l3;ze.isSame=c3;ze.isSameOrAfter=u3;ze.isSameOrBefore=d3;ze.isValid=L3;ze.lang=Fg;ze.locale=Rg;ze.localeData=$g;ze.max=L4;ze.min=A4;ze.parsingFlags=O3;ze.set=g_;ze.startOf=x3;ze.subtract=Z4;ze.toArray=j3;ze.toObject=P3;ze.toDate=N3;ze.toISOString=p3;ze.inspect=m3;typeof Symbol<"u"&&Symbol.for!=null&&(ze[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ze.toJSON=A3;ze.toString=f3;ze.unix=k3;ze.valueOf=S3;ze.creationData=C3;ze.eraName=M3;ze.eraNarrow=R3;ze.eraAbbr=F3;ze.eraYear=$3;ze.year=mg;ze.isLeapYear=p_;ze.weekYear=H3;ze.isoWeekYear=Y3;ze.quarter=ze.quarters=Q3;ze.month=wg;ze.daysInMonth=N_;ze.week=ze.weeks=E_;ze.isoWeek=ze.isoWeeks=I_;ze.weeksInYear=K3;ze.weeksInWeekYear=X3;ze.isoWeeksInYear=G3;ze.isoWeeksInISOWeekYear=J3;ze.date=Wg;ze.day=ze.days=Y_;ze.weekday=G_;ze.isoWeekday=J_;ze.dayOfYear=eS;ze.hour=ze.hours=r4;ze.minute=ze.minutes=tS;ze.second=ze.seconds=rS;ze.millisecond=ze.milliseconds=Vg;ze.utcOffset=F4;ze.utc=B4;ze.local=U4;ze.parseZone=z4;ze.hasAlignedHourOffset=q4;ze.isDST=W4;ze.isLocal=H4;ze.isUtcOffset=Y4;ze.isUtc=Eg;ze.isUTC=Eg;ze.zoneAbbr=aS;ze.zoneName=sS;ze.dates=Nn("dates accessor is deprecated. Use date instead.",Wg);ze.months=Nn("months accessor is deprecated. Use month instead",wg);ze.years=Nn("years accessor is deprecated. Use year instead",mg);ze.zone=Nn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",$4);ze.isDSTShifted=Nn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",V4);function iS(t){return Zt(t*1e3)}function oS(){return Zt.apply(null,arguments).parseZone()}function Hg(t){return t}var Dt=Zh.prototype;Dt.calendar=Hx;Dt.longDateFormat=Kx;Dt.invalidDate=Zx;Dt.ordinal=t_;Dt.preparse=Hg;Dt.postformat=Hg;Dt.relativeTime=n_;Dt.pastFuture=a_;Dt.set=Wx;Dt.eras=E3;Dt.erasParse=I3;Dt.erasConvertYear=D3;Dt.erasAbbrRegex=U3;Dt.erasNameRegex=B3;Dt.erasNarrowRegex=z3;Dt.months=x_;Dt.monthsShort=__;Dt.monthsParse=k_;Dt.monthsRegex=P_;Dt.monthsShortRegex=j_;Dt.week=L_;Dt.firstDayOfYear=C_;Dt.firstDayOfWeek=T_;Dt.weekdays=z_;Dt.weekdaysMin=W_;Dt.weekdaysShort=q_;Dt.weekdaysParse=H_;Dt.weekdaysRegex=K_;Dt.weekdaysShortRegex=X_;Dt.weekdaysMinRegex=Z_;Dt.isPM=e4;Dt.meridiem=n4;function Gc(t,e,r,n){var a=Wa(),s=pa().set(n,e);return a[r](s,t)}function Yg(t,e,r){if(Ua(t)&&(e=t,t=void 0),t=t||"",e!=null)return Gc(t,e,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=Gc(t,n,r,"month");return a}function vf(t,e,r,n){typeof t=="boolean"?(Ua(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,Ua(e)&&(r=e,e=void 0),e=e||"");var a=Wa(),s=t?a._week.dow:0,i,o=[];if(r!=null)return Gc(e,(r+s)%7,n,"day");for(i=0;i<7;i++)o[i]=Gc(e,(i+s)%7,n,"day");return o}function lS(t,e){return Yg(t,e,"months")}function cS(t,e){return Yg(t,e,"monthsShort")}function uS(t,e,r){return vf(t,e,r,"weekdays")}function dS(t,e,r){return vf(t,e,r,"weekdaysShort")}function hS(t,e,r){return vf(t,e,r,"weekdaysMin")}vs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=At(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});Ve.lang=Nn("moment.lang is deprecated. Use moment.locale instead.",vs);Ve.langData=Nn("moment.langData is deprecated. Use moment.localeData instead.",Wa);var Aa=Math.abs;function fS(){var t=this._data;return this._milliseconds=Aa(this._milliseconds),this._days=Aa(this._days),this._months=Aa(this._months),t.milliseconds=Aa(t.milliseconds),t.seconds=Aa(t.seconds),t.minutes=Aa(t.minutes),t.hours=Aa(t.hours),t.months=Aa(t.months),t.years=Aa(t.years),this}function Gg(t,e,r,n){var a=Hn(e,r);return t._milliseconds+=n*a._milliseconds,t._days+=n*a._days,t._months+=n*a._months,t._bubble()}function pS(t,e){return Gg(this,t,e,1)}function mS(t,e){return Gg(this,t,e,-1)}function Yp(t){return t<0?Math.floor(t):Math.ceil(t)}function gS(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,a,s,i,o,l;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=Yp(gh(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,a=Sn(t/1e3),n.seconds=a%60,s=Sn(a/60),n.minutes=s%60,i=Sn(s/60),n.hours=i%24,e+=Sn(i/24),l=Sn(Jg(e)),r+=l,e-=Yp(gh(l)),o=Sn(r/12),r%=12,n.days=e,n.months=r,n.years=o,this}function Jg(t){return t*4800/146097}function gh(t){return t*146097/4800}function vS(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=jn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+Jg(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(gh(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function Va(t){return function(){return this.as(t)}}var Kg=Va("ms"),yS=Va("s"),bS=Va("m"),wS=Va("h"),xS=Va("d"),_S=Va("w"),SS=Va("M"),kS=Va("Q"),NS=Va("y"),jS=Kg;function PS(){return Hn(this)}function AS(t){return t=jn(t),this.isValid()?this[t+"s"]():NaN}function Vs(t){return function(){return this.isValid()?this._data[t]:NaN}}var LS=Vs("milliseconds"),OS=Vs("seconds"),TS=Vs("minutes"),CS=Vs("hours"),ES=Vs("days"),IS=Vs("months"),DS=Vs("years");function MS(){return Sn(this.days()/7)}var Ta=Math.round,Di={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function RS(t,e,r,n,a){return a.relativeTime(e||1,!!r,t,n)}function FS(t,e,r,n){var a=Hn(t).abs(),s=Ta(a.as("s")),i=Ta(a.as("m")),o=Ta(a.as("h")),l=Ta(a.as("d")),d=Ta(a.as("M")),h=Ta(a.as("w")),p=Ta(a.as("y")),v=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||i<=1&&["m"]||i<r.m&&["mm",i]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(v=v||h<=1&&["w"]||h<r.w&&["ww",h]),v=v||d<=1&&["M"]||d<r.M&&["MM",d]||p<=1&&["y"]||["yy",p],v[2]=e,v[3]=+t>0,v[4]=n,RS.apply(null,v)}function $S(t){return t===void 0?Ta:typeof t=="function"?(Ta=t,!0):!1}function BS(t,e){return Di[t]===void 0?!1:e===void 0?Di[t]:(Di[t]=e,t==="s"&&(Di.ss=e-1),!0)}function US(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Di,a,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},Di,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),a=this.localeData(),s=FS(this,!r,n,a),r&&(s=a.pastFuture(+this,s)),a.postformat(s)}var Ed=Math.abs;function ji(t){return(t>0)-(t<0)||+t}function Su(){if(!this.isValid())return this.localeData().invalidDate();var t=Ed(this._milliseconds)/1e3,e=Ed(this._days),r=Ed(this._months),n,a,s,i,o=this.asSeconds(),l,d,h,p;return o?(n=Sn(t/60),a=Sn(n/60),t%=60,n%=60,s=Sn(r/12),r%=12,i=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",d=ji(this._months)!==ji(o)?"-":"",h=ji(this._days)!==ji(o)?"-":"",p=ji(this._milliseconds)!==ji(o)?"-":"",l+"P"+(s?d+s+"Y":"")+(r?d+r+"M":"")+(e?h+e+"D":"")+(a||n||t?"T":"")+(a?p+a+"H":"")+(n?p+n+"M":"")+(t?p+i+"S":"")):"P0D"}var Ct=xu.prototype;Ct.isValid=I4;Ct.abs=fS;Ct.add=pS;Ct.subtract=mS;Ct.as=vS;Ct.asMilliseconds=Kg;Ct.asSeconds=yS;Ct.asMinutes=bS;Ct.asHours=wS;Ct.asDays=xS;Ct.asWeeks=_S;Ct.asMonths=SS;Ct.asQuarters=kS;Ct.asYears=NS;Ct.valueOf=jS;Ct._bubble=gS;Ct.clone=PS;Ct.get=AS;Ct.milliseconds=LS;Ct.seconds=OS;Ct.minutes=TS;Ct.hours=CS;Ct.days=ES;Ct.weeks=MS;Ct.months=IS;Ct.years=DS;Ct.humanize=US;Ct.toISOString=Su;Ct.toString=Su;Ct.toJSON=Su;Ct.locale=Rg;Ct.localeData=$g;Ct.toIsoString=Nn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Su);Ct.lang=Fg;nt("X",0,0,"unix");nt("x",0,0,"valueOf");Qe("x",vu);Qe("X",l_);Wt("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});Wt("x",function(t,e,r){r._d=new Date(At(t))});//! moment.js
Ve.version="2.30.1";zx(Zt);Ve.fn=ze;Ve.min=O4;Ve.max=T4;Ve.now=C4;Ve.utc=pa;Ve.unix=iS;Ve.months=lS;Ve.isDate=sl;Ve.locale=vs;Ve.invalid=fu;Ve.duration=Hn;Ve.isMoment=Wn;Ve.weekdays=uS;Ve.parseZone=oS;Ve.localeData=Wa;Ve.isDuration=kc;Ve.monthsShort=cS;Ve.weekdaysMin=hS;Ve.defineLocale=cf;Ve.updateLocale=o4;Ve.locales=l4;Ve.weekdaysShort=dS;Ve.normalizeUnits=jn;Ve.relativeTimeRounding=$S;Ve.relativeTimeThreshold=BS;Ve.calendarFormat=n3;Ve.prototype=ze;Ve.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Xg={exports:{}};(()=>{var t={296:(a,s,i)=>{var o=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,h=/^0o[0-7]+$/i,p=parseInt,v=typeof i.g=="object"&&i.g&&i.g.Object===Object&&i.g,m=typeof self=="object"&&self&&self.Object===Object&&self,x=v||m||Function("return this")(),b=Object.prototype.toString,S=Math.max,_=Math.min,O=function(){return x.Date.now()};function F(J){var ce=typeof J;return!!J&&(ce=="object"||ce=="function")}function X(J){if(typeof J=="number")return J;if(function(D){return typeof D=="symbol"||function(Y){return!!Y&&typeof Y=="object"}(D)&&b.call(D)=="[object Symbol]"}(J))return NaN;if(F(J)){var ce=typeof J.valueOf=="function"?J.valueOf():J;J=F(ce)?ce+"":ce}if(typeof J!="string")return J===0?J:+J;J=J.replace(o,"");var K=d.test(J);return K||h.test(J)?p(J.slice(2),K?2:8):l.test(J)?NaN:+J}a.exports=function(J,ce,K){var D,Y,R,k,A,E,U=0,Z=!1,re=!1,ae=!0;if(typeof J!="function")throw new TypeError("Expected a function");function ee($){var V=D,T=Y;return D=Y=void 0,U=$,k=J.apply(T,V)}function de($){var V=$-E;return E===void 0||V>=ce||V<0||re&&$-U>=R}function pe(){var $=O();if(de($))return Le($);A=setTimeout(pe,function(V){var T=ce-(V-E);return re?_(T,R-(V-U)):T}($))}function Le($){return A=void 0,ae&&D?ee($):(D=Y=void 0,k)}function N(){var $=O(),V=de($);if(D=arguments,Y=this,E=$,V){if(A===void 0)return function(T){return U=T,A=setTimeout(pe,ce),Z?ee(T):k}(E);if(re)return A=setTimeout(pe,ce),ee(E)}return A===void 0&&(A=setTimeout(pe,ce)),k}return ce=X(ce)||0,F(K)&&(Z=!!K.leading,R=(re="maxWait"in K)?S(X(K.maxWait)||0,ce):R,ae="trailing"in K?!!K.trailing:ae),N.cancel=function(){A!==void 0&&clearTimeout(A),U=0,D=E=Y=A=void 0},N.flush=function(){return A===void 0?k:Le(O())},N}},96:(a,s,i)=>{var o="Expected a function",l=NaN,d="[object Symbol]",h=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,m=/^0o[0-7]+$/i,x=parseInt,b=typeof i.g=="object"&&i.g&&i.g.Object===Object&&i.g,S=typeof self=="object"&&self&&self.Object===Object&&self,_=b||S||Function("return this")(),O=Object.prototype.toString,F=Math.max,X=Math.min,J=function(){return _.Date.now()};function ce(D){var Y=typeof D;return!!D&&(Y=="object"||Y=="function")}function K(D){if(typeof D=="number")return D;if(function(k){return typeof k=="symbol"||function(A){return!!A&&typeof A=="object"}(k)&&O.call(k)==d}(D))return l;if(ce(D)){var Y=typeof D.valueOf=="function"?D.valueOf():D;D=ce(Y)?Y+"":Y}if(typeof D!="string")return D===0?D:+D;D=D.replace(h,"");var R=v.test(D);return R||m.test(D)?x(D.slice(2),R?2:8):p.test(D)?l:+D}a.exports=function(D,Y,R){var k=!0,A=!0;if(typeof D!="function")throw new TypeError(o);return ce(R)&&(k="leading"in R?!!R.leading:k,A="trailing"in R?!!R.trailing:A),function(E,U,Z){var re,ae,ee,de,pe,Le,N=0,$=!1,V=!1,T=!0;if(typeof E!="function")throw new TypeError(o);function q(Ne){var fe=re,_e=ae;return re=ae=void 0,N=Ne,de=E.apply(_e,fe)}function z(Ne){var fe=Ne-Le;return Le===void 0||fe>=U||fe<0||V&&Ne-N>=ee}function Q(){var Ne=J();if(z(Ne))return ne(Ne);pe=setTimeout(Q,function(fe){var _e=U-(fe-Le);return V?X(_e,ee-(fe-N)):_e}(Ne))}function ne(Ne){return pe=void 0,T&&re?q(Ne):(re=ae=void 0,de)}function Ae(){var Ne=J(),fe=z(Ne);if(re=arguments,ae=this,Le=Ne,fe){if(pe===void 0)return function(_e){return N=_e,pe=setTimeout(Q,U),$?q(_e):de}(Le);if(V)return pe=setTimeout(Q,U),q(Le)}return pe===void 0&&(pe=setTimeout(Q,U)),de}return U=K(U)||0,ce(Z)&&($=!!Z.leading,ee=(V="maxWait"in Z)?F(K(Z.maxWait)||0,U):ee,T="trailing"in Z?!!Z.trailing:T),Ae.cancel=function(){pe!==void 0&&clearTimeout(pe),N=0,re=Le=ae=pe=void 0},Ae.flush=function(){return pe===void 0?de:ne(J())},Ae}(D,Y,{leading:k,maxWait:Y,trailing:A})}},703:(a,s,i)=>{var o=i(414);function l(){}function d(){}d.resetWarningCache=l,a.exports=function(){function h(m,x,b,S,_,O){if(O!==o){var F=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}function p(){return h}h.isRequired=h;var v={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:p,element:h,elementType:h,instanceOf:p,node:h,objectOf:p,oneOf:p,oneOfType:p,shape:p,exact:p,checkPropTypes:d,resetWarningCache:l};return v.PropTypes=v,v}},697:(a,s,i)=>{a.exports=i(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function r(a){var s=e[a];if(s!==void 0)return s.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,r),i.exports}r.n=a=>{var s=a&&a.__esModule?()=>a.default:()=>a;return r.d(s,{a:s}),s},r.d=(a,s)=>{for(var i in s)r.o(s,i)&&!r.o(a,i)&&Object.defineProperty(a,i,{enumerable:!0,get:s[i]})},r.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=(a,s)=>Object.prototype.hasOwnProperty.call(a,s),r.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{LazyLoadComponent:()=>fe,LazyLoadImage:()=>pt,trackWindowScroll:()=>de});const a=H;var s=r.n(a),i=r(697);function o(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function l(we){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},l(we)}function d(we,oe){var ke=Object.keys(we);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(we);oe&&(Pe=Pe.filter(function(qe){return Object.getOwnPropertyDescriptor(we,qe).enumerable})),ke.push.apply(ke,Pe)}return ke}function h(we,oe,ke){return(oe=v(oe))in we?Object.defineProperty(we,oe,{value:ke,enumerable:!0,configurable:!0,writable:!0}):we[oe]=ke,we}function p(we,oe){for(var ke=0;ke<oe.length;ke++){var Pe=oe[ke];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(we,v(Pe.key),Pe)}}function v(we){var oe=function(ke,Pe){if(l(ke)!=="object"||ke===null)return ke;var qe=ke[Symbol.toPrimitive];if(qe!==void 0){var Ge=qe.call(ke,"string");if(l(Ge)!=="object")return Ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ke)}(we);return l(oe)==="symbol"?oe:String(oe)}function m(we,oe){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Pe){return ke.__proto__=Pe,ke},m(we,oe)}function x(we){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},x(we)}var b=function(we){we.forEach(function(oe){oe.isIntersecting&&oe.target.onVisible()})},S={},_=function(we){(function(ye,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");ye.prototype=Object.create(be&&be.prototype,{constructor:{value:ye,writable:!0,configurable:!0}}),Object.defineProperty(ye,"prototype",{writable:!1}),be&&m(ye,be)})(Ie,we);var oe,ke,Pe,qe,Ge=(Pe=Ie,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ye,be=x(Pe);if(qe){var Be=x(this).constructor;ye=Reflect.construct(be,arguments,Be)}else ye=be.apply(this,arguments);return function(Re,Fe){if(Fe&&(l(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}(Re)}(this,ye)});function Ie(ye){var be;if(function(Re,Fe){if(!(Re instanceof Fe))throw new TypeError("Cannot call a class as a function")}(this,Ie),(be=Ge.call(this,ye)).supportsObserver=!ye.scrollPosition&&ye.useIntersectionObserver&&o(),be.supportsObserver){var Be=ye.threshold;be.observer=function(Re){return S[Re]=S[Re]||new IntersectionObserver(b,{rootMargin:Re+"px"}),S[Re]}(Be)}return be}return oe=Ie,ke=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,be=this.placeholder.getBoundingClientRect(),Be=this.placeholder.style,Re=parseInt(Be.getPropertyValue("margin-left"),10)||0,Fe=parseInt(Be.getPropertyValue("margin-top"),10)||0;return{bottom:ye.y+be.bottom+Fe,left:ye.x+be.left+Re,right:ye.x+be.right+Re,top:ye.y+be.top+Fe}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var ye=this.props,be=ye.scrollPosition,Be=ye.threshold,Re=this.getPlaceholderBoundingBox(be),Fe=be.y+window.innerHeight,ut=be.x,at=be.x+window.innerWidth,Mt=be.y;return Mt-Be<=Re.bottom&&Fe+Be>=Re.top&&ut-Be<=Re.right&&at+Be>=Re.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var ye=this,be=this.props,Be=be.className,Re=be.height,Fe=be.placeholder,ut=be.style,at=be.width;if(Fe&&typeof Fe.type!="function")return s().cloneElement(Fe,{ref:function(mt){return ye.placeholder=mt}});var Mt=function(mt){for(var $t=1;$t<arguments.length;$t++){var Ft=arguments[$t]!=null?arguments[$t]:{};$t%2?d(Object(Ft),!0).forEach(function(Nt){h(mt,Nt,Ft[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(mt,Object.getOwnPropertyDescriptors(Ft)):d(Object(Ft)).forEach(function(Nt){Object.defineProperty(mt,Nt,Object.getOwnPropertyDescriptor(Ft,Nt))})}return mt}({display:"inline-block"},ut);return at!==void 0&&(Mt.width=at),Re!==void 0&&(Mt.height=Re),s().createElement("span",{className:Be,ref:function(mt){return ye.placeholder=mt},style:Mt},Fe)}}],ke&&p(oe.prototype,ke),Object.defineProperty(oe,"prototype",{writable:!1}),Ie}(s().Component);_.propTypes={onVisible:i.PropTypes.func.isRequired,className:i.PropTypes.string,height:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]),placeholder:i.PropTypes.element,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,scrollPosition:i.PropTypes.shape({x:i.PropTypes.number.isRequired,y:i.PropTypes.number.isRequired}),width:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string])},_.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const O=_;var F=r(296),X=r.n(F),J=r(96),ce=r.n(J),K=function(we){var oe=getComputedStyle(we,null);return oe.getPropertyValue("overflow")+oe.getPropertyValue("overflow-y")+oe.getPropertyValue("overflow-x")};const D=function(we){if(!(we instanceof HTMLElement))return window;for(var oe=we;oe&&oe instanceof HTMLElement;){if(/(scroll|auto)/.test(K(oe)))return oe;oe=oe.parentNode}return window};function Y(we){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},Y(we)}var R=["delayMethod","delayTime"];function k(){return k=Object.assign?Object.assign.bind():function(we){for(var oe=1;oe<arguments.length;oe++){var ke=arguments[oe];for(var Pe in ke)Object.prototype.hasOwnProperty.call(ke,Pe)&&(we[Pe]=ke[Pe])}return we},k.apply(this,arguments)}function A(we,oe){for(var ke=0;ke<oe.length;ke++){var Pe=oe[ke];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(we,(qe=function(Ge,Ie){if(Y(Ge)!=="object"||Ge===null)return Ge;var ye=Ge[Symbol.toPrimitive];if(ye!==void 0){var be=ye.call(Ge,"string");if(Y(be)!=="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ge)}(Pe.key),Y(qe)==="symbol"?qe:String(qe)),Pe)}var qe}function E(we,oe){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Pe){return ke.__proto__=Pe,ke},E(we,oe)}function U(we,oe){if(oe&&(Y(oe)==="object"||typeof oe=="function"))return oe;if(oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(we)}function Z(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function re(we){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},re(we)}var ae=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},ee=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const de=function(we){var oe=function(ke){(function(Be,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(Re&&Re.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),Object.defineProperty(Be,"prototype",{writable:!1}),Re&&E(Be,Re)})(be,ke);var Pe,qe,Ge,Ie,ye=(Ge=be,Ie=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Be,Re=re(Ge);if(Ie){var Fe=re(this).constructor;Be=Reflect.construct(Re,arguments,Fe)}else Be=Re.apply(this,arguments);return U(this,Be)});function be(Be){var Re;if(function(ut,at){if(!(ut instanceof at))throw new TypeError("Cannot call a class as a function")}(this,be),(Re=ye.call(this,Be)).useIntersectionObserver=Be.useIntersectionObserver&&o(),Re.useIntersectionObserver)return U(Re);var Fe=Re.onChangeScroll.bind(Z(Re));return Be.delayMethod==="debounce"?Re.delayedScroll=X()(Fe,Be.delayTime):Be.delayMethod==="throttle"&&(Re.delayedScroll=ce()(Fe,Be.delayTime)),Re.state={scrollPosition:{x:ae(),y:ee()}},Re.baseComponentRef=s().createRef(),Re}return Pe=be,(qe=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||D(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=D(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ae(),y:ee()}})}},{key:"render",value:function(){var Be=this.props,Re=(Be.delayMethod,Be.delayTime,function(ut,at){if(ut==null)return{};var Mt,mt,$t=function(Nt,ct){if(Nt==null)return{};var jt,fn,pr={},en=Object.keys(Nt);for(fn=0;fn<en.length;fn++)jt=en[fn],ct.indexOf(jt)>=0||(pr[jt]=Nt[jt]);return pr}(ut,at);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols(ut);for(mt=0;mt<Ft.length;mt++)Mt=Ft[mt],at.indexOf(Mt)>=0||Object.prototype.propertyIsEnumerable.call(ut,Mt)&&($t[Mt]=ut[Mt])}return $t}(Be,R)),Fe=this.useIntersectionObserver?null:this.state.scrollPosition;return s().createElement(we,k({forwardRef:this.baseComponentRef,scrollPosition:Fe},Re))}}])&&A(Pe.prototype,qe),Object.defineProperty(Pe,"prototype",{writable:!1}),be}(s().Component);return oe.propTypes={delayMethod:i.PropTypes.oneOf(["debounce","throttle"]),delayTime:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool},oe.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},oe};function pe(we){return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},pe(we)}function Le(we,oe){for(var ke=0;ke<oe.length;ke++){var Pe=oe[ke];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(we,(qe=function(Ge,Ie){if(pe(Ge)!=="object"||Ge===null)return Ge;var ye=Ge[Symbol.toPrimitive];if(ye!==void 0){var be=ye.call(Ge,"string");if(pe(be)!=="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ge)}(Pe.key),pe(qe)==="symbol"?qe:String(qe)),Pe)}var qe}function N(we,oe){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Pe){return ke.__proto__=Pe,ke},N(we,oe)}function $(we){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},$(we)}var V=function(we){(function(ye,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");ye.prototype=Object.create(be&&be.prototype,{constructor:{value:ye,writable:!0,configurable:!0}}),Object.defineProperty(ye,"prototype",{writable:!1}),be&&N(ye,be)})(Ie,we);var oe,ke,Pe,qe,Ge=(Pe=Ie,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ye,be=$(Pe);if(qe){var Be=$(this).constructor;ye=Reflect.construct(be,arguments,Be)}else ye=be.apply(this,arguments);return function(Re,Fe){if(Fe&&(pe(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}(Re)}(this,ye)});function Ie(ye){return function(be,Be){if(!(be instanceof Be))throw new TypeError("Cannot call a class as a function")}(this,Ie),Ge.call(this,ye)}return oe=Ie,(ke=[{key:"render",value:function(){return s().createElement(O,this.props)}}])&&Le(oe.prototype,ke),Object.defineProperty(oe,"prototype",{writable:!1}),Ie}(s().Component);const T=de(V);function q(we){return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},q(we)}function z(we,oe){for(var ke=0;ke<oe.length;ke++){var Pe=oe[ke];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(we,(qe=function(Ge,Ie){if(q(Ge)!=="object"||Ge===null)return Ge;var ye=Ge[Symbol.toPrimitive];if(ye!==void 0){var be=ye.call(Ge,"string");if(q(be)!=="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ge)}(Pe.key),q(qe)==="symbol"?qe:String(qe)),Pe)}var qe}function Q(we,oe){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Pe){return ke.__proto__=Pe,ke},Q(we,oe)}function ne(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function Ae(we){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},Ae(we)}var Ne=function(we){(function(ye,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");ye.prototype=Object.create(be&&be.prototype,{constructor:{value:ye,writable:!0,configurable:!0}}),Object.defineProperty(ye,"prototype",{writable:!1}),be&&Q(ye,be)})(Ie,we);var oe,ke,Pe,qe,Ge=(Pe=Ie,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ye,be=Ae(Pe);if(qe){var Be=Ae(this).constructor;ye=Reflect.construct(be,arguments,Be)}else ye=be.apply(this,arguments);return function(Re,Fe){if(Fe&&(q(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ne(Re)}(this,ye)});function Ie(ye){var be;(function(at,Mt){if(!(at instanceof Mt))throw new TypeError("Cannot call a class as a function")})(this,Ie),be=Ge.call(this,ye);var Be=ye.afterLoad,Re=ye.beforeLoad,Fe=ye.scrollPosition,ut=ye.visibleByDefault;return be.state={visible:ut},ut&&(Re(),Be()),be.onVisible=be.onVisible.bind(ne(be)),be.isScrollTracked=!!(Fe&&Number.isFinite(Fe.x)&&Fe.x>=0&&Number.isFinite(Fe.y)&&Fe.y>=0),be}return oe=Ie,(ke=[{key:"componentDidUpdate",value:function(ye,be){be.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var ye=this.props,be=ye.className,Be=ye.delayMethod,Re=ye.delayTime,Fe=ye.height,ut=ye.placeholder,at=ye.scrollPosition,Mt=ye.style,mt=ye.threshold,$t=ye.useIntersectionObserver,Ft=ye.width;return this.isScrollTracked||$t&&o()?s().createElement(O,{className:be,height:Fe,onVisible:this.onVisible,placeholder:ut,scrollPosition:at,style:Mt,threshold:mt,useIntersectionObserver:$t,width:Ft}):s().createElement(T,{className:be,delayMethod:Be,delayTime:Re,height:Fe,onVisible:this.onVisible,placeholder:ut,style:Mt,threshold:mt,width:Ft})}}])&&z(oe.prototype,ke),Object.defineProperty(oe,"prototype",{writable:!1}),Ie}(s().Component);Ne.propTypes={afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool},Ne.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const fe=Ne;function _e(we){return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},_e(we)}var Ee=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function ue(we,oe){var ke=Object.keys(we);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(we);oe&&(Pe=Pe.filter(function(qe){return Object.getOwnPropertyDescriptor(we,qe).enumerable})),ke.push.apply(ke,Pe)}return ke}function B(we){for(var oe=1;oe<arguments.length;oe++){var ke=arguments[oe]!=null?arguments[oe]:{};oe%2?ue(Object(ke),!0).forEach(function(Pe){Ue(we,Pe,ke[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(we,Object.getOwnPropertyDescriptors(ke)):ue(Object(ke)).forEach(function(Pe){Object.defineProperty(we,Pe,Object.getOwnPropertyDescriptor(ke,Pe))})}return we}function Ue(we,oe,ke){return(oe=We(oe))in we?Object.defineProperty(we,oe,{value:ke,enumerable:!0,configurable:!0,writable:!0}):we[oe]=ke,we}function $e(){return $e=Object.assign?Object.assign.bind():function(we){for(var oe=1;oe<arguments.length;oe++){var ke=arguments[oe];for(var Pe in ke)Object.prototype.hasOwnProperty.call(ke,Pe)&&(we[Pe]=ke[Pe])}return we},$e.apply(this,arguments)}function je(we,oe){for(var ke=0;ke<oe.length;ke++){var Pe=oe[ke];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(we,We(Pe.key),Pe)}}function We(we){var oe=function(ke,Pe){if(_e(ke)!=="object"||ke===null)return ke;var qe=ke[Symbol.toPrimitive];if(qe!==void 0){var Ge=qe.call(ke,"string");if(_e(Ge)!=="object")return Ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ke)}(we);return _e(oe)==="symbol"?oe:String(oe)}function Ye(we,oe){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Pe){return ke.__proto__=Pe,ke},Ye(we,oe)}function He(we){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},He(we)}var tt=function(we){(function(ye,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");ye.prototype=Object.create(be&&be.prototype,{constructor:{value:ye,writable:!0,configurable:!0}}),Object.defineProperty(ye,"prototype",{writable:!1}),be&&Ye(ye,be)})(Ie,we);var oe,ke,Pe,qe,Ge=(Pe=Ie,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ye,be=He(Pe);if(qe){var Be=He(this).constructor;ye=Reflect.construct(be,arguments,Be)}else ye=be.apply(this,arguments);return function(Re,Fe){if(Fe&&(_e(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}(Re)}(this,ye)});function Ie(ye){var be;return function(Be,Re){if(!(Be instanceof Re))throw new TypeError("Cannot call a class as a function")}(this,Ie),(be=Ge.call(this,ye)).state={loaded:!1},be}return oe=Ie,(ke=[{key:"onImageLoad",value:function(){var ye=this;return this.state.loaded?null:function(be){ye.props.onLoad(be),ye.props.afterLoad(),ye.setState({loaded:!0})}}},{key:"getImg",value:function(){var ye=this.props,be=(ye.afterLoad,ye.beforeLoad,ye.delayMethod,ye.delayTime,ye.effect,ye.placeholder,ye.placeholderSrc,ye.scrollPosition,ye.threshold,ye.useIntersectionObserver,ye.visibleByDefault,ye.wrapperClassName,ye.wrapperProps,function(Be,Re){if(Be==null)return{};var Fe,ut,at=function(mt,$t){if(mt==null)return{};var Ft,Nt,ct={},jt=Object.keys(mt);for(Nt=0;Nt<jt.length;Nt++)Ft=jt[Nt],$t.indexOf(Ft)>=0||(ct[Ft]=mt[Ft]);return ct}(Be,Re);if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(Be);for(ut=0;ut<Mt.length;ut++)Fe=Mt[ut],Re.indexOf(Fe)>=0||Object.prototype.propertyIsEnumerable.call(Be,Fe)&&(at[Fe]=Be[Fe])}return at}(ye,Ee));return s().createElement("img",$e({},be,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var ye=this.props,be=ye.beforeLoad,Be=ye.className,Re=ye.delayMethod,Fe=ye.delayTime,ut=ye.height,at=ye.placeholder,Mt=ye.scrollPosition,mt=ye.style,$t=ye.threshold,Ft=ye.useIntersectionObserver,Nt=ye.visibleByDefault,ct=ye.width;return s().createElement(fe,{beforeLoad:be,className:Be,delayMethod:Re,delayTime:Fe,height:ut,placeholder:at,scrollPosition:Mt,style:mt,threshold:$t,useIntersectionObserver:Ft,visibleByDefault:Nt,width:ct},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(ye){var be=this.props,Be=be.effect,Re=be.height,Fe=be.placeholderSrc,ut=be.width,at=be.wrapperClassName,Mt=be.wrapperProps,mt=this.state.loaded,$t=mt?" lazy-load-image-loaded":"",Ft=mt||!Fe?{}:{backgroundImage:"url(".concat(Fe,")"),backgroundSize:"100% 100%"};return s().createElement("span",$e({className:at+" lazy-load-image-background "+Be+$t,style:B(B({},Ft),{},{color:"transparent",display:"inline-block",height:Re,width:ut})},Mt),ye)}},{key:"render",value:function(){var ye=this.props,be=ye.effect,Be=ye.placeholderSrc,Re=ye.visibleByDefault,Fe=ye.wrapperClassName,ut=ye.wrapperProps,at=this.getLazyLoadImage();return(be||Be)&&!Re||Fe||ut?this.getWrappedLazyLoadImage(at):at}}])&&je(oe.prototype,ke),Object.defineProperty(oe,"prototype",{writable:!1}),Ie}(s().Component);tt.propTypes={onLoad:i.PropTypes.func,afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,delayMethod:i.PropTypes.string,delayTime:i.PropTypes.number,effect:i.PropTypes.string,placeholderSrc:i.PropTypes.string,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool,wrapperClassName:i.PropTypes.string,wrapperProps:i.PropTypes.object},tt.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const pt=tt})(),Xg.exports=n})();var jc=Xg.exports;const zS="6454790e98c04c22b3fecc25dcd9e75c",qS="b9d28568c7e04ad79735bf8fddb750ed",Gp=1e3;let Jp=0;const Zg=async()=>{const e=Date.now()-Jp;if(e<Gp){const r=Gp-e;console.log(`Aguardando ${r}ms antes da prxima requisio...`),await new Promise(n=>setTimeout(n,r))}Jp=Date.now()},WS=async()=>{const t="https://accounts.spotify.com/api/token";try{await Zg(),console.log("Obtendo token do Spotify");const e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(zS+":"+qS)},body:"grant_type=client_credentials"});if(!e.ok){const n=await e.json();return console.error(`Erro ao buscar token do Spotify: ${e.status} - ${JSON.stringify(n)}`),null}const r=await e.json();return console.log("Token do Spotify obtido com sucesso"),r.access_token}catch(e){return console.error("Erro ao buscar o token do Spotify:",e),null}},VS=t=>{let e=t.replace(/&/g,"and").replace(/\se\s/g," ");return e=e.normalize("NFD").replace(/[-]/g,""),encodeURIComponent(e.trim())},Qg=async(t,e)=>{if(!e)return console.error("Token Spotify invlido ou no disponvel."),null;try{await Zg();const n=`https://api.spotify.com/v1/search?q=${VS(t)}&type=artist&market=BR&limit=1`;console.log(`Buscando imagem para o artista: ${t}`),console.log("URL da requisio:",n);const a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!a.ok){const i=await a.json();if(console.error(`Erro ao buscar imagem para ${t}: ${a.status} - ${JSON.stringify(i)}`),a.status===429){const o=a.headers.get("Retry-After"),l=o?parseInt(o)*1e3:5e3;return console.log(`Rate limit excedido. Aguardando ${l}ms antes de tentar novamente...`),await new Promise(d=>setTimeout(d,l)),Qg(t,e)}return null}const s=await a.json();if(s.artists&&s.artists.items&&s.artists.items.length>0){const i=s.artists.items[0],o=i.images&&i.images.length>0?i.images[0].url:null;return console.log(`Imagem encontrada para ${t}: ${o?"Sim":"No"}`),o}return console.log(`Nenhum artista encontrado para: ${t}`),null}catch(r){return console.error(`Erro ao buscar imagem para o artista ${t}:`,r),null}};function HS(){const{currentUser:t}=br(),[e,r]=H.useState(!1),[n,a]=H.useState([]),[s,i]=H.useState([]),[o,l]=H.useState([]),[d,h]=H.useState({rankingSize:"10",startDate:Ve().subtract(10,"days").format("YYYY-MM-DD"),endDate:Ve().format("YYYY-MM-DD"),hourStart:"",hourEnd:"",selectedRadios:[]}),[p,v]=H.useState(()=>{const R=localStorage.getItem("artistImages");return R?JSON.parse(R):{}}),[m,x]=H.useState(()=>{const R=localStorage.getItem("spotifyToken"),k=localStorage.getItem("spotifyTokenExpiration");return R&&k&&Date.now()<parseInt(k)?{token:R,expiresAt:parseInt(k)}:null}),[b,S]=H.useState(null),_=H.useCallback(async()=>{if(m&&m.expiresAt>Date.now())return m.token;console.log("Obtendo novo token do Spotify...");const R=await WS();if(R){const k=Date.now()+36e5;return x({token:R,expiresAt:k}),localStorage.setItem("spotifyToken",R),localStorage.setItem("spotifyTokenExpiration",k.toString()),R}return null},[m]),O=H.useCallback(async R=>{const k=await _();if(!k){console.error("Token Spotify no disponvel. Imagens no podem ser carregadas.");return}const A={};for(const U of R)if(!p[U.artist])try{const Z=await Qg(U.artist,k);Z&&(A[U.artist]=Z)}catch(Z){console.error(`Erro ao carregar a imagem para ${U.artist}:`,Z)}const E={...p,...A};v(E),localStorage.setItem("artistImages",JSON.stringify(E))},[p,_]),F=async()=>{const{data:{session:R}}=await ot.auth.getSession();return{Authorization:`Bearer ${R==null?void 0:R.access_token}`,"Content-Type":"application/json"}},X=async()=>{console.log("Ambiente em Ranking:","production");try{const R=localStorage.getItem("ranking_radios_cache"),k=localStorage.getItem("ranking_radios_cache_time");if(R&&k&&Date.now()-parseInt(k)<30*60*1e3){console.log("Usando cache para rdios em Ranking"),l(JSON.parse(R)),J().catch(E=>{console.warn("Erro ao atualizar cache em segundo plano:",E)});return}await J()}catch(R){console.error("Erro ao buscar rdios para Ranking:",R),ce()}},J=async()=>{try{const R=await F(),k=new AbortController,A=setTimeout(()=>k.abort(),15e3),E=await fetch("/api/radios/status",{headers:R,signal:k.signal});if(clearTimeout(A),!E.ok)throw new Error(`Falha ao buscar rdios: ${E.status} ${E.statusText}`);const U=await E.json();if(!U||U.length===0){console.warn("API retornou array vazio para rdios em Ranking"),ce();return}const Z=U.map(re=>({value:re.name,label:re.name}));Z.unshift({value:"Todas as Rdios",label:"Todas as Rdios"}),l(Z),localStorage.setItem("ranking_radios_cache",JSON.stringify(Z)),localStorage.setItem("ranking_radios_cache_time",Date.now().toString())}catch(R){throw console.error("Erro em fetchAndUpdateCache para Ranking:",R),R}},ce=()=>{console.log("Fornecendo dados de fallback para Ranking");const R=localStorage.getItem("ranking_radios_cache");if(R){console.log("Usando cache antigo para Ranking"),l(JSON.parse(R));return}l([{value:"Todas as Rdios",label:"Todas as Rdios"},{value:"Rdio 1",label:"Rdio 1"},{value:"Rdio 2",label:"Rdio 2"},{value:"Rdio 3",label:"Rdio 3"},{value:"Rdio 4",label:"Rdio 4"},{value:"Rdio 5",label:"Rdio 5"}])},K=async()=>{r(!0),S(null);try{const R=await F();console.log("Rdios selecionadas:",s),console.log("Parmetro radio:",s.length>0?s.map(U=>U.value).join("||"):"nenhuma");const k=new URLSearchParams({startDate:d.startDate,endDate:d.endDate,rankingSize:d.rankingSize,startTime:d.hourStart,endTime:d.hourEnd,...s.length>0&&{radio:s.map(U=>U.value).join("||")}}),A=await fetch(`/api/ranking?${k.toString()}`,{headers:R});if(!A.ok)throw new Error("Failed to fetch ranking");const E=await A.json();if(console.log("Dados recebidos do servidor:",E),Array.isArray(E)&&E.length>0){console.log("Exemplo do primeiro item:",E[0]),console.log("song_title est presente?",E[0].hasOwnProperty("song_title"));const U=E.map(Z=>({...Z,song_title:Z.song_title||Z.song||"Ttulo no disponvel"}));a(U)}else a([]);await O(E)}catch(R){console.error("Error fetching ranking:",R),S("Erro ao carregar o ranking. Por favor, tente novamente.")}finally{r(!1)}};H.useEffect(()=>{t&&(X(),K())},[t]);const D=()=>{K()},Y=()=>{h({rankingSize:"10",startDate:Ve().subtract(10,"days").format("YYYY-MM-DD"),endDate:Ve().format("YYYY-MM-DD"),hourStart:"",hourEnd:"",selectedRadios:[]}),i([])};return u.jsxs("div",{className:"ranking-container",children:[u.jsxs("div",{className:"ranking-filters",children:[u.jsxs("div",{className:"ranking-filter-row",children:[u.jsxs("div",{className:"ranking-filter-group",children:[u.jsx("label",{htmlFor:"ranking-size",children:"Ranking:"}),u.jsxs("select",{id:"ranking-size",value:d.rankingSize,onChange:R=>h({...d,rankingSize:R.target.value}),children:[u.jsx("option",{value:"10",children:"TOP 10"}),u.jsx("option",{value:"20",children:"TOP 20"}),u.jsx("option",{value:"40",children:"TOP 40"}),u.jsx("option",{value:"100",children:"TOP 100"}),u.jsx("option",{value:"200",children:"TOP 200"})]})]}),u.jsxs("div",{className:"ranking-filter-group",children:[u.jsx("label",{htmlFor:"radio-select",children:"Rdios:"}),u.jsx(fs,{id:"radio-select",options:o,isMulti:!0,value:s,onChange:R=>{const k=R;i(k),h({...d,selectedRadios:k.map(A=>A.value)})},placeholder:"Selecione as rdios",className:"react-select-container",classNamePrefix:"react-select"})]})]}),u.jsxs("div",{className:"ranking-filter-row-datetime",children:[u.jsxs("div",{className:"ranking-filter-group",children:[u.jsx("label",{htmlFor:"date-start",children:"Data Incio:"}),u.jsx("input",{type:"date",id:"date-start",value:d.startDate,onChange:R=>h({...d,startDate:R.target.value})})]}),u.jsxs("div",{className:"ranking-filter-group",children:[u.jsx("label",{htmlFor:"date-end",children:"Data Fim:"}),u.jsx("input",{type:"date",id:"date-end",value:d.endDate,onChange:R=>h({...d,endDate:R.target.value})})]}),u.jsxs("div",{className:"ranking-filter-group",children:[u.jsx("label",{htmlFor:"hour-start",children:"Hora Incio:"}),u.jsx("input",{type:"time",id:"hour-start",value:d.hourStart,onChange:R=>h({...d,hourStart:R.target.value})})]}),u.jsxs("div",{className:"ranking-filter-group",children:[u.jsx("label",{htmlFor:"hour-end",children:"Hora Fim:"}),u.jsx("input",{type:"time",id:"hour-end",value:d.hourEnd,onChange:R=>h({...d,hourEnd:R.target.value})})]})]}),u.jsxs("div",{className:"ranking-filter-buttons",children:[u.jsx("button",{className:"ranking-btn-primary",onClick:D,disabled:e,children:e?"Carregando...":"Pesquisar"}),u.jsx("button",{className:"ranking-btn-secondary",onClick:Y,children:"Limpar Filtros"})]})]}),b&&u.jsx("div",{className:"error-message",children:b}),u.jsxs("div",{className:"ranking-table-container",children:[e?u.jsxs("div",{className:"loading-indicator",children:[u.jsx(dn,{className:"w-8 h-8 animate-spin text-blue-600"}),u.jsx("p",{children:"Carregando..."})]}):u.jsxs("table",{className:"ranking-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"rank-column",children:"Rank"}),u.jsx("th",{className:"image-column"}),u.jsx("th",{className:"artist-column",children:"Artista"}),u.jsx("th",{className:"title-column",children:"Ttulo"}),u.jsx("th",{className:"genre-column",children:"Gnero"}),u.jsx("th",{className:"executions-column",children:"Execues"})]})}),u.jsx("tbody",{children:n.map((R,k)=>u.jsxs("tr",{children:[u.jsxs("td",{className:"rank-column",children:[k+1,""]}),u.jsx("td",{className:"image-column",children:p[R.artist]?u.jsx(jc.LazyLoadImage,{src:p[R.artist],alt:R.artist,effect:"blur",width:50,height:50,style:{borderRadius:"50%"}}):u.jsx("div",{style:{width:"50px",height:"50px",backgroundColor:"#ddd",borderRadius:"50%"}})}),u.jsx("td",{className:"artist-column",children:R.artist}),u.jsx("td",{className:"title-column",children:R.song_title}),u.jsx("td",{className:"genre-column",children:R.genre}),u.jsx("td",{className:"executions-column",children:R.executions})]},R.id))})]}),!e&&n.length===0&&u.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Nenhum registro encontrado"})]})]})}function Yt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ys(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const e1=6048e5,YS=864e5,t1=6e4,r1=36e5,fc=43200,Kp=1440;let GS={};function cl(){return GS}function Qo(t,e){var o,l,d,h;const r=cl(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,a=Yt(t),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Jc(t){return Qo(t,{weekStartsOn:1})}function n1(t){const e=Yt(t),r=e.getFullYear(),n=ys(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Jc(n),s=ys(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=Jc(s);return e.getTime()>=a.getTime()?r+1:e.getTime()>=i.getTime()?r:r-1}function Xp(t){const e=Yt(t);return e.setHours(0,0,0,0),e}function Kc(t){const e=Yt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function JS(t,e){const r=Xp(t),n=Xp(e),a=+r-Kc(r),s=+n-Kc(n);return Math.round((a-s)/YS)}function KS(t){const e=n1(t),r=ys(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Jc(r)}function Pc(t,e){const r=Yt(t),n=Yt(e),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function XS(t){return ys(t,Date.now())}function ZS(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function QS(t){if(!ZS(t)&&typeof t!="number")return!1;const e=Yt(t);return!isNaN(Number(e))}function ek(t,e){const r=Yt(t),n=Yt(e),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function tk(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function rk(t,e){return+Yt(t)-+Yt(e)}function nk(t){const e=Yt(t);return e.setHours(23,59,59,999),e}function ak(t){const e=Yt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function sk(t){const e=Yt(t);return+nk(e)==+ak(e)}function ik(t,e){const r=Yt(t),n=Yt(e),a=Pc(r,n),s=Math.abs(ek(r,n));let i;if(s<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let o=Pc(r,n)===-a;sk(Yt(t))&&s===1&&Pc(t,n)===1&&(o=!1),i=a*(s-Number(o))}return i===0?0:i}function ok(t,e,r){const n=rk(t,e)/1e3;return tk(r==null?void 0:r.roundingMethod)(n)}function lk(t){const e=Yt(t),r=ys(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ck={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uk=(t,e,r)=>{let n;const a=ck[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function zi(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const dk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pk={date:zi({formats:dk,defaultWidth:"full"}),time:zi({formats:hk,defaultWidth:"full"}),dateTime:zi({formats:fk,defaultWidth:"full"})},mk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gk=(t,e,r,n)=>mk[t];function ia(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=t.formattingValues[o]||t.formattingValues[i]}else{const i=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[o]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const vk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_k={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sk=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kk={ordinalNumber:Sk,era:ia({values:vk,defaultWidth:"wide"}),quarter:ia({values:yk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ia({values:bk,defaultWidth:"wide"}),day:ia({values:wk,defaultWidth:"wide"}),dayPeriod:ia({values:xk,defaultWidth:"wide",formattingValues:_k,defaultFormattingWidth:"wide"})};function oa(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?jk(o,p=>p.test(i)):Nk(o,p=>p.test(i));let d;d=t.valueCallback?t.valueCallback(l):l,d=r.valueCallback?r.valueCallback(d):d;const h=e.slice(i.length);return{value:d,rest:h}}}function Nk(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function jk(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function a1(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const o=e.slice(a.length);return{value:i,rest:o}}}const Pk=/^(\d+)(th|st|nd|rd)?/i,Ak=/\d+/i,Lk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ok={any:[/^b/i,/^(a|c)/i]},Tk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ck={any:[/1/i,/2/i,/3/i,/4/i]},Ek={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ik={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$k={ordinalNumber:a1({matchPattern:Pk,parsePattern:Ak,valueCallback:t=>parseInt(t,10)}),era:oa({matchPatterns:Lk,defaultMatchWidth:"wide",parsePatterns:Ok,defaultParseWidth:"any"}),quarter:oa({matchPatterns:Tk,defaultMatchWidth:"wide",parsePatterns:Ck,defaultParseWidth:"any",valueCallback:t=>t+1}),month:oa({matchPatterns:Ek,defaultMatchWidth:"wide",parsePatterns:Ik,defaultParseWidth:"any"}),day:oa({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Mk,defaultParseWidth:"any"}),dayPeriod:oa({matchPatterns:Rk,defaultMatchWidth:"any",parsePatterns:Fk,defaultParseWidth:"any"})},s1={code:"en-US",formatDistance:uk,formatLong:pk,formatRelative:gk,localize:kk,match:$k,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bk(t){const e=Yt(t);return JS(e,lk(e))+1}function Uk(t){const e=Yt(t),r=+Jc(e)-+KS(e);return Math.round(r/e1)+1}function i1(t,e){var h,p,v,m;const r=Yt(t),n=r.getFullYear(),a=cl(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(v=a.locale)==null?void 0:v.options)==null?void 0:m.firstWeekContainsDate)??1,i=ys(t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const o=Qo(i,e),l=ys(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const d=Qo(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function zk(t,e){var o,l,d,h;const r=cl(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=i1(t,e),s=ys(t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Qo(s,e)}function qk(t,e){const r=Yt(t),n=+Qo(r,e)-+zk(r,e);return Math.round(n/e1)+1}function zt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const is={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return zt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):zt(r+1,2)},d(t,e){return zt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return zt(t.getHours()%12||12,e.length)},H(t,e){return zt(t.getHours(),e.length)},m(t,e){return zt(t.getMinutes(),e.length)},s(t,e){return zt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return zt(a,e.length)}},Pi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zp={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return is.y(t,e)},Y:function(t,e,r,n){const a=i1(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return zt(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):zt(s,e.length)},R:function(t,e){const r=n1(t);return zt(r,e.length)},u:function(t,e){const r=t.getFullYear();return zt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return zt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return zt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return is.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return zt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=qk(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):zt(a,e.length)},I:function(t,e,r){const n=Uk(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):zt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):is.d(t,e)},D:function(t,e,r){const n=Bk(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):zt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return zt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return zt(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return zt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Pi.noon:n===0?a=Pi.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Pi.evening:n>=12?a=Pi.afternoon:n>=4?a=Pi.morning:a=Pi.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return is.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):is.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):zt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):zt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):is.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):is.s(t,e)},S:function(t,e){return is.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return em(n);case"XXXX":case"XX":return Ms(n);case"XXXXX":case"XXX":default:return Ms(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return em(n);case"xxxx":case"xx":return Ms(n);case"xxxxx":case"xxx":default:return Ms(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Qp(n,":");case"OOOO":default:return"GMT"+Ms(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Qp(n,":");case"zzzz":default:return"GMT"+Ms(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return zt(n,e.length)},T:function(t,e,r){const n=t.getTime();return zt(n,e.length)}};function Qp(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+zt(s,2)}function em(t,e){return t%60===0?(t>0?"-":"+")+zt(Math.abs(t)/60,2):Ms(t,e)}function Ms(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=zt(Math.trunc(n/60),2),s=zt(n%60,2);return r+a+e+s}const tm=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},o1=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Wk=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return tm(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",tm(n,e)).replace("{{time}}",o1(a,e))},Vk={p:o1,P:Wk},Hk=/^D+$/,Yk=/^Y+$/,Gk=["D","DD","YY","YYYY"];function Jk(t){return Hk.test(t)}function Kk(t){return Yk.test(t)}function Xk(t,e,r){const n=Zk(t,e,r);if(console.warn(n),Gk.includes(t))throw new RangeError(n)}function Zk(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tN=/^'([^]*?)'?$/,rN=/''/g,nN=/[a-zA-Z]/;function vh(t,e,r){var h,p,v,m,x,b,S,_;const n=cl(),a=(r==null?void 0:r.locale)??n.locale??s1,s=(r==null?void 0:r.firstWeekContainsDate)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(v=n.locale)==null?void 0:v.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((b=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((_=(S=n.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??0,o=Yt(t);if(!QS(o))throw new RangeError("Invalid time value");let l=e.match(eN).map(O=>{const F=O[0];if(F==="p"||F==="P"){const X=Vk[F];return X(O,a.formatLong)}return O}).join("").match(Qk).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const F=O[0];if(F==="'")return{isToken:!1,value:aN(O)};if(Zp[F])return{isToken:!0,value:O};if(F.match(nN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:O}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const d={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return l.map(O=>{if(!O.isToken)return O.value;const F=O.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Kk(F)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Jk(F))&&Xk(F,e,String(t));const X=Zp[F[0]];return X(o,F,a.localize,d)}).join("")}function aN(t){const e=t.match(tN);return e?e[1].replace(rN,"'"):t}function sN(t,e,r){const n=cl(),a=(r==null?void 0:r.locale)??n.locale??s1,s=2520,i=Pc(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let l,d;i>0?(l=Yt(e),d=Yt(t)):(l=Yt(t),d=Yt(e));const h=ok(d,l),p=(Kc(d)-Kc(l))/1e3,v=Math.round((h-p)/60);let m;if(v<2)return r!=null&&r.includeSeconds?h<5?a.formatDistance("lessThanXSeconds",5,o):h<10?a.formatDistance("lessThanXSeconds",10,o):h<20?a.formatDistance("lessThanXSeconds",20,o):h<40?a.formatDistance("halfAMinute",0,o):h<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):v===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",v,o);if(v<45)return a.formatDistance("xMinutes",v,o);if(v<90)return a.formatDistance("aboutXHours",1,o);if(v<Kp){const x=Math.round(v/60);return a.formatDistance("aboutXHours",x,o)}else{if(v<s)return a.formatDistance("xDays",1,o);if(v<fc){const x=Math.round(v/Kp);return a.formatDistance("xDays",x,o)}else if(v<fc*2)return m=Math.round(v/fc),a.formatDistance("aboutXMonths",m,o)}if(m=ik(d,l),m<12){const x=Math.round(v/fc);return a.formatDistance("xMonths",x,o)}else{const x=m%12,b=Math.trunc(m/12);return x<3?a.formatDistance("aboutXYears",b,o):x<9?a.formatDistance("overXYears",b,o):a.formatDistance("almostXYears",b+1,o)}}function iN(t,e){return sN(t,XS(t),e)}function oN(t,e){const n=dN(t);let a;if(n.date){const l=hN(n.date,2);a=fN(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const s=a.getTime();let i=0,o;if(n.time&&(i=pN(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(o=mN(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+i),d=new Date(0);return d.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),d.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),d}return new Date(s+i+o)}const pc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lN=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,cN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,uN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dN(t){const e={},r=t.split(pc.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],pc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(pc.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=pc.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function hN(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function fN(t,e){if(e===null)return new Date(NaN);const r=t.match(lN);if(!r)return new Date(NaN);const n=!!r[4],a=Ro(r[1]),s=Ro(r[2])-1,i=Ro(r[3]),o=Ro(r[4]),l=Ro(r[5])-1;if(n)return wN(e,o,l)?gN(e,o,l):new Date(NaN);{const d=new Date(0);return!yN(e,s,i)||!bN(e,a)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(a,i)),d)}}function Ro(t){return t?parseInt(t):1}function pN(t){const e=t.match(cN);if(!e)return NaN;const r=Id(e[1]),n=Id(e[2]),a=Id(e[3]);return xN(r,n,a)?r*r1+n*t1+a*1e3:NaN}function Id(t){return t&&parseFloat(t.replace(",","."))||0}function mN(t){if(t==="Z")return 0;const e=t.match(uN);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return _N(n,a)?r*(n*r1+a*t1):NaN}function gN(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const vN=[31,null,31,30,31,30,31,31,30,31,30,31];function l1(t){return t%400===0||t%4===0&&t%100!==0}function yN(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(vN[e]||(l1(t)?29:28))}function bN(t,e){return e>=1&&e<=(l1(t)?366:365)}function wN(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function xN(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function _N(t,e){return e>=0&&e<=59}function SN(){const{currentUser:t}=br();C0();const e=vh(new Date,"yyyy-MM-dd"),[r,n]=H.useState({radio:"",artist:"",song:"",startDate:e,endDate:e,startTime:"00:00",endTime:"23:59"}),[a,s]=H.useState([]),[i,o]=H.useState(!1),[l,d]=H.useState(0),[h,p]=H.useState(!0),[v,m]=H.useState([]),[x,b]=H.useState(null),[S,_]=H.useState(null);H.useEffect(()=>{t&&(F(),ce())},[t]);const O=async()=>{const{data:{session:E}}=await ot.auth.getSession();return{Authorization:`Bearer ${E==null?void 0:E.access_token}`,"Content-Type":"application/json"}},F=async()=>{console.log("Ambiente em RealTime:","production");try{const E=localStorage.getItem("realtime_radios_cache"),U=localStorage.getItem("realtime_radios_cache_time");if(E&&U&&Date.now()-parseInt(U)<5*60*1e3){console.log("Usando cache para rdios"),m(JSON.parse(E)),X();return}await X()}catch(E){console.error("Error fetching radios:",E),J()}},X=async()=>{try{const E=await O(),U=new AbortController,Z=setTimeout(()=>U.abort(),15e3),re=await fetch("/api/radios/status",{headers:E,signal:U.signal});if(clearTimeout(Z),!re.ok)throw new Error("Failed to fetch radios");const ae=await re.json();if(!ae||ae.length===0){console.warn("API retornou array vazio para rdios"),J();return}m(ae),localStorage.setItem("realtime_radios_cache",JSON.stringify(ae)),localStorage.setItem("realtime_radios_cache_time",Date.now().toString())}catch(E){throw console.error("Error in fetchAndUpdateCache:",E),E}},J=()=>{console.log("Fornecendo dados de fallback para rdios");const E=localStorage.getItem("realtime_radios_cache");if(E){console.log("Usando cache antigo para rdios"),m(JSON.parse(E));return}const U=[{name:"Rdio 1",status:"ONLINE",isFavorite:!1,lastUpdate:new Date().toISOString()},{name:"Rdio 2",status:"OFFLINE",isFavorite:!1,lastUpdate:new Date().toISOString()},{name:"Rdio 3",status:"ONLINE",isFavorite:!1,lastUpdate:new Date().toISOString()},{name:"Rdio 4",status:"ONLINE",isFavorite:!1,lastUpdate:new Date().toISOString()},{name:"Rdio 5",status:"OFFLINE",isFavorite:!1,lastUpdate:new Date().toISOString()}];m(U)},ce=async(E=!1)=>{if(i)return;o(!0);const U=E?0:l;try{const Z=await O(),re=await fetch("/api/executions",{method:"POST",headers:Z,body:JSON.stringify({filters:{...r,radio:r.radio==="Todas as Rdios"?"":r.radio},page:U})});if(!re.ok)throw new Error("Failed to fetch executions");const ae=await re.json();Array.isArray(ae)&&(s(E?ae:[...a,...ae]),p(ae.length===100),E||d(U+1))}catch(Z){console.error("Error fetching executions:",Z)}finally{o(!1)}},K=E=>{E.preventDefault(),s([]),d(0),p(!0),ce(!0)},D=()=>{n({radio:"",artist:"",song:"",startDate:e,endDate:e,startTime:"00:00",endTime:"23:59"})},Y=()=>{const E=new Date(`${r.startDate} ${r.startTime}`),U=new Date(`${r.endDate} ${r.endTime}`);return E<=U},R=E=>{try{const U=oN(E);return vh(U,"dd/MM/yyyy")}catch(U){return console.error("Error formatting date:",U),E}},k=E=>{b(x===E?null:E)},A=E=>{_(S===E?null:E)};return u.jsxs("div",{className:"realtime-container",children:[u.jsx("div",{className:"realtime-filters",children:u.jsxs("form",{onSubmit:K,children:[u.jsxs("div",{className:"realtime-filter-row",children:[u.jsxs("div",{className:"realtime-filter-group",children:[u.jsx("label",{htmlFor:"radio-select",children:"Rdio"}),u.jsxs("select",{id:"radio-select",value:r.radio,onChange:E=>n({...r,radio:E.target.value}),children:[u.jsx("option",{value:"",children:"Todas as Rdios"}),v.map(E=>u.jsx("option",{value:E.name,children:E.name},E.name))]})]}),u.jsxs("div",{className:"realtime-filter-group",children:[u.jsx("label",{htmlFor:"artist-input",children:"Artista"}),u.jsx("input",{id:"artist-input",type:"text",value:r.artist,onChange:E=>n({...r,artist:E.target.value}),placeholder:"Nome do artista"})]}),u.jsxs("div",{className:"realtime-filter-group",children:[u.jsx("label",{htmlFor:"song-input",children:"Msica"}),u.jsx("input",{id:"song-input",type:"text",value:r.song,onChange:E=>n({...r,song:E.target.value}),placeholder:"Nome da msica"})]})]}),u.jsxs("div",{className:"realtime-filter-row-datetime",children:[u.jsxs("div",{className:"realtime-filter-group",children:[u.jsx("label",{htmlFor:"start-date",children:"Data Inicial"}),u.jsx("input",{id:"start-date",type:"date",value:r.startDate,onChange:E=>n({...r,startDate:E.target.value})})]}),u.jsxs("div",{className:"realtime-filter-group",children:[u.jsx("label",{htmlFor:"end-date",children:"Data Final"}),u.jsx("input",{id:"end-date",type:"date",value:r.endDate,onChange:E=>n({...r,endDate:E.target.value})})]}),u.jsxs("div",{className:"realtime-filter-group",children:[u.jsx("label",{htmlFor:"start-time",children:"Hora Inicial"}),u.jsx("input",{id:"start-time",type:"time",value:r.startTime,onChange:E=>n({...r,startTime:E.target.value})})]}),u.jsxs("div",{className:"realtime-filter-group",children:[u.jsx("label",{htmlFor:"end-time",children:"Hora Final"}),u.jsx("input",{id:"end-time",type:"time",value:r.endTime,onChange:E=>n({...r,endTime:E.target.value})})]})]}),u.jsxs("div",{className:"realtime-filter-buttons",children:[u.jsx("button",{type:"submit",disabled:!Y(),className:"realtime-btn-primary",children:"Pesquisar"}),u.jsx("button",{type:"button",onClick:D,className:"realtime-btn-secondary",children:"Limpar Filtros"})]})]})}),u.jsxs("div",{className:"realtime-table-container",children:[u.jsxs("table",{className:"realtime-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Data/Hora"}),u.jsx("th",{children:"Rdio"}),u.jsx("th",{children:"Artista"}),u.jsx("th",{children:"Msica"})]})}),u.jsx("tbody",{children:a.map(E=>u.jsx(n0.Fragment,{children:u.jsxs("tr",{children:[u.jsxs("td",{children:[R(E.date)," ",E.time]}),u.jsxs("td",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>A(E.id),className:"flex-none text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:S===E.id?u.jsx(tp,{className:"w-5 h-5"}):u.jsx(Mc,{className:"w-5 h-5"})}),u.jsx("span",{children:E.radio_name})]}),S===E.id&&u.jsxs("div",{className:"mt-2 pl-7 text-sm text-gray-600 dark:text-gray-400",children:[u.jsxs("div",{children:["Cidade: ",E.city]}),u.jsxs("div",{children:["Estado: ",E.state]}),u.jsxs("div",{children:["Regio: ",E.region]})]})]}),u.jsx("td",{children:E.artist}),u.jsxs("td",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>k(E.id),className:"flex-none text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:x===E.id?u.jsx(tp,{className:"w-5 h-5"}):u.jsx(Mc,{className:"w-5 h-5"})}),u.jsx("span",{children:E.song_title})]}),x===E.id&&u.jsxs("div",{className:"mt-2 pl-7 text-sm text-gray-600 dark:text-gray-400",children:[u.jsxs("div",{children:["ISRC: ",E.isrc]}),u.jsxs("div",{children:["Gravadora: ",E.label]}),u.jsxs("div",{children:["Gnero: ",E.genre]})]})]})]})},E.id))})]}),i&&a.length===0?u.jsx("div",{className:"flex justify-center items-center p-4",children:u.jsx(dn,{className:"w-6 h-6 animate-spin text-blue-600"})}):h?u.jsx("div",{className:"flex justify-center p-4",children:u.jsx("button",{onClick:()=>ce(),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Carregar mais"})}):a.length>0?u.jsx("div",{className:"text-center p-4 text-gray-500 dark:text-gray-400",children:"Fim dos resultados"}):u.jsx("div",{className:"text-center p-4 text-gray-500 dark:text-gray-400",children:"Nenhum resultado encontrado"})]})]})}const kN={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},NN=(t,e,r)=>{let n;const a=kN[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},jN={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},PN={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},AN={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LN={date:zi({formats:jN,defaultWidth:"full"}),time:zi({formats:PN,defaultWidth:"full"}),dateTime:zi({formats:AN,defaultWidth:"full"})},ON={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},TN=(t,e,r,n)=>{const a=ON[t];return typeof a=="function"?a(e):a},CN={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},EN={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},IN={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},DN={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},MN={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},RN={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},FN=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},$N={ordinalNumber:FN,era:ia({values:CN,defaultWidth:"wide"}),quarter:ia({values:EN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ia({values:IN,defaultWidth:"wide"}),day:ia({values:DN,defaultWidth:"wide"}),dayPeriod:ia({values:MN,defaultWidth:"wide",formattingValues:RN,defaultFormattingWidth:"wide"})},BN=/^(\d+)[o]?/i,UN=/\d+/i,zN={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},qN={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},WN={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},VN={any:[/1/i,/2/i,/3/i,/4/i]},HN={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},YN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},GN={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},JN={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},KN={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},XN={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},ZN={ordinalNumber:a1({matchPattern:BN,parsePattern:UN,valueCallback:t=>parseInt(t,10)}),era:oa({matchPatterns:zN,defaultMatchWidth:"wide",parsePatterns:qN,defaultParseWidth:"any"}),quarter:oa({matchPatterns:WN,defaultMatchWidth:"wide",parsePatterns:VN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:oa({matchPatterns:HN,defaultMatchWidth:"wide",parsePatterns:YN,defaultParseWidth:"any"}),day:oa({matchPatterns:GN,defaultMatchWidth:"wide",parsePatterns:JN,defaultParseWidth:"any"}),dayPeriod:oa({matchPatterns:KN,defaultMatchWidth:"any",parsePatterns:XN,defaultParseWidth:"any"})},rm={code:"pt-BR",formatDistance:NN,formatLong:LN,formatRelative:TN,localize:$N,match:ZN,options:{weekStartsOn:0,firstWeekContainsDate:1}},QN=()=>{const{currentUser:t}=br(),[e,r]=H.useState([]),[n,a]=H.useState([]),[s,i]=H.useState(!0),[o,l]=H.useState(null),[d,h]=H.useState(0),p=async()=>{var b;if(t)try{const S=((b=t.user_metadata)==null?void 0:b.favorite_radios)||[];r(Array.isArray(S)?S:[])}catch(S){console.error("Erro ao buscar rdios favoritas:",S),l("No foi possvel carregar suas rdios favoritas")}},v=async()=>{if(t)try{const{data:{session:b}}=await ot.auth.getSession();if(!(b!=null&&b.access_token))throw new Error("No access token available");const S=await fetch("/api/radios/status",{headers:{Authorization:`Bearer ${b.access_token}`}});if(!S.ok)throw new Error(`Failed to fetch available radios: ${S.statusText}`);const _=await S.json();if(!_){a([]);return}const O=Array.isArray(_)?_.map(F=>F.name):[];a(O)}catch(b){console.error("Erro ao buscar rdios disponveis:",b),l("No foi possvel carregar a lista de rdios")}},m=async b=>{var S;if(!t)return!1;try{i(!0);const{data:_,error:O}=await ot.auth.updateUser({data:{...t.user_metadata,favorite_radios:b}});if(O)throw console.error("Error saving favorite radios:",O),new Error(`Failed to save favorite radios: ${O.message}`);if(await ot.auth.refreshSession(),_.user){const F=((S=_.user.user_metadata)==null?void 0:S.favorite_radios)||[];return r(Array.isArray(F)?F:[]),!0}return!1}catch(_){return console.error("Erro ao salvar rdios favoritas:",_),l("No foi possvel salvar suas rdios favoritas"),!1}finally{i(!1)}},x=()=>{var S;if(!t)return!1;const b=((S=t.user_metadata)==null?void 0:S.favorite_radios)||[];return Array.isArray(b)&&b.length>0};return H.useEffect(()=>{const{data:{subscription:b}}=ot.auth.onAuthStateChange((S,_)=>{var O;if(S==="USER_UPDATED"&&(_!=null&&_.user)){const F=((O=_.user.user_metadata)==null?void 0:O.favorite_radios)||[];r(Array.isArray(F)?F:[])}});return()=>{b.unsubscribe()}},[]),H.useEffect(()=>{t&&(async()=>{i(!0),l(null);try{await Promise.all([p(),v()])}catch(S){console.error("Erro ao carregar dados:",S),l("Ocorreu um erro ao carregar os dados")}finally{i(!1)}})()},[t,d]),{favoriteRadios:e,availableRadios:n,loading:s,error:o,saveFavoriteRadios:m,hasFavorites:x,refresh:async()=>{h(b=>b+1)}}};function ej(){const{currentUser:t}=br(),{refresh:e}=QN(),[r,n]=H.useState([]),[a,s]=H.useState(!0),[i,o]=H.useState(null);H.useEffect(()=>{t&&d()},[t]);const l=async()=>{const{data:{session:v}}=await ot.auth.getSession();return{Authorization:`Bearer ${v==null?void 0:v.access_token}`,"Content-Type":"application/json"}},d=async()=>{try{s(!0),o(null);const v=await l(),m=await fetch("/api/radios/status",{headers:v});if(!m.ok)throw new Error("Failed to fetch radios");const x=await m.json();n(x)}catch(v){console.error("Error fetching radios:",v),o("Erro ao carregar as rdios. Por favor, tente novamente.")}finally{s(!1)}},h=async(v,m)=>{try{const x=await l();if(!(await fetch("/api/radios/favorite",{method:"POST",headers:x,body:JSON.stringify({radioName:v,favorite:!m})})).ok)throw new Error("Failed to update favorite status");await ot.auth.refreshSession(),n(S=>S.map(_=>_.name===v?{..._,isFavorite:!m}:_)),await new Promise(S=>setTimeout(S,500)),await e()}catch(x){console.error("Error updating favorite status:",x),o("Erro ao atualizar favoritos. Por favor, tente novamente.")}},p=v=>{try{const m=new Date(v);return{full:vh(m,"dd/MM/yyyy 's' HH:mm",{locale:rm}),relative:iN(m,{locale:rm,addSuffix:!0})}}catch{return{full:"Data indisponvel",relative:"Data indisponvel"}}};return a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(dn,{className:"w-8 h-8 animate-spin text-blue-600"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando rdios..."})]})}):i?u.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100 rounded-lg",children:i}):u.jsx("div",{className:"space-y-6 p-6",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>{const{full:m,relative:x}=p(v.lastUpdate);return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Un,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:v.name}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ltima atualizao: ",x]})]})]}),u.jsx("button",{onClick:()=>h(v.name,v.isFavorite),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:u.jsx(Oi,{className:`w-5 h-5 ${v.isFavorite?"text-yellow-400 fill-yellow-400":"text-gray-400 dark:text-gray-500"}`})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${v.status==="ONLINE"?"bg-green-500":"bg-red-500"}`}),u.jsx("span",{className:`text-sm font-medium ${v.status==="ONLINE"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:v.status})]}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:u.jsxs("p",{title:m,children:["ltima transmisso: ",m]})})]},v.name)})})})}function tj(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}tj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var yf=t=>typeof t=="number"&&!isNaN(t),el=t=>typeof t=="string",c1=t=>typeof t=="function",rj=t=>el(t)||yf(t),nj=t=>H.isValidElement(t)||el(t)||c1(t)||yf(t),aj=1,u1=()=>`${aj++}`,da=new Map,yh=[],nm=new Set,d1=()=>da.size>0,sj=(t,{containerId:e})=>{var r;return(r=da.get(e||1))==null?void 0:r.toasts.get(t)};function ij(t,e){var r;if(e)return!!((r=da.get(e))!=null&&r.isToastActive(t));let n=!1;return da.forEach(a=>{a.isToastActive(t)&&(n=!0)}),n}function oj(t){if(!d1()){yh=yh.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||rj(t))da.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=da.get(t.containerId);e?e.removeToast(t.id):da.forEach(r=>{r.removeToast(t.id)})}}var lj=(t={})=>{da.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function cj(t,e){nj(t)&&(d1()||yh.push({content:t,options:e}),da.forEach(r=>{r.buildToast(t,e)}))}function h1(t,e){da.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function uj(t){return nm.add(t),()=>{nm.delete(t)}}function dj(t){return t&&(el(t.toastId)||yf(t.toastId))?t.toastId:u1()}function ul(t,e){return cj(t,e),e.toastId}function ku(t,e){return{...e,type:e&&e.type||t,toastId:dj(e)}}function Nu(t){return(e,r)=>ul(e,ku(t,r))}function vt(t,e){return ul(t,ku("default",e))}vt.loading=(t,e)=>ul(t,ku("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function hj(t,{pending:e,error:r,success:n},a){let s;e&&(s=el(e)?vt.loading(e,a):vt.loading(e.render,{...a,...e}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(d,h,p)=>{if(h==null){vt.dismiss(s);return}let v={type:d,...i,...a,data:p},m=el(h)?{render:h}:h;return s?vt.update(s,{...v,...m}):vt(m.render,{...v,...m}),p},l=c1(t)?t():t;return l.then(d=>o("success",n,d)).catch(d=>o("error",r,d)),l}vt.promise=hj;vt.success=Nu("success");vt.info=Nu("info");vt.error=Nu("error");vt.warning=Nu("warning");vt.warn=vt.warning;vt.dark=(t,e)=>ul(t,ku("default",{theme:"dark",...e}));function fj(t){oj(t)}vt.dismiss=fj;vt.clearWaitingQueue=lj;vt.isActive=ij;vt.update=(t,e={})=>{let r=sj(t,e);if(r){let{props:n,content:a}=r,s={delay:100,...n,...e,toastId:e.toastId||t,updateId:u1()};s.toastId!==t&&(s.staleId=t);let i=s.render||a;delete s.render,ul(i,s)}};vt.done=t=>{vt.update(t,{progress:1})};vt.onChange=uj;vt.play=t=>h1(!0,t);vt.pause=t=>h1(!1,t);const _n={ADMIN:"ADMIN",ATIVO:"ATIVO",INATIVO:"INATIVO",TRIAL:"TRIAL"};function pj(){const[t,e]=H.useState([]),[r,n]=H.useState(null),[a,s]=H.useState([]),[i,o]=H.useState(!0),[l,d]=H.useState(null),[h,p]=H.useState("ALL"),[v,m]=H.useState(null);H.useState("INATIVO");const[x,b]=H.useState(!1),{updateUserStatus:S,currentUser:_,userStatus:O}=br();H.useEffect(()=>{X()},[]),H.useEffect(()=>{F()},[t,h]);const F=()=>{const R=t.filter(k=>[_n.ATIVO,_n.INATIVO,_n.ADMIN,_n.TRIAL].includes(k.status));s(h==="ALL"?R:R.filter(k=>k.status===h))},X=async()=>{try{o(!0),d(""),console.log("Carregando usurios...");const{data:R,error:k}=await ot.from("users").select("id, email, status, created_at, updated_at").order("created_at",{ascending:!1});if(k)throw k;console.log("Usurios carregados:",R),e(R)}catch(R){console.error("Erro ao carregar usurios:",R);let k="Erro ao carregar usurios";R.message.includes("permission denied")?k="Acesso negado. Apenas administradores podem visualizar usurios.":k=R.message,d(k)}finally{o(!1)}},J=async(R,k)=>{try{if(R===(_==null?void 0:_.id)&&O==="ADMIN"&&k!=="ADMIN"){d("Voc no pode remover seu prprio status de administrador");return}o(!0),n(R);const A=t.find(ae=>ae.id===R);if(!A)throw new Error("Usurio no encontrado na lista");console.log(`Alterando status do usurio ${R} de ${A.status} para ${k}`);const E=await ot.auth.getSession();if(!E.data.session)throw new Error("Sesso no encontrada");const U=k==="TRIAL"?{trial_start_date:new Date().toISOString()}:{},Z=await fetch("/api/users/update-status",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E.data.session.access_token}`},body:JSON.stringify({userId:R,newStatus:k,...U})}),re=await Z.json();if(!Z.ok)throw new Error(re.error||"Erro ao atualizar status");console.log("Resposta do servidor:",re),e(t.map(ae=>ae.id===R?{...ae,status:k}:ae)),m(null),vt.success(`Status do usurio alterado com sucesso para ${k}`),await X()}catch(A){console.error("Erro ao atualizar status:",A),d(`Erro ao atualizar status: ${A.message}`),vt.error(`Erro ao atualizar status: ${A.message}`)}finally{o(!1),n(null)}},ce=async R=>{if(window.confirm("Tem certeza que deseja remover este usurio?"))try{d(""),o(!0);const k=await ot.auth.getSession();if(!k.data.session)throw new Error("Sesso no encontrada");const A=await fetch("/api/users/remove",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k.data.session.access_token}`},body:JSON.stringify({userId:R})});if(!A.ok){const E=await A.json();throw new Error(E.error||"Erro ao remover usurio")}await X(),vt.success("Usurio removido com sucesso")}catch(k){d("Erro ao remover usurio: "+k.message),console.error("Erro ao remover usurio:",k),vt.error("Erro ao remover usurio: "+k.message)}finally{o(!1)}},K=async R=>{if(window.confirm("Tem certeza que deseja simular o fim do perodo de teste para este usurio? Isso ir alterar o status para INATIVO."))try{d(""),n(R);const k=t.find(Z=>Z.id===R);if(!k)throw new Error("Usurio no encontrado na lista");console.log(`Simulando fim do perodo trial para o usurio ${R} (status atual: ${k.status})`);const{data:{session:A}}=await ot.auth.getSession();if(!A)throw new Error("Sesso no encontrada");const E=await fetch("/api/simulate-trial-end",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A.access_token}`},body:JSON.stringify({userId:R})}),U=await E.json();if(!E.ok)throw new Error(U.error||"Erro ao simular fim do perodo de teste");console.log("Resposta do servidor:",U),e(t.map(Z=>Z.id===R?{...Z,status:"INATIVO"}:Z)),vt.success("Perodo de teste encerrado com sucesso"),await X()}catch(k){console.error("Erro ao simular fim do perodo de teste:",k),d("Erro ao simular fim do perodo de teste: "+k.message),vt.error("Erro ao simular fim do perodo de teste: "+k.message)}finally{n(null)}},D=async()=>{try{b(!0),await X(),vt.success("Lista de usurios atualizada com sucesso")}catch{vt.error("Erro ao atualizar lista de usurios")}finally{b(!1)}},Y=R=>R?new Date(R).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return i?u.jsx(du,{size:"large",message:"Carregando usurios..."}):u.jsxs("div",{className:"space-y-4",children:[l&&u.jsx($c,{message:l}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:h,onChange:R=>p(R.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 px-3 py-2",children:[u.jsx("option",{value:"ALL",children:"Todos"}),u.jsx("option",{value:"ADMIN",children:"Admin"}),u.jsx("option",{value:"ATIVO",children:"Ativo"}),u.jsx("option",{value:"INATIVO",children:"Inativo"}),u.jsx("option",{value:"TRIAL",children:"Trial"})]}),u.jsx("button",{onClick:D,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",disabled:x,children:u.jsx(Jm,{className:`w-5 h-5 ${x?"animate-spin":""}`})})]})}),l&&u.jsx($c,{message:l,onClose:()=>d("")}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full bg-white rounded-lg shadow",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Criao"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltima Atualizao"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map(R=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(E0,{email:R.email||"",photoURL:R.photoURL,size:"sm",className:"mr-3"}),u.jsx("div",{className:"text-sm text-gray-900",children:R.email})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                      ${R.status===_n.ATIVO?"bg-green-100 text-green-800":R.status===_n.ADMIN?"bg-purple-100 text-purple-800":R.status===_n.TRIAL?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:R.status})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:Y(R.created_at)})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-900",children:Y(R.updated_at)})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:R.status,onChange:k=>J(R.id,k.target.value),disabled:r===R.id,className:`block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm 
                          focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm
                          ${r===R.id?"opacity-50":""}`,children:[u.jsx("option",{value:_n.INATIVO,children:"Inativo"}),u.jsx("option",{value:_n.ATIVO,children:"Ativo"}),u.jsx("option",{value:_n.ADMIN,children:"Admin"}),u.jsx("option",{value:_n.TRIAL,children:"Trial"})]}),R.status===_n.TRIAL&&u.jsx("button",{onClick:()=>K(R.id),disabled:r===R.id,className:"p-2 text-orange-600 hover:text-orange-800 hover:bg-orange-50 rounded-md",title:"Simular fim do perodo de teste",children:u.jsx(nu,{className:"w-5 h-5"})}),R.id!==(_==null?void 0:_.id)&&u.jsx("button",{onClick:()=>ce(R.id),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md",title:"Remover usurio",children:u.jsx(Rh,{className:"w-5 h-5"})})]})})]},R.id))})]})}),u.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Total de usurios: ",a.length]})]})]})}function mj(){br();const[t,e]=H.useState(!0),[r,n]=H.useState(null),[a,s]=H.useState([]),[i,o]=H.useState(null),[l,d]=H.useState(""),h=async()=>{const{data:{session:b}}=await ot.auth.getSession();return{Authorization:`Bearer ${b==null?void 0:b.access_token}`,"Content-Type":"application/json"}};H.useEffect(()=>{p()},[]);const p=async()=>{try{e(!0),n(null);const b=await h(),S=await fetch("/api/radio-abbreviations",{headers:b});if(!S.ok)throw new Error("Falha ao buscar abreviaes");const _=await S.json();console.log("Dados recebidos da API:",_),console.log("Total de abreviaes recebidas:",_.length);const O=_.filter(X=>["Spotify","Youtube"].includes(X.radio_name)),F=_.filter(X=>!["Spotify","Youtube"].includes(X.radio_name));console.log("Plataformas de streaming:",O),console.log("Rdios:",F),console.log("Total de rdios:",F.length),s(_)}catch(b){console.error("Erro ao buscar abreviaes:",b),n("Erro ao carregar abreviaes. Por favor, tente novamente.")}finally{e(!1)}},v=(b,S)=>{o(b),d(S)},m=async b=>{try{n(null);const S=await h(),_=await fetch("/api/radio-abbreviations",{method:"POST",headers:S,body:JSON.stringify({radioName:b,abbreviation:l.toUpperCase()})});if(!_.ok){const F=await _.json();throw new Error(F.error||"Falha ao salvar abreviao")}const O=await _.json();s(F=>F.map(X=>X.radio_name===b?{...X,abbreviation:O.abbreviation}:X)),o(null),d("")}catch(S){console.error("Erro ao salvar abreviao:",S),n(S.message||"Erro ao salvar abreviao. Por favor, tente novamente.")}},x=()=>{o(null),d(""),n(null)};return t?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx(dn,{className:"w-8 h-8 animate-spin text-blue-600"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando abreviaes..."})]})}):r?u.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100 rounded-lg",children:r}):u.jsxs("div",{className:"space-y-6 p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Gerenciar Abreviaes de Rdios"}),u.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Rdio"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Abreviao"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Aes"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(b=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:b.radio_name}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:i===b.radio_name?u.jsx("input",{type:"text",value:l,onChange:S=>d(S.target.value.toUpperCase()),maxLength:3,className:"w-20 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700",placeholder:"ABC"}):b.abbreviation}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i===b.radio_name?u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>m(b.radio_name),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",children:"Salvar"}),u.jsx("button",{onClick:x,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Cancelar"})]}):u.jsx("button",{onClick:()=>v(b.radio_name,b.abbreviation),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Editar"})})]},b.radio_name))})]})})]})}const Rr="https://songmetrix.com.br",qr=async()=>{try{const{data:{session:t}}=await ot.auth.getSession(),e=t==null?void 0:t.access_token;return e||(console.warn("Token de autenticao no encontrado"),"")}catch(t){return console.error("Erro ao obter token de autenticao:",t),""}},gj={login:async t=>{try{const e=await fetch(`${Rr}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const r=await e.json();throw new Error(r.message||"Erro ao fazer login")}return await e.json()}catch(e){throw console.error("Erro ao fazer login:",e),e}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")}},vj={getAll:async()=>{try{const t=await fetch(`${Rr}/api/streams`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Erro ao buscar streams")}return await t.json()}catch(t){throw console.error("Erro ao buscar streams:",t),t}},create:async t=>{try{const e=await fetch(`${Rr}/api/streams`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await qr()}`},body:JSON.stringify(t)});if(!e.ok){const r=await e.json();throw new Error(r.message||"Erro ao criar stream")}return await e.json()}catch(e){throw console.error("Erro ao criar stream:",e),e}},update:async(t,e)=>{try{const r=await fetch(`${Rr}/api/streams/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await qr()}`},body:JSON.stringify(e)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Erro ao atualizar stream")}return await r.json()}catch(r){throw console.error("Erro ao atualizar stream:",r),r}},delete:async t=>{try{const e=await fetch(`${Rr}/api/streams/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${await qr()}`}});if(!e.ok){const r=await e.json();throw new Error(r.message||"Erro ao excluir stream")}return await e.json()}catch(e){throw console.error("Erro ao excluir stream:",e),e}}},yj={getStats:async()=>{try{const t=await fetch(`${Rr}/api/dashboard/stats`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Erro ao buscar estatsticas")}return await t.json()}catch(t){throw console.error("Erro ao buscar estatsticas:",t),t}},getGenreDistribution:async()=>{try{const t=await fetch(`${Rr}/api/dashboard/genre-distribution`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Erro ao buscar distribuio de gneros")}return await t.json()}catch(t){throw console.error("Erro ao buscar distribuio de gneros:",t),t}}},bj={getRecent:async(t=10)=>{try{const e=await fetch(`${Rr}/api/executions/recent?limit=${t}`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!e.ok){const r=await e.json();throw new Error(r.message||"Erro ao buscar execues recentes")}return await e.json()}catch(e){throw console.error("Erro ao buscar execues recentes:",e),e}}},wj={uploadLogo:async t=>{try{const e=await fetch(`${Rr}/api/uploads/logo`,{method:"POST",headers:{Authorization:`Bearer ${await qr()}`},body:t});if(!e.ok){const n=await e.json();throw console.error("Erro ao fazer upload de logo:",n),new Error(n.message||"Erro ao fazer upload de logo")}const r=await e.json();return console.log("Resposta do servidor para upload de logo:",r),{success:r.success,url:r.url,fileName:r.fileName,radioId:r.radioId,radioName:r.radioName}}catch(e){throw console.error("Erro ao fazer upload de logo:",e),e}}},xj={getRadios:async()=>{try{const t=await fetch(`${Rr}/api/radios/status`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Erro ao buscar rdios")}return await t.json()}catch(t){throw console.error("Erro ao buscar rdios:",t),t}},getRadioAbbreviations:async()=>{try{const t=await fetch(`${Rr}/api/radio-abbreviations`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Erro ao buscar abreviaes de rdios")}return await t.json()}catch(t){throw console.error("Erro ao buscar abreviaes de rdios:",t),t}},getCities:async()=>{try{const t=await fetch(`${Rr}/api/cities`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Erro ao buscar cidades")}return await t.json()}catch(t){throw console.error("Erro ao buscar cidades:",t),t}},getStates:async()=>{try{const t=await fetch(`${Rr}/api/states`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Erro ao buscar estados")}return await t.json()}catch(t){throw console.error("Erro ao buscar estados:",t),t}},validateLocation:async(t,e)=>{try{const r=await fetch(`${Rr}/api/validate-location?city=${t}&state=${e}`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Erro ao validar localizao")}return await r.json()}catch(r){throw console.error("Erro ao validar localizao:",r),r}},getRadiosByLocation:async(t,e)=>{const r=new URLSearchParams;t&&r.append("city",t),e&&r.append("state",e);try{const n=await fetch(`${Rr}/api/radios/by-location?${r}`,{headers:{Authorization:`Bearer ${await qr()}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Erro ao buscar rdios por localizao")}return await n.json()}catch(n){throw console.error("Erro ao buscar rdios por localizao:",n),n}},generateReport:async t=>{try{console.log("Iniciando gerao de relatrio com parmetros:",t);const e=new URLSearchParams;Object.entries(t).forEach(([o,l])=>{l!=null&&(Array.isArray(l)?l.forEach(d=>e.append(o,d)):e.append(o,l))});const r=`${Rr}/api/report?${e}`;console.log("URL da requisio:",r);const n=await qr();console.log("Token obtido:",n?"Token vlido":"Token invlido ou ausente");const a=await fetch(r,{headers:{Authorization:`Bearer ${n}`}});if(console.log("Status da resposta:",a.status,a.statusText),!a.ok){const o=a.headers.get("content-type");if(console.log("Tipo de contedo da resposta de erro:",o),o&&o.includes("application/json")){const l=await a.json();throw console.error("Dados de erro JSON:",l),new Error(l.message||`Erro ao gerar relatrio: ${a.status}`)}else{const l=await a.text();throw console.error("Texto de erro da resposta:",l),new Error(`Erro ao gerar relatrio: ${a.status} ${a.statusText}`)}}const s=a.headers.get("content-type");console.log("Tipo de contedo da resposta bem-sucedida:",s);let i;if(s&&s.includes("application/json")){const o=await a.json();console.log("Dados brutos recebidos da API:",o);const l=t.radios,d=l?l.split("||"):[];if(console.log("Lista de rdios extrada do parmetro:",d),Array.isArray(o))i=o;else if(o&&typeof o=="object")if(o.data&&Array.isArray(o.data))i=o.data;else if(o.results&&Array.isArray(o.results))i=o.results;else if(o.songs&&Array.isArray(o.songs))i=o.songs;else if(o.tracks&&typeof o.tracks=="object")i=Object.entries(o.tracks).map(([h,p])=>({id:h,title:p.title||"Ttulo desconhecido",artist:p.artist||"Artista desconhecido",executions:p.executions||{},total:p.total||Object.values(p.executions||{}).reduce((v,m)=>v+Number(m||0),0)||0}));else if(o.chart&&Array.isArray(o.chart))i=o.chart.map(h=>({title:h.title||"Ttulo desconhecido",artist:h.artist||"Artista desconhecido",executions:h.executions||{},total:h.total||Object.values(h.executions||{}).reduce((p,v)=>p+Number(v||0),0)||0}));else if(o.radios&&typeof o.radios=="object"){console.log("Detectado formato de relatrio por cidade/estado");const h=new Map;Object.entries(o.radios).forEach(([p,v])=>{v.tracks&&Object.entries(v.tracks).forEach(([m,x])=>{if(x&&typeof x=="object"&&x.title&&x.artist){h.has(m)||h.set(m,{title:x.title,artist:x.artist,executions:{},total:0});const b=typeof x.count=="number"?x.count:typeof x=="number"?x:1,S=h.get(m);S.executions[p]=b,S.total+=b}})}),i=Array.from(h.values()),console.log(`Processadas ${i.length} msicas nicas de ${Object.keys(o.radios).length} rdios`)}else console.warn("Formato de dados desconhecido, tentando adaptar:",o),i=[],Object.keys(o).length>0&&!Object.keys(o).includes("error")&&Object.entries(o).forEach(([h,p])=>{p&&typeof p=="object"&&(p.title||p.artist)&&i.push({title:p.title||h,artist:p.artist||"Desconhecido",executions:p.executions||{},total:p.total||Object.values(p.executions||{}).reduce((v,m)=>v+Number(m||0),0)||0})});return i=(i||[]).map(h=>(h.executions||(h.executions={}),d.length>0&&d.forEach(p=>{h.executions[p]===void 0&&(h.executions[p]=0)}),h.total=Object.values(h.executions).reduce((p,v)=>p+Number(v||0),0),h)),i.sort((h,p)=>(p.total||0)-(h.total||0)),console.log(`Dados processados: ${i.length} msicas com execues detalhadas`),i}else{const o=await a.text();throw console.error("Resposta no  JSON:",o),new Error("Resposta da API no est no formato JSON esperado")}}catch(e){throw console.error("Erro ao gerar relatrio:",e),e}}},ln={auth:gj,streams:vj,dashboard:yj,executions:bj,uploads:wj,reports:xj},am=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],sm=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],la={},bh=(t,e,r)=>{var n;try{const a=((n=t.split("/").pop())==null?void 0:n.split("?")[0])||"",s=t.includes("?radio=")?decodeURIComponent(t.split("?radio=")[1]):"",i=r?`radio_${r}_`:s?`${s.toLowerCase().replace(/[^a-z0-9]/g,"_")}_`:"";if(a){const o=`logo_cache_${i}${a}`;return localStorage.setItem(o,e),console.log("Imagem base64 armazenada em cache local com chave exclusiva:",o),o}}catch(a){console.error("Erro ao armazenar imagem base64 em cache local:",a)}return null},bf=(t,e,r)=>{var n;try{if(!t)return null;const a=((n=t.split("/").pop())==null?void 0:n.split("?")[0])||"",s=t.includes("?radio=")?decodeURIComponent(t.split("?radio=")[1]):r||"";if(a){if(e){const l=`logo_cache_radio_${e}_${a}`,d=localStorage.getItem(l);if(d)return console.log("Imagem base64 recuperada do cache local com ID especfico da rdio:",l),d}if(s){const l=`logo_cache_${s.toLowerCase().replace(/[^a-z0-9]/g,"_")}_${a}`,d=localStorage.getItem(l);if(d)return console.log("Imagem base64 recuperada do cache local com nome especfico da rdio:",l),d}const i=`logo_cache_${a}`,o=localStorage.getItem(i);if(o)return console.log("Imagem base64 recuperada do cache local com chave:",i),o}return null}catch(a){console.error("Erro ao recuperar imagem base64 do cache local:",a)}return null},im=({src:t,alt:e,className:r,radioName:n,radioId:a})=>{const[s,i]=H.useState(!1),[o,l]=H.useState(null);H.useEffect(()=>{const b=n&&!t.includes("?radio=")?`${t}?radio=${encodeURIComponent(n)}`:t,S=bf(b,a,n);if(S){console.log("Usando verso base64 do localStorage para rdio:",n||a,b),l(S);return}if(t&&la[t]){console.log("Imagem com erro no cache, exibindo fallback direto:",t),i(!0);return}if(!t){i(!0);return}if(t.startsWith("data:")){l(t);return}try{const _=x(t);l(_)}catch(_){console.error("Erro ao normalizar URL:",_),i(!0)}},[t,n,a]);const d=b=>{console.error("Erro ao carregar imagem:",t),t&&(la[t]=!0),i(!0);const S=b.currentTarget;S.onerror=null,S.src='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line></svg>'},h=b=>{try{return new URL(b),!0}catch{return!1}},p=b=>{if(!h(b))return!1;try{const S=new URL(b),_=window.location.origin;return S.hostname!==window.location.hostname}catch{return!1}},v=()=>{try{return typeof window<"u"&&typeof window.URL=="function"&&typeof document.createElement=="function"}catch{return!1}},m=b=>{try{return new URL(b,window.location.origin).href}catch{return b}},x=b=>{if(!v()||s||!b||!h(b))return b;if(p(b))try{const _=new URL(b).pathname,O=m(_);return console.log(`Convertendo URL cross-origin: ${b}  ${O}`),O}catch(S){return console.error("Erro ao normalizar URL:",S),b}return b};return s?u.jsx("div",{className:`${r} flex items-center justify-center bg-gray-100 dark:bg-gray-700`,children:u.jsx(Un,{className:"w-6 h-6 text-gray-400"})}):!o&&!s?u.jsx("div",{className:`${r} flex items-center justify-center bg-gray-100 dark:bg-gray-700`,children:u.jsx("div",{className:"animate-pulse w-6 h-6 rounded-full bg-gray-300 dark:bg-gray-600"})}):u.jsx("img",{src:o||"",alt:e,className:r,onError:d})},om=(t,e,r)=>{var n;try{if(!t&&!e&&!r)return;console.log("Limpando cache de imagens para rdio:",t||e);const a=Object.keys(localStorage),s=[t?`logo_cache_radio_${t}_`:null,e?`logo_cache_${e.toLowerCase().replace(/[^a-z0-9]/g,"_")}_`:null].filter(Boolean);let i="";r&&(i=((n=r.split("/").pop())==null?void 0:n.split("?")[0])||"");let o=0;for(const l of a){const d=s.some(p=>p&&l.includes(p)),h=i&&l.includes(i);(d||h)&&(localStorage.removeItem(l),o++,console.log("Removida entrada de cache:",l))}console.log(`Limpeza de cache concluda. Removidas ${o} entradas.`)}catch(a){console.error("Erro ao limpar cache de imagens:",a)}},_j=(t,e)=>{try{if(!t&&!e)return;console.log("Limpando cache de imagens antigas para rdio:",t||e);const r=Object.keys(localStorage),n=[t?`logo_cache_radio_${t}_`:null,e?`logo_cache_${e.toLowerCase().replace(/[^a-z0-9]/g,"_")}_`:null].filter(Boolean);let a=0;for(const s of r)n.some(o=>o&&s.includes(o))&&(localStorage.removeItem(s),a++,console.log("Removida entrada de cache antiga:",s));console.log(`Limpeza de cache concluda. Removidas ${a} entradas antigas.`)}catch(r){console.error("Erro ao limpar cache de imagens antigas:",r)}},Sj=async t=>{try{const e=`${t}${t.includes("?")?"&":"?"}t=${Date.now()}`;return(await fetch(e,{method:"HEAD"})).ok}catch(e){return console.error("Erro ao verificar existncia da imagem:",e),!1}},lm=async t=>{var e;if(!(!t||t.length===0)){console.log("Iniciando pr-carregamento de imagens para",t.length,"streams");for(const r of t){if(!r.logo_url)continue;if(bf(r.logo_url,r.name,(e=r.id)==null?void 0:e.toString())){console.log("Imagem j disponvel em cache para:",r.name,r.logo_url);continue}if(la[r.logo_url]){console.log("Imagem j marcada como erro no cache:",r.logo_url);continue}if(!await Sj(r.logo_url)){console.log("Imagem no encontrada no servidor:",r.logo_url),la[r.logo_url]=!0;continue}console.log("Pr-carregando imagem para rdio:",r.name,r.logo_url);const s=document.createElement("img");s.crossOrigin="anonymous",s.onload=()=>{var i;try{const o=document.createElement("canvas");o.width=s.width,o.height=s.height;const l=o.getContext("2d");l==null||l.drawImage(s,0,0);const d=o.toDataURL("image/png");bh(r.logo_url||"",d,(i=r.id)==null?void 0:i.toString()),console.log("Imagem pr-carregada e salva em cache para:",r.name)}catch(o){console.error("Erro ao converter imagem para base64:",o)}},s.onerror=()=>{console.log(" Erro ao pr-carregar imagem para rdio:",r.name,r.logo_url),la[r.logo_url||""]=!0},s.src=`${r.logo_url}${r.logo_url.includes("?")?"&":"?"}t=${Date.now()}`}}},kj=()=>{const{currentUser:t}=br(),[e,r]=H.useState([]),[n,a]=H.useState([]),[s,i]=H.useState(!0),[o,l]=H.useState(""),[d,h]=H.useState(!1),[p,v]=H.useState(null),[m,x]=H.useState({url:"",name:"",sheet:"",cidade:"",estado:"",pais:"Brasil",regiao:"",segmento:"",formato:"",frequencia:"",facebook:"",instagram:"",twitter:"",youtube:"",site:"",monitoring_url:"",logo_url:"",index:""}),[b,S]=H.useState({regiao:"",estado:"",cidade:"",segmento:"",formato:""}),[_,O]=H.useState(!1),[F,X]=H.useState([]),[J,ce]=H.useState([]),[K,D]=H.useState([]),Y=H.useRef(null),[R,k]=H.useState(null),[A,E]=H.useState(null),U=T=>{if(!T)return null;if(T.startsWith("data:"))return T;try{const q=new URL(T);return window.location.hostname!==q.hostname?`${window.location.origin}${q.pathname}`:T}catch(q){return console.error("Erro ao normalizar URL:",q),T}},Z=H.useCallback(async()=>{try{i(!0),console.log("Buscando streams...");const T=localStorage.getItem("token");console.log("Token disponvel:",!!T);const q=await fetch("https://songmetrix.com.br/api/streams",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T||""}`}});if(!q.ok)throw new Error(`Erro ao buscar streams: ${q.status} ${q.statusText}`);const z=await q.json();console.log("Streams obtidos:",z.length),Array.isArray(z)?(r(z),setTimeout(()=>{lm(z)},500)):(console.error("Dados recebidos no so um array:",z),r([]))}catch(T){console.error("Erro ao carregar streams:",T),vt.error("Erro ao carregar os streams. Tente novamente mais tarde."),r([])}finally{i(!1)}},[lm]);H.useEffect(()=>{t&&Z()},[t,Z]),H.useEffect(()=>{if(e.length>0){const T=[...new Set(e.map(Q=>Q.cidade))].sort();X(T);const q=[...new Set(e.flatMap(Q=>Q.segmento.split(",").map(ne=>ne.trim())))].sort();ce(q);const z=[...new Set(e.flatMap(Q=>(Q.formato||Q.segmento).split(",").map(ne=>ne.trim())))].sort();D(z),re()}},[e,o,b]),H.useEffect(()=>{if(d&&(p!=null&&p.logo_url)){let T=p.logo_url;window.location.hostname!=="localhost"&&T.includes("localhost")&&(T=T.replace(/http:\/\/localhost:[0-9]+/,window.location.origin),console.log("URL da logo normalizada para produo:",T));const q=new Date().getTime(),z=T.includes("?")?`${T}&t=${q}`:`${T}?t=${q}`;console.log("Atualizando URL da logo com timestamp para evitar cache:",z),x(Q=>({...Q,logo_url:z}))}},[d,p]),H.useEffect(()=>{e.length>0&&(console.log("Iniciando pr-carregamento de imagens para",e.length,"streams"),e.forEach(T=>{if(T.logo_url&&T.name){const q=`${T.logo_url}?radio=${encodeURIComponent(T.name)}`;if(bf(q,T.id,T.name)){console.log("Imagem j disponvel em cache para:",T.name,T.logo_url);return}if(la[T.logo_url]){console.log("Imagem j marcada como erro no cache:",T.logo_url);return}console.log("Pr-carregando imagem para rdio:",T.name,T.logo_url);const Q=document.createElement("img");Q.crossOrigin="anonymous",Q.onload=()=>{try{const ne=document.createElement("canvas");ne.width=Q.width,ne.height=Q.height;const Ae=ne.getContext("2d");if(Ae){Ae.drawImage(Q,0,0);const Ne=ne.toDataURL("image/png");bh(q,Ne,T.id),console.log("Imagem pr-carregada e convertida para base64 com sucesso para rdio:",T.name)}}catch(ne){console.error("Erro ao converter imagem para base64:",T.logo_url,ne)}},Q.onerror=()=>{console.error("Erro ao pr-carregar imagem para rdio:",T.name,T.logo_url),la[T.logo_url]=!0};try{const ne=U(T.logo_url);Q.src=ne||T.logo_url}catch(ne){console.error("URL invlida para pr-carregamento:",T.logo_url,ne),la[T.logo_url]=!0}}}))},[e]);const re=()=>{let T=[...e];if(o){const q=o.toLowerCase();T=T.filter(z=>z.name.toLowerCase().includes(q)||z.cidade.toLowerCase().includes(q)||(z.formato||"").toLowerCase().includes(q)||z.segmento.toLowerCase().includes(q)||(z.frequencia||"").toLowerCase().includes(q))}b.regiao&&(T=T.filter(q=>q.regiao===b.regiao)),b.estado&&(T=T.filter(q=>q.estado===b.estado)),b.cidade&&(T=T.filter(q=>q.cidade===b.cidade)),b.segmento&&(T=T.filter(q=>q.segmento.split(",").map(z=>z.trim()).includes(b.segmento))),b.formato&&(T=T.filter(q=>(q.formato||q.segmento).split(",").map(z=>z.trim()).includes(b.formato))),a(T)},ae=T=>{const{name:q,value:z}=T.target;x(Q=>({...Q,[q]:z}))},ee=T=>{var Ee,ue;const q=(Ee=T.target.files)==null?void 0:Ee[0];if(!q)return;if(!q.type.startsWith("image/")){vt.error("Por favor, selecione apenas arquivos de imagem");return}if(q.size>2*1024*1024){vt.error("O tamanho da imagem no pode exceder 2MB");return}const z=((ue=q.name.split(".").pop())==null?void 0:ue.toLowerCase())||"png",Q=m.name.trim(),ne=p==null?void 0:p.id;_j(ne,Q);let Ae=Q?`${Q.toLowerCase().replace(/[^a-z0-9]/g,"_")}_${ne||new Date().getTime()}.${z}`:`radio_${ne||new Date().getTime()}.${z}`;console.log("Nome do arquivo gerado para upload:",Ae);const Ne=new FileReader;Ne.onload=B=>{var $e;const Ue=($e=B.target)==null?void 0:$e.result;k(Ue),E(Ue);try{const je=`logo_cache_radio_${ne||new Date().getTime()}_${Ae}`;localStorage.setItem(je,Ue),console.log("Imagem base64 armazenada em cache local com chave exclusiva:",je)}catch(je){console.error("Erro ao armazenar imagem base64 em cache local:",je)}},Ne.readAsDataURL(q);const fe=new FormData;fe.append("logo",q),fe.append("fileName",Ae),fe.append("radioId",String(ne||"")),fe.append("radioName",Q),i(!0),console.log("Iniciando upload de logo...",Ae,"para rdio:",Q,"ID:",ne);const _e=localStorage.getItem("token");fetch("https://songmetrix.com.br/api/uploads/logo",{method:"POST",headers:{Authorization:`Bearer ${_e}`},body:fe}).then(B=>{if(!B.ok)throw new Error(`Erro no servidor: ${B.status}`);return B.json()}).then(B=>{if(console.log("Resposta do servidor aps upload:",B),B.success&&B.url){let Ue=B.url;window.location.hostname!=="localhost"&&Ue.includes("localhost")&&(Ue=Ue.replace(/http:\/\/localhost:[0-9]+/,window.location.origin),console.log("URL convertida para produo:",Ue)),la[Ue]&&(delete la[Ue],console.log("Cache de erro limpo para a URL:",Ue)),A&&bh(Ue,A,ne),x($e=>({...$e,logo_url:Ue})),vt.success("Logo enviado com sucesso!")}else throw new Error("Resposta invlida do servidor ao fazer upload da imagem")}).catch(B=>{console.error("Erro ao enviar logo:",B),vt.error("Erro ao enviar logo: "+(B.message||"Erro desconhecido"))}).finally(()=>{i(!1)})},de=T=>{const{name:q,value:z}=T.target;S(Q=>({...Q,[q]:z}))},pe=()=>{S({regiao:"",estado:"",cidade:"",segmento:"",formato:""}),l("")},Le=async T=>{T.preventDefault();try{console.log("Dados do formulrio a serem enviados:",m);const q={...m};if(q.logo_url&&(q.logo_url.includes("?t=")?q.logo_url=q.logo_url.split("?t=")[0]:q.logo_url.includes("&t=")&&(q.logo_url=q.logo_url.split("&t=")[0]),q.logo_url.includes("localhost"))){const Q=new URL(q.logo_url).pathname;window.location.hostname!=="localhost"&&(q.logo_url=`${window.location.origin}${Q}`,console.log("URL da logo normalizada para produo antes de salvar:",q.logo_url))}if(console.log("Dados limpos a serem enviados:",q),p!=null&&p.id){console.log("Atualizando stream existente com ID:",p.id);const z=await ln.streams.update(p.id,q);console.log("Resposta da atualizao:",z),vt.success("Stream atualizado com sucesso!")}else{console.log("Criando novo stream");const z=await ln.streams.create(q);console.log("Resposta da criao:",z),vt.success("Stream criado com sucesso!")}Z(),V()}catch(q){console.error("Erro ao salvar stream:",q),vt.error("Erro ao salvar stream")}},N=T=>{p&&p.id!==T.id&&om(p.id,p.name,p.logo_url),v(T),x(T),k(null),E(null),h(!0),window.scrollTo({top:0,behavior:"smooth"})},$=async T=>{if(T&&window.confirm("Tem certeza que deseja excluir este stream?"))try{const q=e.find(z=>z.id===T);q&&om(T,q.name,q.logo_url),await ln.streams.delete(T),vt.success("Stream excludo com sucesso!"),Z()}catch(q){console.error("Erro ao excluir stream:",q),vt.error("Erro ao excluir stream")}},V=()=>{p&&(k(""),E("")),v(null),x({url:"",name:"",sheet:"",cidade:"",estado:"",pais:"Brasil",regiao:"",segmento:"",formato:"",frequencia:"",facebook:"",instagram:"",twitter:"",youtube:"",site:"",monitoring_url:"",logo_url:"",index:""}),k(""),E(""),h(!1)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gerenciamento de Streams"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>O(!_),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[u.jsx(Zv,{className:"w-4 h-4"}),"Filtros"]}),u.jsxs("button",{onClick:()=>{V(),h(!d)},className:"flex items-center gap-2 px-3 py-2 bg-navy-600 text-white rounded-lg hover:bg-navy-700 transition-colors",children:[d?u.jsx(Ec,{className:"w-4 h-4"}):u.jsx(Qm,{className:"w-4 h-4"}),d?"Cancelar":"Novo Stream"]})]})]}),d&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[u.jsx(Un,{className:"w-5 h-5 mr-2 text-navy-600"}),p?"Editar Stream":"Novo Stream"]}),u.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"text-md font-medium mb-4 text-gray-700 dark:text-gray-300",children:"Informaes Bsicas"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome da Rdio"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Un,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",name:"name",value:m.name,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Frequncia"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Un,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",name:"frequencia",value:m.frequencia,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",placeholder:"104,5 ou 104.5 ou Web",required:!0})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Logotipo da Rdio"}),u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx("div",{className:"flex-shrink-0 w-24 h-24 border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:R||A||m.logo_url?(()=>{const T=R||A||U(m.logo_url);return console.log("Exibindo imagem:",R?"Preview local":A?"Base64 armazenado":"URL da logo normalizada",T),u.jsx(im,{src:T||"",alt:"Logo preview",className:"w-full h-full object-contain",radioName:m.name,radioId:p==null?void 0:p.id})})():u.jsx(Un,{className:"w-12 h-12 text-gray-400"})}),u.jsx("div",{className:"flex-grow",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"file",ref:Y,onChange:ee,accept:"image/*",className:"hidden"}),u.jsxs("button",{type:"button",onClick:()=>{var T;return(T=Y.current)==null?void 0:T.click()},className:"flex items-center gap-2 px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:[u.jsx(Qv,{className:"w-4 h-4"}),"Selecionar Imagem"]}),u.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Formatos aceitos: JPG, PNG, GIF. Tamanho mximo: 2MB."}),m.logo_url&&u.jsx("div",{className:"mt-2 flex items-center",children:u.jsxs("button",{type:"button",onClick:()=>{x(T=>({...T,logo_url:""})),k(null),E(null)},className:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 flex items-center",children:[u.jsx(Ec,{className:"w-3 h-3 mr-1"}),"Remover imagem"]})})]})})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"URL do Stream"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(rc,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"url",name:"url",value:m.url,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",required:!0})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"URL de Monitoramento de Ouvintes"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(rc,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"url",name:"monitoring_url",value:m.monitoring_url,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",placeholder:"https://monitoramento.exemplo.com/stats"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome na Planilha"}),u.jsx("input",{type:"text",name:"sheet",value:m.sheet,onChange:ae,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"ndice"}),u.jsx("input",{type:"text",name:"index",value:m.index,onChange:ae,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",required:!0})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("h3",{className:"text-md font-medium mb-4 text-gray-700 dark:text-gray-300 flex items-center",children:[u.jsx(Xd,{className:"w-4 h-4 mr-2 text-navy-600"}),"Localizao"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cidade"}),u.jsx("input",{type:"text",name:"cidade",value:m.cidade,onChange:ae,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estado"}),u.jsxs("select",{name:"estado",value:m.estado,onChange:ae,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",required:!0,children:[u.jsx("option",{value:"",children:"Selecione um estado"}),sm.map(T=>u.jsx("option",{value:T,children:T},T))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pas"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ey,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"text",name:"pais",value:m.pais,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Regio"}),u.jsxs("select",{name:"regiao",value:m.regiao,onChange:ae,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",required:!0,children:[u.jsx("option",{value:"",children:"Selecione uma regio"}),am.map(T=>u.jsx("option",{value:T,children:T},T))]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("h3",{className:"text-md font-medium mb-4 text-gray-700 dark:text-gray-300 flex items-center",children:[u.jsx(Mh,{className:"w-4 h-4 mr-2 text-navy-600"}),"Formato e Segmento"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Formato"}),u.jsx("textarea",{name:"formato",value:m.formato,onChange:ae,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",rows:2,required:!0,placeholder:"Ex: Jovem, Pop, Rock"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Segmento (Legado)"}),u.jsx("textarea",{name:"segmento",value:m.segmento,onChange:ae,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",rows:2,required:!0,placeholder:"Ex: Jovem, Pop, Rock"})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"text-md font-medium mb-4 text-gray-700 dark:text-gray-300",children:"Redes Sociais e Site"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Facebook"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ty,{className:"h-4 w-4 text-blue-600"})}),u.jsx("input",{type:"url",name:"facebook",value:m.facebook,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",placeholder:"https://facebook.com/..."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Instagram"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ry,{className:"h-4 w-4 text-pink-600"})}),u.jsx("input",{type:"url",name:"instagram",value:m.instagram,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",placeholder:"https://instagram.com/..."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"X (Twitter)"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ny,{className:"h-4 w-4 text-gray-700"})}),u.jsx("input",{type:"url",name:"twitter",value:m.twitter,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",placeholder:"https://x.com/..."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"YouTube"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ay,{className:"h-4 w-4 text-red-600"})}),u.jsx("input",{type:"url",name:"youtube",value:m.youtube,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",placeholder:"https://youtube.com/..."})]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Site"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(rc,{className:"h-4 w-4 text-green-600"})}),u.jsx("input",{type:"url",name:"site",value:m.site,onChange:ae,className:"pl-10 w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",placeholder:"https://..."})]})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancelar"}),u.jsxs("button",{type:"submit",className:"px-4 py-2 bg-navy-600 text-white rounded-lg hover:bg-navy-700 transition-colors flex items-center",children:[u.jsx(e0,{className:"w-4 h-4 mr-2"}),p?"Atualizar":"Salvar"]})]})]})]}),_&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Filtros"}),u.jsx("button",{onClick:pe,className:"text-sm text-navy-600 hover:text-navy-800 dark:text-navy-400 dark:hover:text-navy-300",children:"Limpar filtros"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Regio"}),u.jsxs("select",{name:"regiao",value:b.regiao,onChange:de,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",children:[u.jsx("option",{value:"",children:"Todas as regies"}),am.map(T=>u.jsx("option",{value:T,children:T},T))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estado"}),u.jsxs("select",{name:"estado",value:b.estado,onChange:de,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",children:[u.jsx("option",{value:"",children:"Todos os estados"}),sm.map(T=>u.jsx("option",{value:T,children:T},T))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cidade"}),u.jsxs("select",{name:"cidade",value:b.cidade,onChange:de,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",children:[u.jsx("option",{value:"",children:"Todas as cidades"}),F.map(T=>u.jsx("option",{value:T,children:T},T))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Formato"}),u.jsxs("select",{name:"formato",value:b.formato,onChange:de,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",children:[u.jsx("option",{value:"",children:"Todos os formatos"}),K.map(T=>u.jsx("option",{value:T,children:T},T))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Segmento (Legado)"}),u.jsxs("select",{name:"segmento",value:b.segmento,onChange:de,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500",children:[u.jsx("option",{value:"",children:"Todos os segmentos"}),J.map(T=>u.jsx("option",{value:T,children:T},T))]})]})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(sy,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",placeholder:"Buscar por nome, frequncia, cidade, formato ou segmento...",value:o,onChange:T=>l(T.target.value),className:"pl-10 w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500"})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s?u.jsx("div",{className:"flex justify-center items-center p-8",children:u.jsx(dn,{className:"w-8 h-8 animate-spin text-navy-600"})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Nome"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Frequncia"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cidade"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Estado"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Regio"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200",children:"Formato"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700 dark:text-gray-200",children:"Aes"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-gray-500 dark:text-gray-400",children:"Nenhum stream encontrado"})}):n.map(T=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-200",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 w-10 h-10 mr-3 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:T.logo_url?u.jsx(im,{src:T.logo_url,alt:`Logo ${T.name}`,className:"w-full h-full object-contain",radioName:T.name,radioId:T.id}):u.jsx(Un,{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:T.name}),T.site&&u.jsxs("a",{href:T.site,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-navy-600 hover:underline flex items-center mt-1",children:[u.jsx(rc,{className:"w-3 h-3 mr-1"}),"Site"]})]})]})}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-200",children:T.frequencia||"-"}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-200",children:T.cidade}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-200",children:T.estado}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-200",children:T.regiao}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-200",children:u.jsx("div",{className:"max-w-xs truncate",children:T.formato||T.segmento})}),u.jsx("td",{className:"px-4 py-3 text-sm text-right",children:u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{onClick:()=>N(T),className:"p-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Editar",children:u.jsx(t0,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>$(T.id),className:"p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:u.jsx(Rh,{className:"w-5 h-5"})})]})})]},T.id))})]})}),u.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700 text-sm text-gray-500 dark:text-gray-400",children:["Total: ",n.length," streams"]})]})]})},ju="https://songmetrix.com.br",Pu=async()=>{try{const{data:{session:t}}=await ot.auth.getSession(),e=t==null?void 0:t.access_token;if(!e)throw new Error("Nenhum token de autenticao disponvel");return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}catch(t){throw console.error("Erro ao obter cabealhos de autenticao:",t),t}},Nj=async(t,e)=>{try{const r=await Pu(),n=new URL(`${ju}${t}`),a=await fetch(n.toString(),{method:"GET",headers:r,credentials:"include"});if(!a.ok)throw new Error(`Falha na requisio: ${a.status}`);return await a.json()}catch(r){throw console.error(`Erro na requisio GET para ${t}:`,r),(r==null?void 0:r.code)==="auth/requires-recent-login"&&alert("Sua sesso expirou. Por favor, faa login novamente."),r}},jj=async(t,e)=>{try{const r=await Pu(),n=await fetch(`${ju}${t}`,{method:"POST",headers:r,credentials:"include",body:JSON.stringify(e)});if(!n.ok)throw new Error(`Falha na requisio: ${n.status}`);return await n.json()}catch(r){throw console.error(`Erro na requisio POST para ${t}:`,r),(r==null?void 0:r.code)==="auth/requires-recent-login"&&alert("Sua sesso expirou. Por favor, faa login novamente."),r}},Pj=async(t,e)=>{try{const r=await Pu(),n=await fetch(`${ju}${t}`,{method:"PUT",headers:r,credentials:"include",body:JSON.stringify(e)});if(!n.ok)throw new Error(`Falha na requisio: ${n.status}`);return await n.json()}catch(r){throw console.error(`Erro na requisio PUT para ${t}:`,r),(r==null?void 0:r.code)==="auth/requires-recent-login"&&alert("Sua sesso expirou. Por favor, faa login novamente."),r}},Aj=async t=>{try{const e=await Pu(),r=await fetch(`${ju}${t}`,{method:"DELETE",headers:e,credentials:"include"});if(!r.ok)throw new Error(`Falha na requisio: ${r.status}`);return await r.json()}catch(e){throw console.error(`Erro na requisio DELETE para ${t}:`,e),(e==null?void 0:e.code)==="auth/requires-recent-login"&&alert("Sua sesso expirou. Por favor, faa login novamente."),e}},Lj=()=>{const[t,e]=H.useState([]),[r,n]=H.useState(!0),[a,s]=H.useState(null),[i,o]=H.useState(!1);br(),H.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const v=await Nj("/api/relay-streams");e(v)}catch(v){vt.error("Erro ao carregar lista de relay streams"),console.error(v)}finally{n(!1)}},d=async v=>{v.preventDefault();const m=new FormData(v.currentTarget),x={stream_name:m.get("stream_name"),input_url:m.get("input_url"),output_url:m.get("output_url")};try{a!=null&&a.id?(await Pj(`/api/relay-streams/${a.id}`,x),vt.success("Relay stream atualizado com sucesso!")):(await jj("/api/relay-streams",x),vt.success("Relay stream adicionado com sucesso!")),s(null),o(!1),l()}catch(b){vt.error("Erro ao salvar relay stream"),console.error(b)}},h=async v=>{if(window.confirm("Tem certeza que deseja excluir este relay stream?"))try{await Aj(`/api/relay-streams/${v}`),vt.success("Relay stream excludo com sucesso!"),l()}catch(m){vt.error("Erro ao excluir relay stream"),console.error(m)}},p=v=>{s(v),o(!0)};return r?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx(dn,{className:"w-8 h-8 animate-spin"})}):u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Relay Streams"}),u.jsxs("button",{onClick:()=>{s(null),o(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-600",children:[u.jsx(Qm,{className:"w-4 h-4"}),"Adicionar Relay Stream"]})]}),i&&u.jsx("div",{className:"mb-6 bg-white p-4 rounded-lg shadow",children:u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome do Stream"}),u.jsx("input",{type:"text",name:"stream_name",defaultValue:(a==null?void 0:a.stream_name)||"",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL de Entrada"}),u.jsx("input",{type:"text",name:"input_url",defaultValue:(a==null?void 0:a.input_url)||"",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL de Sada"}),u.jsx("input",{type:"text",name:"output_url",defaultValue:(a==null?void 0:a.output_url)||"",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>{o(!1),s(null)},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-200",children:[u.jsx(Ec,{className:"w-4 h-4"}),"Cancelar"]}),u.jsxs("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-600",children:[u.jsx(e0,{className:"w-4 h-4"}),a?"Atualizar":"Adicionar"]})]})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stream Name"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Input URL"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Output URL"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(v=>u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 ease-in-out",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.stream_name})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-sm text-gray-500 break-all",children:v.input_url})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-sm text-gray-500 break-all",children:v.output_url})}),u.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[u.jsx("button",{onClick:()=>p(v),className:"inline-flex items-center p-1 text-blue-600 hover:text-blue-900 transition-colors duration-150",title:"Edit stream",children:u.jsx(t0,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>v.id&&h(v.id),className:"inline-flex items-center p-1 text-red-600 hover:text-red-900 transition-colors duration-150",title:"Delete stream",children:u.jsx(Rh,{className:"w-4 h-4"})})]})]},v.id))})]})})]})};function Oj(){const t=Vn(),{currentUser:e}=br();return H.useEffect(()=>{const r=setTimeout(()=>{t(e?"/":"/login")},5e3);return()=>clearTimeout(r)},[e,t]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-lg text-center",children:[u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:u.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pagamento Confirmado!"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Seu pagamento foi processado com sucesso. Voc ser redirecionado para o dashboard em instantes..."}),u.jsx(du,{size:"small"})]})})}function Tj(){const t=Vn(),e=()=>{t("/")};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-lg text-center",children:[u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pagamento Cancelado"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"O processo de pagamento foi cancelado. Voc pode tentar novamente quando quiser."}),u.jsx("div",{className:"flex justify-center",children:u.jsx(Fi,{onClick:e,children:"Tentar Novamente"})}),u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:()=>t("/login"),className:"text-sm text-blue-600 hover:text-blue-500",children:"Voltar para o login"})})]})})}var Fr=Uint8Array,un=Uint16Array,wf=Int32Array,Au=new Fr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lu=new Fr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wh=new Fr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f1=function(t,e){for(var r=new un(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new wf(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},p1=f1(Au,2),m1=p1.b,xh=p1.r;m1[28]=258,xh[258]=28;var g1=f1(Lu,0),Cj=g1.b,cm=g1.r,_h=new un(32768);for(var Xt=0;Xt<32768;++Xt){var os=(Xt&43690)>>1|(Xt&21845)<<1;os=(os&52428)>>2|(os&13107)<<2,os=(os&61680)>>4|(os&3855)<<4,_h[Xt]=((os&65280)>>8|(os&255)<<8)>>1}var ha=function(t,e,r){for(var n=t.length,a=0,s=new un(e);a<n;++a)t[a]&&++s[t[a]-1];var i=new un(e);for(a=1;a<e;++a)i[a]=i[a-1]+s[a-1]<<1;var o;if(r){o=new un(1<<e);var l=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],h=e-t[a],p=i[t[a]-1]++<<h,v=p|(1<<h)-1;p<=v;++p)o[_h[p]>>l]=d}else for(o=new un(n),a=0;a<n;++a)t[a]&&(o[a]=_h[i[t[a]-1]++]>>15-t[a]);return o},bs=new Fr(288);for(var Xt=0;Xt<144;++Xt)bs[Xt]=8;for(var Xt=144;Xt<256;++Xt)bs[Xt]=9;for(var Xt=256;Xt<280;++Xt)bs[Xt]=7;for(var Xt=280;Xt<288;++Xt)bs[Xt]=8;var tl=new Fr(32);for(var Xt=0;Xt<32;++Xt)tl[Xt]=5;var Ej=ha(bs,9,0),Ij=ha(bs,9,1),Dj=ha(tl,5,0),Mj=ha(tl,5,1),Dd=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Rn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Md=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},xf=function(t){return(t+7)/8|0},v1=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Fr(t.subarray(e,r))},Rj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$n=function(t,e,r){var n=new Error(e||Rj[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,$n),!r)throw n;return n},Fj=function(t,e,r,n){var a=t.length,s=0;if(!a||e.f&&!e.l)return r||new Fr(0);var i=!r,o=i||e.i!=2,l=e.i;i&&(r=new Fr(a*3));var d=function(Ne){var fe=r.length;if(Ne>fe){var _e=new Fr(Math.max(fe*2,Ne));_e.set(r),r=_e}},h=e.f||0,p=e.p||0,v=e.b||0,m=e.l,x=e.d,b=e.m,S=e.n,_=a*8;do{if(!m){h=Rn(t,p,1);var O=Rn(t,p+1,3);if(p+=3,O)if(O==1)m=Ij,x=Mj,b=9,S=5;else if(O==2){var ce=Rn(t,p,31)+257,K=Rn(t,p+10,15)+4,D=ce+Rn(t,p+5,31)+1;p+=14;for(var Y=new Fr(D),R=new Fr(19),k=0;k<K;++k)R[wh[k]]=Rn(t,p+k*3,7);p+=K*3;for(var A=Dd(R),E=(1<<A)-1,U=ha(R,A,1),k=0;k<D;){var Z=U[Rn(t,p,E)];p+=Z&15;var F=Z>>4;if(F<16)Y[k++]=F;else{var re=0,ae=0;for(F==16?(ae=3+Rn(t,p,3),p+=2,re=Y[k-1]):F==17?(ae=3+Rn(t,p,7),p+=3):F==18&&(ae=11+Rn(t,p,127),p+=7);ae--;)Y[k++]=re}}var ee=Y.subarray(0,ce),de=Y.subarray(ce);b=Dd(ee),S=Dd(de),m=ha(ee,b,1),x=ha(de,S,1)}else $n(1);else{var F=xf(p)+4,X=t[F-4]|t[F-3]<<8,J=F+X;if(J>a){l&&$n(0);break}o&&d(v+X),r.set(t.subarray(F,J),v),e.b=v+=X,e.p=p=J*8,e.f=h;continue}if(p>_){l&&$n(0);break}}o&&d(v+131072);for(var pe=(1<<b)-1,Le=(1<<S)-1,N=p;;N=p){var re=m[Md(t,p)&pe],$=re>>4;if(p+=re&15,p>_){l&&$n(0);break}if(re||$n(2),$<256)r[v++]=$;else if($==256){N=p,m=null;break}else{var V=$-254;if($>264){var k=$-257,T=Au[k];V=Rn(t,p,(1<<T)-1)+m1[k],p+=T}var q=x[Md(t,p)&Le],z=q>>4;q||$n(3),p+=q&15;var de=Cj[z];if(z>3){var T=Lu[z];de+=Md(t,p)&(1<<T)-1,p+=T}if(p>_){l&&$n(0);break}o&&d(v+131072);var Q=v+V;if(v<de){var ne=s-de,Ae=Math.min(de,Q);for(ne+v<0&&$n(3);v<Ae;++v)r[v]=n[ne+v]}for(;v<Q;++v)r[v]=r[v-de]}}e.l=m,e.p=N,e.b=v,e.f=h,m&&(h=1,e.m=b,e.d=x,e.n=S)}while(!h);return v!=r.length&&i?v1(r,0,v):r.subarray(0,v)},La=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Fo=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Rd=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,s=r.slice();if(!a)return{t:b1,l:0};if(a==1){var i=new Fr(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(J,ce){return J.f-ce.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],d=0,h=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=a-1;)o=r[r[d].f<r[p].f?d++:p++],l=r[d!=h&&r[d].f<r[p].f?d++:p++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var v=s[0].s,n=1;n<a;++n)s[n].s>v&&(v=s[n].s);var m=new un(v+1),x=Sh(r[h-1],m,0);if(x>e){var n=0,b=0,S=x-e,_=1<<S;for(s.sort(function(ce,K){return m[K.s]-m[ce.s]||ce.f-K.f});n<a;++n){var O=s[n].s;if(m[O]>e)b+=_-(1<<x-m[O]),m[O]=e;else break}for(b>>=S;b>0;){var F=s[n].s;m[F]<e?b-=1<<e-m[F]++-1:++n}for(;n>=0&&b;--n){var X=s[n].s;m[X]==e&&(--m[X],++b)}x=e}return{t:new Fr(m),l:x}},Sh=function(t,e,r){return t.s==-1?Math.max(Sh(t.l,e,r+1),Sh(t.r,e,r+1)):e[t.s]=r},um=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new un(++e),n=0,a=t[0],s=1,i=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==a&&o!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=t[o]}return{c:r.subarray(0,n),n:e}},$o=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},y1=function(t,e,r){var n=r.length,a=xf(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var s=0;s<n;++s)t[a+s+4]=r[s];return(a+4+n)*8},dm=function(t,e,r,n,a,s,i,o,l,d,h){La(e,h++,r),++a[256];for(var p=Rd(a,15),v=p.t,m=p.l,x=Rd(s,15),b=x.t,S=x.l,_=um(v),O=_.c,F=_.n,X=um(b),J=X.c,ce=X.n,K=new un(19),D=0;D<O.length;++D)++K[O[D]&31];for(var D=0;D<J.length;++D)++K[J[D]&31];for(var Y=Rd(K,7),R=Y.t,k=Y.l,A=19;A>4&&!R[wh[A-1]];--A);var E=d+5<<3,U=$o(a,bs)+$o(s,tl)+i,Z=$o(a,v)+$o(s,b)+i+14+3*A+$o(K,R)+2*K[16]+3*K[17]+7*K[18];if(l>=0&&E<=U&&E<=Z)return y1(e,h,t.subarray(l,l+d));var re,ae,ee,de;if(La(e,h,1+(Z<U)),h+=2,Z<U){re=ha(v,m,0),ae=v,ee=ha(b,S,0),de=b;var pe=ha(R,k,0);La(e,h,F-257),La(e,h+5,ce-1),La(e,h+10,A-4),h+=14;for(var D=0;D<A;++D)La(e,h+3*D,R[wh[D]]);h+=3*A;for(var Le=[O,J],N=0;N<2;++N)for(var $=Le[N],D=0;D<$.length;++D){var V=$[D]&31;La(e,h,pe[V]),h+=R[V],V>15&&(La(e,h,$[D]>>5&127),h+=$[D]>>12)}}else re=Ej,ae=bs,ee=Dj,de=tl;for(var D=0;D<o;++D){var T=n[D];if(T>255){var V=T>>18&31;Fo(e,h,re[V+257]),h+=ae[V+257],V>7&&(La(e,h,T>>23&31),h+=Au[V]);var q=T&31;Fo(e,h,ee[q]),h+=de[q],q>3&&(Fo(e,h,T>>5&8191),h+=Lu[q])}else Fo(e,h,re[T]),h+=ae[T]}return Fo(e,h,re[256]),h+ae[256]},$j=new wf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),b1=new Fr(0),Bj=function(t,e,r,n,a,s){var i=s.z||t.length,o=new Fr(n+i+5*(1+Math.ceil(i/7e3))+a),l=o.subarray(n,o.length-a),d=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var p=$j[e-1],v=p>>13,m=p&8191,x=(1<<r)-1,b=s.p||new un(32768),S=s.h||new un(x+1),_=Math.ceil(r/3),O=2*_,F=function(Ee){return(t[Ee]^t[Ee+1]<<_^t[Ee+2]<<O)&x},X=new wf(25e3),J=new un(288),ce=new un(32),K=0,D=0,Y=s.i||0,R=0,k=s.w||0,A=0;Y+2<i;++Y){var E=F(Y),U=Y&32767,Z=S[E];if(b[U]=Z,S[E]=U,k<=Y){var re=i-Y;if((K>7e3||R>24576)&&(re>423||!d)){h=dm(t,l,0,X,J,ce,D,R,A,Y-A,h),R=K=D=0,A=Y;for(var ae=0;ae<286;++ae)J[ae]=0;for(var ae=0;ae<30;++ae)ce[ae]=0}var ee=2,de=0,pe=m,Le=U-Z&32767;if(re>2&&E==F(Y-Le))for(var N=Math.min(v,re)-1,$=Math.min(32767,Y),V=Math.min(258,re);Le<=$&&--pe&&U!=Z;){if(t[Y+ee]==t[Y+ee-Le]){for(var T=0;T<V&&t[Y+T]==t[Y+T-Le];++T);if(T>ee){if(ee=T,de=Le,T>N)break;for(var q=Math.min(Le,T-2),z=0,ae=0;ae<q;++ae){var Q=Y-Le+ae&32767,ne=b[Q],Ae=Q-ne&32767;Ae>z&&(z=Ae,Z=Q)}}}U=Z,Z=b[U],Le+=U-Z&32767}if(de){X[R++]=268435456|xh[ee]<<18|cm[de];var Ne=xh[ee]&31,fe=cm[de]&31;D+=Au[Ne]+Lu[fe],++J[257+Ne],++ce[fe],k=Y+ee,++K}else X[R++]=t[Y],++J[t[Y]]}}for(Y=Math.max(Y,k);Y<i;++Y)X[R++]=t[Y],++J[t[Y]];h=dm(t,l,d,X,J,ce,D,R,A,Y-A,h),d||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=S,s.p=b,s.i=Y,s.w=k)}else{for(var Y=s.w||0;Y<i+d;Y+=65535){var _e=Y+65535;_e>=i&&(l[h/8|0]=d,_e=i),h=y1(l,h+1,t.subarray(Y,_e))}s.i=i}return v1(o,0,n+xf(h)+a)},w1=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,s=r.length|0,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=n+=r[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Uj=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),i=new Fr(s.length+t.length);i.set(s),i.set(t,s.length),t=i,a.w=s.length}return Bj(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},x1=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},zj=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=w1();a.p(e.dictionary),x1(t,2,a.d())}},qj=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&$n(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&$n(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function kh(t,e){e||(e={});var r=w1();r.p(t);var n=Uj(t,e,e.dictionary?6:2,4);return zj(n,e),x1(n,n.length-4,r.d()),n}function Wj(t,e){return Fj(t.subarray(qj(t,e),-4),{i:2},e,e)}var Vj=typeof TextDecoder<"u"&&new TextDecoder,Hj=0;try{Vj.decode(b1,{stream:!0}),Hj=1}catch{}var ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Fd(){ft.console&&typeof ft.console.log=="function"&&ft.console.log.apply(ft.console,arguments)}var Ht={log:Fd,warn:function(t){ft.console&&(typeof ft.console.warn=="function"?ft.console.warn.apply(ft.console,arguments):Fd.call(null,arguments))},error:function(t){ft.console&&(typeof ft.console.error=="function"?ft.console.error.apply(ft.console,arguments):Fd(t))}};function $d(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Rs(n.response,e,r)},n.onerror=function(){Ht.error("could not download file")},n.send()}function hm(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function mc(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Vo,Nh,Rs=ft.saveAs||((typeof window>"u"?"undefined":Tt(window))!=="object"||window!==ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ft.URL||ft.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?hm(a.href)?$d(t,e,r):mc(a,a.target="_blank"):mc(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){mc(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(hm(t))$d(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){mc(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:Tt(s)!=="object"&&(Ht.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return $d(t,e,r);var a=t.type==="application/octet-stream",s=/constructor/i.test(ft.HTMLElement)||ft.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":Tt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=i?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=ft.URL||ft.webkitURL,d=l.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _1(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,i=a.exec(t);i&&(e=s(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+o+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Bd(t,e){var r=t[0],n=t[1],a=t[2],s=t[3];r=Er(r,n,a,s,e[0],7,-680876936),s=Er(s,r,n,a,e[1],12,-389564586),a=Er(a,s,r,n,e[2],17,606105819),n=Er(n,a,s,r,e[3],22,-1044525330),r=Er(r,n,a,s,e[4],7,-176418897),s=Er(s,r,n,a,e[5],12,1200080426),a=Er(a,s,r,n,e[6],17,-1473231341),n=Er(n,a,s,r,e[7],22,-45705983),r=Er(r,n,a,s,e[8],7,1770035416),s=Er(s,r,n,a,e[9],12,-1958414417),a=Er(a,s,r,n,e[10],17,-42063),n=Er(n,a,s,r,e[11],22,-1990404162),r=Er(r,n,a,s,e[12],7,1804603682),s=Er(s,r,n,a,e[13],12,-40341101),a=Er(a,s,r,n,e[14],17,-1502002290),r=Ir(r,n=Er(n,a,s,r,e[15],22,1236535329),a,s,e[1],5,-165796510),s=Ir(s,r,n,a,e[6],9,-1069501632),a=Ir(a,s,r,n,e[11],14,643717713),n=Ir(n,a,s,r,e[0],20,-373897302),r=Ir(r,n,a,s,e[5],5,-701558691),s=Ir(s,r,n,a,e[10],9,38016083),a=Ir(a,s,r,n,e[15],14,-660478335),n=Ir(n,a,s,r,e[4],20,-405537848),r=Ir(r,n,a,s,e[9],5,568446438),s=Ir(s,r,n,a,e[14],9,-1019803690),a=Ir(a,s,r,n,e[3],14,-187363961),n=Ir(n,a,s,r,e[8],20,1163531501),r=Ir(r,n,a,s,e[13],5,-1444681467),s=Ir(s,r,n,a,e[2],9,-51403784),a=Ir(a,s,r,n,e[7],14,1735328473),r=Dr(r,n=Ir(n,a,s,r,e[12],20,-1926607734),a,s,e[5],4,-378558),s=Dr(s,r,n,a,e[8],11,-2022574463),a=Dr(a,s,r,n,e[11],16,1839030562),n=Dr(n,a,s,r,e[14],23,-35309556),r=Dr(r,n,a,s,e[1],4,-1530992060),s=Dr(s,r,n,a,e[4],11,1272893353),a=Dr(a,s,r,n,e[7],16,-155497632),n=Dr(n,a,s,r,e[10],23,-1094730640),r=Dr(r,n,a,s,e[13],4,681279174),s=Dr(s,r,n,a,e[0],11,-358537222),a=Dr(a,s,r,n,e[3],16,-722521979),n=Dr(n,a,s,r,e[6],23,76029189),r=Dr(r,n,a,s,e[9],4,-640364487),s=Dr(s,r,n,a,e[12],11,-421815835),a=Dr(a,s,r,n,e[15],16,530742520),r=Mr(r,n=Dr(n,a,s,r,e[2],23,-995338651),a,s,e[0],6,-198630844),s=Mr(s,r,n,a,e[7],10,1126891415),a=Mr(a,s,r,n,e[14],15,-1416354905),n=Mr(n,a,s,r,e[5],21,-57434055),r=Mr(r,n,a,s,e[12],6,1700485571),s=Mr(s,r,n,a,e[3],10,-1894986606),a=Mr(a,s,r,n,e[10],15,-1051523),n=Mr(n,a,s,r,e[1],21,-2054922799),r=Mr(r,n,a,s,e[8],6,1873313359),s=Mr(s,r,n,a,e[15],10,-30611744),a=Mr(a,s,r,n,e[6],15,-1560198380),n=Mr(n,a,s,r,e[13],21,1309151649),r=Mr(r,n,a,s,e[4],6,-145523070),s=Mr(s,r,n,a,e[11],10,-1120210379),a=Mr(a,s,r,n,e[2],15,718787259),n=Mr(n,a,s,r,e[9],21,-343485551),t[0]=gs(r,t[0]),t[1]=gs(n,t[1]),t[2]=gs(a,t[2]),t[3]=gs(s,t[3])}function Ou(t,e,r,n,a,s){return e=gs(gs(e,t),gs(n,s)),gs(e<<a|e>>>32-a,r)}function Er(t,e,r,n,a,s,i){return Ou(e&r|~e&n,t,e,a,s,i)}function Ir(t,e,r,n,a,s,i){return Ou(e&n|r&~n,t,e,a,s,i)}function Dr(t,e,r,n,a,s,i){return Ou(e^r^n,t,e,a,s,i)}function Mr(t,e,r,n,a,s,i){return Ou(r^(e|~n),t,e,a,s,i)}function S1(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Bd(n,Yj(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Bd(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Bd(n,a),n}function Yj(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Vo=ft.atob.bind(ft),Nh=ft.btoa.bind(ft);var fm="0123456789abcdef".split("");function Gj(t){for(var e="",r=0;r<4;r++)e+=fm[t>>8*r+4&15]+fm[t>>8*r&15];return e}function Jj(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function jh(t){return S1(t).map(Jj).join("")}var Kj=function(t){for(var e=0;e<t.length;e++)t[e]=Gj(t[e]);return t.join("")}(S1("hello"))!="5d41402abc4b2a76b9719d911017c592";function gs(t,e){if(Kj){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ph(t,e){var r,n,a,s;if(t!==r){for(var i=(a=t,s=1+(256/t.length>>0),new Array(s+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var d=0;for(l=0;l<256;l++){var h=o[l];d=(d+h+i.charCodeAt(l))%256,o[l]=o[d],o[d]=h}r=t,n=o}else o=n;var p=e.length,v=0,m=0,x="";for(l=0;l<p;l++)m=(m+(h=o[v=(v+1)%256]))%256,o[v]=o[m],o[m]=h,i=o[(o[v]+o[m])%256],x+=String.fromCharCode(e.charCodeAt(l)^i);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var pm={print:4,modify:8,copy:16,"annot-forms":32};function Ei(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(o){if(pm.perm!==void 0)throw new Error("Invalid permission: "+o);a+=pm[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=jh(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Ph(this.encryptionKey,this.padding)}function Ii(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function mm(t){if(Tt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[r]){var i=e[r][s];try{i[0].apply(t,n)}catch(o){ft.console&&Ht.error("jsPDF PubSub Error",o.message,o)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Xc(t){if(!(this instanceof Xc))return new Xc(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function k1(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function $s(t,e,r,n,a){if(!(this instanceof $s))return new $s(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,k1.call(this,n,a)}function Mi(t,e,r,n,a){if(!(this instanceof Mi))return new Mi(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,k1.call(this,n,a)}function ht(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,l=16,d="S",h=null;Tt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),d=t.defaultPathOperation||"S"),i=t.filters||(s===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,v={},m={internal:{},__private__:{}};m.__private__.PubSub=mm;var x="1.3",b=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(g){x=g};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return S};var _=m.__private__.getPageFormat=function(g){return S[g]};a=a||"a4";var O={COMPAT:"compat",ADVANCED:"advanced"},F=O.COMPAT;function X(){this.saveGraphicsState(),B(new dt(Ie,0,0,-Ie,0,Ga()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),d="n",F=O.ADVANCED}function J(){this.restoreGraphicsState(),d="S",F=O.COMPAT}var ce=m.__private__.combineFontStyleAndFontWeight=function(g,P){if(g=="bold"&&P=="normal"||g=="bold"&&P==400||g=="normal"&&P=="italic"||g=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(g=P==400||P==="normal"?g==="italic"?"italic":"normal":P!=700&&P!=="bold"||g!=="normal"?(P==700?"bold":P)+""+g:"bold"),g};m.advancedAPI=function(g){var P=F===O.COMPAT;return P&&X.call(this),typeof g!="function"||(g(this),P&&J.call(this)),this},m.compatAPI=function(g){var P=F===O.ADVANCED;return P&&J.call(this),typeof g!="function"||(g(this),P&&X.call(this)),this},m.isAdvancedAPI=function(){return F===O.ADVANCED};var K,D=function(g){if(F!==O.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=m.roundToPrecision=m.__private__.roundToPrecision=function(g,P){var G=e||P;if(isNaN(g)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(G).replace(/0+$/,"")};K=m.hpf=m.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(g,16)};var R=m.f2=m.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return Y(g,2)},k=m.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return Y(g,3)},A=m.scale=m.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return F===O.COMPAT?g*Ie:F===O.ADVANCED?g:void 0},E=function(g){return F===O.COMPAT?Ga()-g:F===O.ADVANCED?g:void 0},U=function(g){return A(E(g))};m.__private__.setPrecision=m.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var Z,re="00000000000000000000000000000000",ae=m.__private__.getFileId=function(){return re},ee=m.__private__.setFileId=function(g){return re=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Tr=new Ei(h.userPermissions,h.userPassword,h.ownerPassword,re)),re};m.setFileId=function(g){return ee(g),this},m.getFileId=function(){return ae()};var de=m.__private__.convertDateToPDFDate=function(g){var P=g.getTimezoneOffset(),G=P<0?"+":"-",te=Math.floor(Math.abs(P/60)),me=Math.abs(P%60),Se=[G,V(te),"'",V(me),"'"].join("");return["D:",g.getFullYear(),V(g.getMonth()+1),V(g.getDate()),V(g.getHours()),V(g.getMinutes()),V(g.getSeconds()),Se].join("")},pe=m.__private__.convertPDFDateToDate=function(g){var P=parseInt(g.substr(2,4),10),G=parseInt(g.substr(6,2),10)-1,te=parseInt(g.substr(8,2),10),me=parseInt(g.substr(10,2),10),Se=parseInt(g.substr(12,2),10),Me=parseInt(g.substr(14,2),10);return new Date(P,G,te,me,Se,Me,0)},Le=m.__private__.setCreationDate=function(g){var P;if(g===void 0&&(g=new Date),g instanceof Date)P=de(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=g}return Z=P},N=m.__private__.getCreationDate=function(g){var P=Z;return g==="jsDate"&&(P=pe(Z)),P};m.setCreationDate=function(g){return Le(g),this},m.getCreationDate=function(g){return N(g)};var $,V=m.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},T=m.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},q=0,z=[],Q=[],ne=0,Ae=[],Ne=[],fe=!1,_e=Q,Ee=function(){q=0,ne=0,Q=[],z=[],Ae=[],va=mr(),An=mr()};m.__private__.setCustomOutputDestination=function(g){fe=!0,_e=g};var ue=function(g){fe||(_e=g)};m.__private__.resetCustomOutputDestination=function(){fe=!1,_e=Q};var B=m.__private__.out=function(g){return g=g.toString(),ne+=g.length+1,_e.push(g),_e},Ue=m.__private__.write=function(g){return B(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},$e=m.__private__.getArrayBuffer=function(g){for(var P=g.length,G=new ArrayBuffer(P),te=new Uint8Array(G);P--;)te[P]=g.charCodeAt(P);return G},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return je};var We=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(g){return We=F===O.ADVANCED?g/Ie:g,this};var Ye,He=m.__private__.getFontSize=m.getFontSize=function(){return F===O.COMPAT?We:We*Ie},tt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(g){return tt=g,this},m.__private__.getR2L=m.getR2L=function(){return tt};var pt,we=m.__private__.setZoomMode=function(g){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ye=g;else if(isNaN(g)){if(P.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ye=g}else Ye=parseInt(g,10)};m.__private__.getZoomMode=function(){return Ye};var oe,ke=m.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');pt=g};m.__private__.getPageMode=function(){return pt};var Pe=m.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');oe=g};m.__private__.getLayoutMode=function(){return oe},m.__private__.setDisplayMode=m.setDisplayMode=function(g,P,G){return we(g),Pe(P),ke(G),this};var qe={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(g){if(Object.keys(qe).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return qe[g]},m.__private__.getDocumentProperties=function(){return qe},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(g){for(var P in qe)qe.hasOwnProperty(P)&&g[P]&&(qe[P]=g[P]);return this},m.__private__.setDocumentProperty=function(g,P){if(Object.keys(qe).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return qe[g]=P};var Ge,Ie,ye,be,Be,Re={},Fe={},ut=[],at={},Mt={},mt={},$t={},Ft=null,Nt=0,ct=[],jt=new mm(m),fn=t.hotfixes||[],pr={},en={},Jn=[],dt=function g(P,G,te,me,Se,Me){if(!(this instanceof g))return new g(P,G,te,me,Se,Me);isNaN(P)&&(P=1),isNaN(G)&&(G=0),isNaN(te)&&(te=0),isNaN(me)&&(me=1),isNaN(Se)&&(Se=0),isNaN(Me)&&(Me=0),this._matrix=[P,G,te,me,Se,Me]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(g)},dt.prototype.multiply=function(g){var P=g.sx*this.sx+g.shy*this.shx,G=g.sx*this.shy+g.shy*this.sy,te=g.shx*this.sx+g.sy*this.shx,me=g.shx*this.shy+g.sy*this.sy,Se=g.tx*this.sx+g.ty*this.shx+this.tx,Me=g.tx*this.shy+g.ty*this.sy+this.ty;return new dt(P,G,te,me,Se,Me)},dt.prototype.decompose=function(){var g=this.sx,P=this.shy,G=this.shx,te=this.sy,me=this.tx,Se=this.ty,Me=Math.sqrt(g*g+P*P),Xe=(g/=Me)*G+(P/=Me)*te;G-=g*Xe,te-=P*Xe;var rt=Math.sqrt(G*G+te*te);return Xe/=rt,g*(te/=rt)<P*(G/=rt)&&(g=-g,P=-P,Xe=-Xe,Me=-Me),{scale:new dt(Me,0,0,rt,0,0),translate:new dt(1,0,0,1,me,Se),rotate:new dt(g,P,-P,g,0,0),skew:new dt(1,0,Xe,1,0,0)}},dt.prototype.toString=function(g){return this.join(" ")},dt.prototype.inversed=function(){var g=this.sx,P=this.shy,G=this.shx,te=this.sy,me=this.tx,Se=this.ty,Me=1/(g*te-P*G),Xe=te*Me,rt=-P*Me,xt=-G*Me,bt=g*Me;return new dt(Xe,rt,xt,bt,-Xe*me-xt*Se,-rt*me-bt*Se)},dt.prototype.applyToPoint=function(g){var P=g.x*this.sx+g.y*this.shx+this.tx,G=g.x*this.shy+g.y*this.sy+this.ty;return new ii(P,G)},dt.prototype.applyToRectangle=function(g){var P=this.applyToPoint(g),G=this.applyToPoint(new ii(g.x+g.w,g.y+g.h));return new ho(P.x,P.y,G.x-P.x,G.y-P.y)},dt.prototype.clone=function(){var g=this.sx,P=this.shy,G=this.shx,te=this.sy,me=this.tx,Se=this.ty;return new dt(g,P,G,te,me,Se)},m.Matrix=dt;var Pn=m.matrixMult=function(g,P){return P.multiply(g)},Kn=new dt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Kn;var Wr=function(g,P){if(!Mt[g]){var G=(P instanceof $s?"Sh":"P")+(Object.keys(at).length+1).toString(10);P.id=G,Mt[g]=G,at[G]=P,jt.publish("addPattern",P)}};m.ShadingPattern=$s,m.TilingPattern=Mi,m.addShadingPattern=function(g,P){return D("addShadingPattern()"),Wr(g,P),this},m.beginTilingPattern=function(g){D("beginTilingPattern()"),Ll(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},m.endTilingPattern=function(g,P){D("endTilingPattern()"),P.stream=Ne[$].join(`
`),Wr(g,P),jt.publish("endTilingPattern",P),Jn.pop().restore()};var wr=m.__private__.newObject=function(){var g=mr();return tn(g,!0),g},mr=m.__private__.newObjectDeferred=function(){return q++,z[q]=function(){return ne},q},tn=function(g,P){return P=typeof P=="boolean"&&P,z[g]=ne,P&&B(g+" 0 obj"),g},Ys=m.__private__.newAdditionalObject=function(){var g={objId:mr(),content:""};return Ae.push(g),g},va=mr(),An=mr(),Ln=m.__private__.decodeColorString=function(g){var P=g.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var G=parseFloat(P[0]);P=[G,G,G,"r"]}for(var te="#",me=0;me<3;me++)te+=("0"+Math.floor(255*parseFloat(P[me])).toString(16)).slice(-2);return te},On=m.__private__.encodeColorString=function(g){var P;typeof g=="string"&&(g={ch1:g});var G=g.ch1,te=g.ch2,me=g.ch3,Se=g.ch4,Me=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Xe=new _1(G);if(Xe.ok)G=Xe.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var rt=parseInt(G.substr(1),16);G=rt>>16&255,te=rt>>8&255,me=255&rt}if(te===void 0||Se===void 0&&G===te&&te===me)if(typeof G=="string")P=G+" "+Me[0];else switch(g.precision){case 2:P=R(G/255)+" "+Me[0];break;case 3:default:P=k(G/255)+" "+Me[0]}else if(Se===void 0||Tt(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return P=["1.","1.","1.",Me[1]].join(" ");if(typeof G=="string")P=[G,te,me,Me[1]].join(" ");else switch(g.precision){case 2:P=[R(G/255),R(te/255),R(me/255),Me[1]].join(" ");break;default:case 3:P=[k(G/255),k(te/255),k(me/255),Me[1]].join(" ")}}else if(typeof G=="string")P=[G,te,me,Se,Me[2]].join(" ");else switch(g.precision){case 2:P=[R(G),R(te),R(me),R(Se),Me[2]].join(" ");break;case 3:default:P=[k(G),k(te),k(me),k(Se),Me[2]].join(" ")}return P},Xn=m.__private__.getFilters=function(){return i},pn=m.__private__.putStream=function(g){var P=(g=g||{}).data||"",G=g.filters||Xn(),te=g.alreadyAppliedFilters||[],me=g.addLength1||!1,Se=P.length,Me=g.objectId,Xe=function(Cr){return Cr};if(h!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Xe=Tr.encryptor(Me,0));var rt={};G===!0&&(G=["FlateEncode"]);var xt=g.additionalKeyValues||[],bt=(rt=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(P,G):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(rt.data.length!==0&&(xt.push({key:"Length",value:rt.data.length}),me===!0&&xt.push({key:"Length1",value:Se})),bt.length!=0)if(bt.split("/").length-1==1)xt.push({key:"Filter",value:bt});else{xt.push({key:"Filter",value:"["+bt+"]"});for(var Ot=0;Ot<xt.length;Ot+=1)if(xt[Ot].key==="DecodeParms"){for(var rr=[],nr=0;nr<rt.reverseChain.split("/").length-1;nr+=1)rr.push("null");rr.push(xt[Ot].value),xt[Ot].value="["+rr.join(" ")+"]"}}B("<<");for(var gr=0;gr<xt.length;gr++)B("/"+xt[gr].key+" "+xt[gr].value);B(">>"),rt.data.length!==0&&(B("stream"),B(Xe(rt.data)),B("endstream"))},Zn=m.__private__.putPage=function(g){var P=g.number,G=g.data,te=g.objId,me=g.contentsObjId;tn(te,!0),B("<</Type /Page"),B("/Parent "+g.rootDictionaryObjId+" 0 R"),B("/Resources "+g.resourceDictionaryObjId+" 0 R"),B("/MediaBox ["+parseFloat(K(g.mediaBox.bottomLeftX))+" "+parseFloat(K(g.mediaBox.bottomLeftY))+" "+K(g.mediaBox.topRightX)+" "+K(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&B("/CropBox ["+K(g.cropBox.bottomLeftX)+" "+K(g.cropBox.bottomLeftY)+" "+K(g.cropBox.topRightX)+" "+K(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&B("/BleedBox ["+K(g.bleedBox.bottomLeftX)+" "+K(g.bleedBox.bottomLeftY)+" "+K(g.bleedBox.topRightX)+" "+K(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&B("/TrimBox ["+K(g.trimBox.bottomLeftX)+" "+K(g.trimBox.bottomLeftY)+" "+K(g.trimBox.topRightX)+" "+K(g.trimBox.topRightY)+"]"),g.artBox!==null&&B("/ArtBox ["+K(g.artBox.bottomLeftX)+" "+K(g.artBox.bottomLeftY)+" "+K(g.artBox.topRightX)+" "+K(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&B("/UserUnit "+g.userUnit),jt.publish("putPage",{objId:te,pageContext:ct[P],pageNumber:P,page:G}),B("/Contents "+me+" 0 R"),B(">>"),B("endobj");var Se=G.join(`
`);return F===O.ADVANCED&&(Se+=`
Q`),tn(me,!0),pn({data:Se,filters:Xn(),objectId:me}),B("endobj"),te},xs=m.__private__.putPages=function(){var g,P,G=[];for(g=1;g<=Nt;g++)ct[g].objId=mr(),ct[g].contentsObjId=mr();for(g=1;g<=Nt;g++)G.push(Zn({number:g,data:Ne[g],objId:ct[g].objId,contentsObjId:ct[g].contentsObjId,mediaBox:ct[g].mediaBox,cropBox:ct[g].cropBox,bleedBox:ct[g].bleedBox,trimBox:ct[g].trimBox,artBox:ct[g].artBox,userUnit:ct[g].userUnit,rootDictionaryObjId:va,resourceDictionaryObjId:An}));tn(va,!0),B("<</Type /Pages");var te="/Kids [";for(P=0;P<Nt;P++)te+=G[P]+" 0 R ";B(te+"]"),B("/Count "+Nt),B(">>"),B("endobj"),jt.publish("postPutPages")},Gs=function(g){jt.publish("putFont",{font:g,out:B,newObject:wr,putStream:pn}),g.isAlreadyPutted!==!0&&(g.objectNumber=wr(),B("<<"),B("/Type /Font"),B("/BaseFont /"+Ii(g.postScriptName)),B("/Subtype /Type1"),typeof g.encoding=="string"&&B("/Encoding /"+g.encoding),B("/FirstChar 32"),B("/LastChar 255"),B(">>"),B("endobj"))},Js=function(){for(var g in Re)Re.hasOwnProperty(g)&&(p===!1||p===!0&&v.hasOwnProperty(g))&&Gs(Re[g])},Ks=function(g){g.objectNumber=wr();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[K(g.x),K(g.y),K(g.x+g.width),K(g.y+g.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var G=g.pages[1].join(`
`);pn({data:G,additionalKeyValues:P,objectId:g.objectNumber}),B("endobj")},Xs=function(){for(var g in pr)pr.hasOwnProperty(g)&&Ks(pr[g])},dl=function(g,P){var G,te=[],me=1/(P-1);for(G=0;G<1;G+=me)te.push(G);if(te.push(1),g[0].offset!=0){var Se={offset:0,color:g[0].color};g.unshift(Se)}if(g[g.length-1].offset!=1){var Me={offset:1,color:g[g.length-1].color};g.push(Me)}for(var Xe="",rt=0,xt=0;xt<te.length;xt++){for(G=te[xt];G>g[rt+1].offset;)rt++;var bt=g[rt].offset,Ot=(G-bt)/(g[rt+1].offset-bt),rr=g[rt].color,nr=g[rt+1].color;Xe+=T(Math.round((1-Ot)*rr[0]+Ot*nr[0]).toString(16))+T(Math.round((1-Ot)*rr[1]+Ot*nr[1]).toString(16))+T(Math.round((1-Ot)*rr[2]+Ot*nr[2]).toString(16))}return Xe.trim()},Cu=function(g,P){P||(P=21);var G=wr(),te=dl(g.colors,P),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+P+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pn({data:te,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),B("endobj"),g.objectNumber=wr(),B("<< /ShadingType "+g.type),B("/ColorSpace /DeviceRGB");var Se="/Coords ["+K(parseFloat(g.coords[0]))+" "+K(parseFloat(g.coords[1]))+" ";g.type===2?Se+=K(parseFloat(g.coords[2]))+" "+K(parseFloat(g.coords[3])):Se+=K(parseFloat(g.coords[2]))+" "+K(parseFloat(g.coords[3]))+" "+K(parseFloat(g.coords[4]))+" "+K(parseFloat(g.coords[5])),B(Se+="]"),g.matrix&&B("/Matrix ["+g.matrix.toString()+"]"),B("/Function "+G+" 0 R"),B("/Extend [true true]"),B(">>"),B("endobj")},Eu=function(g,P){var G=mr(),te=wr();P.push({resourcesOid:G,objectOid:te}),g.objectNumber=te;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+g.boundingBox.map(K).join(" ")+"]"}),me.push({key:"XStep",value:K(g.xStep)}),me.push({key:"YStep",value:K(g.yStep)}),me.push({key:"Resources",value:G+" 0 R"}),g.matrix&&me.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),pn({data:g.stream,additionalKeyValues:me,objectId:g.objectNumber}),B("endobj")},Zs=function(g){var P;for(P in at)at.hasOwnProperty(P)&&(at[P]instanceof $s?Cu(at[P]):at[P]instanceof Mi&&Eu(at[P],g))},hl=function(g){for(var P in g.objectNumber=wr(),B("<<"),g)switch(P){case"opacity":B("/ca "+R(g[P]));break;case"stroke-opacity":B("/CA "+R(g[P]))}B(">>"),B("endobj")},Iu=function(){var g;for(g in mt)mt.hasOwnProperty(g)&&hl(mt[g])},to=function(){for(var g in B("/XObject <<"),pr)pr.hasOwnProperty(g)&&pr[g].objectNumber>=0&&B("/"+g+" "+pr[g].objectNumber+" 0 R");jt.publish("putXobjectDict"),B(">>")},Du=function(){Tr.oid=wr(),B("<<"),B("/Filter /Standard"),B("/V "+Tr.v),B("/R "+Tr.r),B("/U <"+Tr.toHexString(Tr.U)+">"),B("/O <"+Tr.toHexString(Tr.O)+">"),B("/P "+Tr.P),B(">>"),B("endobj")},fl=function(){for(var g in B("/Font <<"),Re)Re.hasOwnProperty(g)&&(p===!1||p===!0&&v.hasOwnProperty(g))&&B("/"+g+" "+Re[g].objectNumber+" 0 R");B(">>")},Mu=function(){if(Object.keys(at).length>0){for(var g in B("/Shading <<"),at)at.hasOwnProperty(g)&&at[g]instanceof $s&&at[g].objectNumber>=0&&B("/"+g+" "+at[g].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),B(">>")}},Qs=function(g){if(Object.keys(at).length>0){for(var P in B("/Pattern <<"),at)at.hasOwnProperty(P)&&at[P]instanceof m.TilingPattern&&at[P].objectNumber>=0&&at[P].objectNumber<g&&B("/"+P+" "+at[P].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),B(">>")}},Ru=function(){if(Object.keys(mt).length>0){var g;for(g in B("/ExtGState <<"),mt)mt.hasOwnProperty(g)&&mt[g].objectNumber>=0&&B("/"+g+" "+mt[g].objectNumber+" 0 R");jt.publish("putGStateDict"),B(">>")}},or=function(g){tn(g.resourcesOid,!0),B("<<"),B("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),fl(),Mu(),Qs(g.objectOid),Ru(),to(),B(">>"),B("endobj")},pl=function(){var g=[];Js(),Iu(),Xs(),Zs(g),jt.publish("putResources"),g.forEach(or),or({resourcesOid:An,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},ml=function(){jt.publish("putAdditionalObjects");for(var g=0;g<Ae.length;g++){var P=Ae[g];tn(P.objId,!0),B(P.content),B("endobj")}jt.publish("postPutAdditionalObjects")},gl=function(g){Fe[g.fontName]=Fe[g.fontName]||{},Fe[g.fontName][g.fontStyle]=g.id},ro=function(g,P,G,te,me){var Se={id:"F"+(Object.keys(Re).length+1).toString(10),postScriptName:g,fontName:P,fontStyle:G,encoding:te,isStandardFont:me||!1,metadata:{}};return jt.publish("addFont",{font:Se,instance:this}),Re[Se.id]=Se,gl(Se),Se.id},Fu=function(g){for(var P=0,G=je.length;P<G;P++){var te=ro.call(this,g[P][0],g[P][1],g[P][2],je[P][3],!0);p===!1&&(v[te]=!0);var me=g[P][0].split("-");gl({id:te,fontName:me[0],fontStyle:me[1]||""})}jt.publish("addFonts",{fonts:Re,dictionary:Fe})},Tn=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(te){var P=te.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var G="Error in function "+P.split(`
`)[0].split("<")[0]+": "+te.message;if(!ft.console)throw new Error(G);ft.console.error(G,te),ft.alert&&alert(G)}},g.foo.bar=g,g.foo},ei=function(g,P){var G,te,me,Se,Me,Xe,rt,xt,bt;if(me=(P=P||{}).sourceEncoding||"Unicode",Me=P.outputEncoding,(P.autoencode||Me)&&Re[Ge].metadata&&Re[Ge].metadata[me]&&Re[Ge].metadata[me].encoding&&(Se=Re[Ge].metadata[me].encoding,!Me&&Re[Ge].encoding&&(Me=Re[Ge].encoding),!Me&&Se.codePages&&(Me=Se.codePages[0]),typeof Me=="string"&&(Me=Se[Me]),Me)){for(rt=!1,Xe=[],G=0,te=g.length;G<te;G++)(xt=Me[g.charCodeAt(G)])?Xe.push(String.fromCharCode(xt)):Xe.push(g[G]),Xe[G].charCodeAt(0)>>8&&(rt=!0);g=Xe.join("")}for(G=g.length;rt===void 0&&G!==0;)g.charCodeAt(G-1)>>8&&(rt=!0),G--;if(!rt)return g;for(Xe=P.noBOM?[]:[254,255],G=0,te=g.length;G<te;G++){if((bt=(xt=g.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xe.push(bt),Xe.push(xt-(bt<<8))}return String.fromCharCode.apply(void 0,Xe)},Vr=m.__private__.pdfEscape=m.pdfEscape=function(g,P){return ei(g,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},no=m.__private__.beginPage=function(g){Ne[++Nt]=[],ct[Nt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},yl(Nt),ue(Ne[$])},vl=function(g,P){var G,te,me;switch(r=P||r,typeof g=="string"&&(G=_(g.toLowerCase()),Array.isArray(G)&&(te=G[0],me=G[1])),Array.isArray(g)&&(te=g[0]*Ie,me=g[1]*Ie),isNaN(te)&&(te=a[0],me=a[1]),(te>14400||me>14400)&&(Ht.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),me=Math.min(14400,me)),a=[te,me],r.substr(0,1)){case"l":me>te&&(a=[me,te]);break;case"p":te>me&&(a=[me,te])}no(a),kl(oo),B(Cn),co!==0&&B(co+" J"),uo!==0&&B(uo+" j"),jt.publish("addPage",{pageNumber:Nt})},$u=function(g){g>0&&g<=Nt&&(Ne.splice(g,1),ct.splice(g,1),Nt--,$>Nt&&($=Nt),this.setPage($))},yl=function(g){g>0&&g<=Nt&&($=g)},Bu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ne.length-1},bl=function(g,P,G){var te,me=void 0;return G=G||{},g=g!==void 0?g:Re[Ge].fontName,P=P!==void 0?P:Re[Ge].fontStyle,te=g.toLowerCase(),Fe[te]!==void 0&&Fe[te][P]!==void 0?me=Fe[te][P]:Fe[g]!==void 0&&Fe[g][P]!==void 0?me=Fe[g][P]:G.disableWarning===!1&&Ht.warn("Unable to look up font label for font '"+g+"', '"+P+"'. Refer to getFontList() for available fonts."),me||G.noFallback||(me=Fe.times[P])==null&&(me=Fe.times.normal),me},Uu=m.__private__.putInfo=function(){var g=wr(),P=function(te){return te};for(var G in h!==null&&(P=Tr.encryptor(g,0)),B("<<"),B("/Producer ("+Vr(P("jsPDF "+ht.version))+")"),qe)qe.hasOwnProperty(G)&&qe[G]&&B("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+Vr(P(qe[G]))+")");B("/CreationDate ("+Vr(P(Z))+")"),B(">>"),B("endobj")},ao=m.__private__.putCatalog=function(g){var P=(g=g||{}).rootDictionaryObjId||va;switch(wr(),B("<<"),B("/Type /Catalog"),B("/Pages "+P+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":B("/OpenAction [3 0 R /FitH null]");break;case"fullheight":B("/OpenAction [3 0 R /FitV null]");break;case"fullpage":B("/OpenAction [3 0 R /Fit]");break;case"original":B("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Ye;G.substr(G.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&B("/OpenAction [3 0 R /XYZ null null "+R(Ye)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":B("/PageLayout /OneColumn");break;case"single":B("/PageLayout /SinglePage");break;case"two":case"twoleft":B("/PageLayout /TwoColumnLeft");break;case"tworight":B("/PageLayout /TwoColumnRight")}pt&&B("/PageMode /"+pt),jt.publish("putCatalog"),B(">>"),B("endobj")},zu=m.__private__.putTrailer=function(){B("trailer"),B("<<"),B("/Size "+(q+1)),B("/Root "+q+" 0 R"),B("/Info "+(q-1)+" 0 R"),h!==null&&B("/Encrypt "+Tr.oid+" 0 R"),B("/ID [ <"+re+"> <"+re+"> ]"),B(">>")},qu=m.__private__.putHeader=function(){B("%PDF-"+x),B("%")},Wu=m.__private__.putXRef=function(){var g="0000000000";B("xref"),B("0 "+(q+1)),B("0000000000 65535 f ");for(var P=1;P<=q;P++)typeof z[P]=="function"?B((g+z[P]()).slice(-10)+" 00000 n "):z[P]!==void 0?B((g+z[P]).slice(-10)+" 00000 n "):B("0000000000 00000 n ")},ya=m.__private__.buildDocument=function(){Ee(),ue(Q),jt.publish("buildDocument"),qu(),xs(),ml(),pl(),h!==null&&Du(),Uu(),ao();var g=ne;return Wu(),zu(),B("startxref"),B(""+g),B("%%EOF"),ue(Ne[$]),Q.join(`
`)},ti=m.__private__.getBlob=function(g){return new Blob([$e(g)],{type:"application/pdf"})},ri=m.output=m.__private__.output=Tn(function(g,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",g){case void 0:return ya();case"save":m.save(P.filename);break;case"arraybuffer":return $e(ya());case"blob":return ti(ya());case"bloburi":case"bloburl":if(ft.URL!==void 0&&typeof ft.URL.createObjectURL=="function")return ft.URL&&ft.URL.createObjectURL(ti(ya()))||void 0;Ht.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",te=ya();try{G=Nh(te)}catch{G=Nh(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+P.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ft)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(me=P.pdfObjectUrl,Se="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Xe=ft.open();return Xe!==null&&Xe.document.write(Me),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ft)==="[object Window]"){var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',xt=ft.open();if(xt!==null){xt.document.write(rt);var bt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=P.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',rr=ft.open();if(rr!==null&&(rr.document.write(Ot),rr.document.title=P.filename),rr||typeof safari>"u")return rr;break;case"datauri":case"dataurl":return ft.document.location.href=this.output("datauristring",P);default:return null}}),wl=function(g){return Array.isArray(fn)===!0&&fn.indexOf(g)>-1};switch(n){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=wl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ie=n}var Tr=null;Le(),ee();var Vu=function(g){return h!==null?Tr.encryptor(g,0):function(P){return P}},xl=m.__private__.getPageInfo=m.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[g].objId,pageNumber:g,pageContext:ct[g]}},yt=m.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in ct)if(ct[P].objId===g)break;return xl(P)},Hu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ct[$].objId,pageNumber:$,pageContext:ct[$]}};m.addPage=function(){return vl.apply(this,arguments),this},m.setPage=function(){return yl.apply(this,arguments),ue.call(this,Ne[$]),this},m.insertPage=function(g){return this.addPage(),this.movePage($,g),this},m.movePage=function(g,P){var G,te;if(g>P){G=Ne[g],te=ct[g];for(var me=g;me>P;me--)Ne[me]=Ne[me-1],ct[me]=ct[me-1];Ne[P]=G,ct[P]=te,this.setPage(P)}else if(g<P){G=Ne[g],te=ct[g];for(var Se=g;Se<P;Se++)Ne[Se]=Ne[Se+1],ct[Se]=ct[Se+1];Ne[P]=G,ct[P]=te,this.setPage(P)}return this},m.deletePage=function(){return $u.apply(this,arguments),this},m.__private__.text=m.text=function(g,P,G,te,me){var Se,Me,Xe,rt,xt,bt,Ot,rr,nr,gr=(te=te||{}).scope||this;if(typeof g=="number"&&typeof P=="number"&&(typeof G=="string"||Array.isArray(G))){var Cr=G;G=P,P=g,g=Cr}if(arguments[3]instanceof dt?(D("The transform parameter of text() with a Matrix value"),nr=me):(Xe=arguments[4],rt=arguments[5],Tt(Ot=arguments[3])==="object"&&Ot!==null||(typeof Xe=="string"&&(rt=Xe,Xe=null),typeof Ot=="string"&&(rt=Ot,Ot=null),typeof Ot=="number"&&(Xe=Ot,Ot=null),te={flags:Ot,angle:Xe,align:rt})),isNaN(P)||isNaN(G)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return gr;var kr="",En=!1,rn=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:Ss,ta=gr.internal.scaleFactor;function Ol(Gt){return Gt=Gt.split("	").join(Array(te.TabLen||9).join(" ")),Vr(Gt,Ot)}function go(Gt){for(var Jt,cr=Gt.concat(),xr=[],Sa=cr.length;Sa--;)typeof(Jt=cr.shift())=="string"?xr.push(Jt):Array.isArray(Gt)&&(Jt.length===1||Jt[1]===void 0&&Jt[2]===void 0)?xr.push(Jt[0]):xr.push([Jt[0],Jt[1],Jt[2]]);return xr}function vo(Gt,Jt){var cr;if(typeof Gt=="string")cr=Jt(Gt)[0];else if(Array.isArray(Gt)){for(var xr,Sa,No=Gt.concat(),vi=[],Dl=No.length;Dl--;)typeof(xr=No.shift())=="string"?vi.push(Jt(xr)[0]):Array.isArray(xr)&&typeof xr[0]=="string"&&(Sa=Jt(xr[0],xr[1],xr[2]),vi.push([Sa[0],Sa[1],Sa[2]]));cr=vi}return cr}var li=!1,yo=!0;if(typeof g=="string")li=!0;else if(Array.isArray(g)){var bo=g.concat();Me=[];for(var ci,Lr=bo.length;Lr--;)(typeof(ci=bo.shift())!="string"||Array.isArray(ci)&&typeof ci[0]!="string")&&(yo=!1);li=yo}if(li===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var ui=We/gr.internal.scaleFactor,di=ui*(rn-1);switch(te.baseline){case"bottom":G-=di;break;case"top":G+=ui-di;break;case"hanging":G+=ui-2*di;break;case"middle":G+=ui/2-di}if((bt=te.maxWidth||0)>0&&(typeof g=="string"?g=gr.splitTextToSize(g,bt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Gt,Jt){return Gt.concat(gr.splitTextToSize(Jt,bt))},[]))),Se={text:g,x:P,y:G,options:te,mutex:{pdfEscape:Vr,activeFontKey:Ge,fonts:Re,activeFontSize:We}},jt.publish("preProcessText",Se),g=Se.text,Xe=(te=Se.options).angle,!(nr instanceof dt)&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,te.rotationDirection===0&&(Xe=-Xe),F===O.ADVANCED&&(Xe=-Xe);var hi=Math.cos(Xe),wo=Math.sin(Xe);nr=new dt(hi,wo,-wo,hi,0,0)}else Xe&&Xe instanceof dt&&(nr=Xe);F!==O.ADVANCED||nr||(nr=Kn),(xt=te.charSpace||si)!==void 0&&(kr+=K(A(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rr=te.horizontalScale)!==void 0&&(kr+=K(100*rr)+` Tz
`),te.lang;var Hr=-1,rd=te.renderingMode!==void 0?te.renderingMode:te.stroke,xo=gr.internal.getCurrentPageInfo().pageContext;switch(rd){case 0:case!1:case"fill":Hr=0;break;case 1:case!0:case"stroke":Hr=1;break;case 2:case"fillThenStroke":Hr=2;break;case 3:case"invisible":Hr=3;break;case 4:case"fillAndAddForClipping":Hr=4;break;case 5:case"strokeAndAddPathForClipping":Hr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Hr=6;break;case 7:case"addToPathForClipping":Hr=7}var Tl=xo.usedRenderingMode!==void 0?xo.usedRenderingMode:-1;Hr!==-1?kr+=Hr+` Tr
`:Tl!==-1&&(kr+=`0 Tr
`),Hr!==-1&&(xo.usedRenderingMode=Hr),rt=te.align||"left";var mn,fi=We*rn,Cl=gr.internal.pageSize.getWidth(),El=Re[Ge];xt=te.charSpace||si,bt=te.maxWidth||0,Ot=Object.assign({autoencode:!0,noBOM:!0},te.flags);var Ja=[],js=function(Gt){return gr.getStringUnitWidth(Gt,{font:El,charSpace:xt,fontSize:We,doKerning:!1})*We/ta};if(Object.prototype.toString.call(g)==="[object Array]"){var Yr;Me=go(g),rt!=="left"&&(mn=Me.map(js));var Br,Ka=0;if(rt==="right"){P-=mn[0],g=[],Lr=Me.length;for(var wa=0;wa<Lr;wa++)wa===0?(Br=ea(P),Yr=ba(G)):(Br=A(Ka-mn[wa]),Yr=-fi),g.push([Me[wa],Br,Yr]),Ka=mn[wa]}else if(rt==="center"){P-=mn[0]/2,g=[],Lr=Me.length;for(var xa=0;xa<Lr;xa++)xa===0?(Br=ea(P),Yr=ba(G)):(Br=A((Ka-mn[xa])/2),Yr=-fi),g.push([Me[xa],Br,Yr]),Ka=mn[xa]}else if(rt==="left"){g=[],Lr=Me.length;for(var pi=0;pi<Lr;pi++)g.push(Me[pi])}else if(rt==="justify"&&El.encoding==="Identity-H"){g=[],Lr=Me.length,bt=bt!==0?bt:Cl;for(var _a=0,lr=0;lr<Lr;lr++)if(Yr=lr===0?ba(G):-fi,Br=lr===0?ea(P):_a,lr<Lr-1){var _o=A((bt-mn[lr])/(Me[lr].split(" ").length-1)),Ur=Me[lr].split(" ");g.push([Ur[0]+" ",Br,Yr]),_a=0;for(var gn=1;gn<Ur.length;gn++){var mi=(js(Ur[gn-1]+" "+Ur[gn])-js(Ur[gn]))*ta+_o;gn==Ur.length-1?g.push([Ur[gn],mi,0]):g.push([Ur[gn]+" ",mi,0]),_a-=mi}}else g.push([Me[lr],Br,Yr]);g.push(["",_a,0])}else{if(rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Lr=Me.length,bt=bt!==0?bt:Cl,lr=0;lr<Lr;lr++)Yr=lr===0?ba(G):-fi,Br=lr===0?ea(P):0,lr<Lr-1?Ja.push(K(A((bt-mn[lr])/(Me[lr].split(" ").length-1)))):Ja.push(0),g.push([Me[lr],Br,Yr])}}var Il=typeof te.R2L=="boolean"?te.R2L:tt;Il===!0&&(g=vo(g,function(Gt,Jt,cr){return[Gt.split("").reverse().join(""),Jt,cr]})),Se={text:g,x:P,y:G,options:te,mutex:{pdfEscape:Vr,activeFontKey:Ge,fonts:Re,activeFontSize:We}},jt.publish("postProcessText",Se),g=Se.text,En=Se.mutex.isHex||!1;var So=Re[Ge].encoding;So!=="WinAnsiEncoding"&&So!=="StandardEncoding"||(g=vo(g,function(Gt,Jt,cr){return[Ol(Gt),Jt,cr]})),Me=go(g),g=[];for(var Ps,As,Xa,Ls=0,gi=1,Os=Array.isArray(Me[0])?gi:Ls,Za="",ko=function(Gt,Jt,cr){var xr="";return cr instanceof dt?(cr=typeof te.angle=="number"?Pn(cr,new dt(1,0,0,1,Gt,Jt)):Pn(new dt(1,0,0,1,Gt,Jt),cr),F===O.ADVANCED&&(cr=Pn(new dt(1,0,0,-1,0,0),cr)),xr=cr.join(" ")+` Tm
`):xr=K(Gt)+" "+K(Jt)+` Td
`,xr},vn=0;vn<Me.length;vn++){switch(Za="",Os){case gi:Xa=(En?"<":"(")+Me[vn][0]+(En?">":")"),Ps=parseFloat(Me[vn][1]),As=parseFloat(Me[vn][2]);break;case Ls:Xa=(En?"<":"(")+Me[vn]+(En?">":")"),Ps=ea(P),As=ba(G)}Ja!==void 0&&Ja[vn]!==void 0&&(Za=Ja[vn]+` Tw
`),vn===0?g.push(Za+ko(Ps,As,nr)+Xa):Os===Ls?g.push(Za+Xa):Os===gi&&g.push(Za+ko(Ps,As,nr)+Xa)}g=Os===Ls?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var yn=`BT
/`;return yn+=Ge+" "+We+` Tf
`,yn+=K(We*rn)+` TL
`,yn+=ks+`
`,yn+=kr,yn+=g,B(yn+="ET"),v[Ge]=!0,gr};var Yu=m.__private__.clip=m.clip=function(g){return B(g==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Yu("evenodd")},m.__private__.discardPath=m.discardPath=function(){return B("n"),this};var Qn=m.__private__.isValidStyle=function(g){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(P=!0),P};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(g){return Qn(g)&&(d=g),this};var _l=m.__private__.getStyle=m.getStyle=function(g){var P=d;switch(g){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=g}return P},Sl=m.close=function(){return B("h"),this};m.stroke=function(){return B("S"),this},m.fill=function(g){return ni("f",g),this},m.fillEvenOdd=function(g){return ni("f*",g),this},m.fillStroke=function(g){return ni("B",g),this},m.fillStrokeEvenOdd=function(g){return ni("B*",g),this};var ni=function(g,P){Tt(P)==="object"?Ju(P,g):B(g)},so=function(g){g===null||F===O.ADVANCED&&g===void 0||(g=_l(g),B(g))};function Gu(g,P,G,te,me){var Se=new Mi(P||this.boundingBox,G||this.xStep,te||this.yStep,this.gState,me||this.matrix);Se.stream=this.stream;var Me=g+"$$"+this.cloneIndex+++"$$";return Wr(Me,Se),Se}var Ju=function(g,P){var G=Mt[g.key],te=at[G];if(te instanceof $s)B("q"),B(Ku(P)),te.gState&&m.setGState(te.gState),B(g.matrix.toString()+" cm"),B("/"+G+" sh"),B("Q");else if(te instanceof Mi){var me=new dt(1,0,0,-1,0,Ga());g.matrix&&(me=me.multiply(g.matrix||Kn),G=Gu.call(te,g.key,g.boundingBox,g.xStep,g.yStep,me).id),B("q"),B("/Pattern cs"),B("/"+G+" scn"),te.gState&&m.setGState(te.gState),B(P),B("Q")}},Ku=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},io=m.moveTo=function(g,P){return B(K(A(g))+" "+K(U(P))+" m"),this},_s=m.lineTo=function(g,P){return B(K(A(g))+" "+K(U(P))+" l"),this},Ha=m.curveTo=function(g,P,G,te,me,Se){return B([K(A(g)),K(U(P)),K(A(G)),K(U(te)),K(A(me)),K(U(Se)),"c"].join(" ")),this};m.__private__.line=m.line=function(g,P,G,te,me){if(isNaN(g)||isNaN(P)||isNaN(G)||isNaN(te)||!Qn(me))throw new Error("Invalid arguments passed to jsPDF.line");return F===O.COMPAT?this.lines([[G-g,te-P]],g,P,[1,1],me||"S"):this.lines([[G-g,te-P]],g,P,[1,1]).stroke()},m.__private__.lines=m.lines=function(g,P,G,te,me,Se){var Me,Xe,rt,xt,bt,Ot,rr,nr,gr,Cr,kr,En;if(typeof g=="number"&&(En=G,G=P,P=g,g=En),te=te||[1,1],Se=Se||!1,isNaN(P)||isNaN(G)||!Array.isArray(g)||!Array.isArray(te)||!Qn(me)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(io(P,G),Me=te[0],Xe=te[1],xt=g.length,Cr=P,kr=G,rt=0;rt<xt;rt++)(bt=g[rt]).length===2?(Cr=bt[0]*Me+Cr,kr=bt[1]*Xe+kr,_s(Cr,kr)):(Ot=bt[0]*Me+Cr,rr=bt[1]*Xe+kr,nr=bt[2]*Me+Cr,gr=bt[3]*Xe+kr,Cr=bt[4]*Me+Cr,kr=bt[5]*Xe+kr,Ha(Ot,rr,nr,gr,Cr,kr));return Se&&Sl(),so(me),this},m.path=function(g){for(var P=0;P<g.length;P++){var G=g[P],te=G.c;switch(G.op){case"m":io(te[0],te[1]);break;case"l":_s(te[0],te[1]);break;case"c":Ha.apply(this,te);break;case"h":Sl()}}return this},m.__private__.rect=m.rect=function(g,P,G,te,me){if(isNaN(g)||isNaN(P)||isNaN(G)||isNaN(te)||!Qn(me))throw new Error("Invalid arguments passed to jsPDF.rect");return F===O.COMPAT&&(te=-te),B([K(A(g)),K(U(P)),K(A(G)),K(A(te)),"re"].join(" ")),so(me),this},m.__private__.triangle=m.triangle=function(g,P,G,te,me,Se,Me){if(isNaN(g)||isNaN(P)||isNaN(G)||isNaN(te)||isNaN(me)||isNaN(Se)||!Qn(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-g,te-P],[me-G,Se-te],[g-me,P-Se]],g,P,[1,1],Me,!0),this},m.__private__.roundedRect=m.roundedRect=function(g,P,G,te,me,Se,Me){if(isNaN(g)||isNaN(P)||isNaN(G)||isNaN(te)||isNaN(me)||isNaN(Se)||!Qn(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*G),Se=Math.min(Se,.5*te),this.lines([[G-2*me,0],[me*Xe,0,me,Se-Se*Xe,me,Se],[0,te-2*Se],[0,Se*Xe,-me*Xe,Se,-me,Se],[2*me-G,0],[-me*Xe,0,-me,-Se*Xe,-me,-Se],[0,2*Se-te],[0,-Se*Xe,me*Xe,-Se,me,-Se]],g+me,P,[1,1],Me,!0),this},m.__private__.ellipse=m.ellipse=function(g,P,G,te,me){if(isNaN(g)||isNaN(P)||isNaN(G)||isNaN(te)||!Qn(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*G,Me=4/3*(Math.SQRT2-1)*te;return io(g+G,P),Ha(g+G,P-Me,g+Se,P-te,g,P-te),Ha(g-Se,P-te,g-G,P-Me,g-G,P),Ha(g-G,P+Me,g-Se,P+te,g,P+te),Ha(g+Se,P+te,g+G,P+Me,g+G,P),so(me),this},m.__private__.circle=m.circle=function(g,P,G,te){if(isNaN(g)||isNaN(P)||isNaN(G)||!Qn(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,P,G,G,te)},m.setFont=function(g,P,G){return G&&(P=ce(P,G)),Ge=bl(g,P,{disableWarning:!1}),this};var Xu=m.__private__.getFont=m.getFont=function(){return Re[bl.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var g,P,G={};for(g in Fe)if(Fe.hasOwnProperty(g))for(P in G[g]=[],Fe[g])Fe[g].hasOwnProperty(P)&&G[g].push(P);return G},m.addFont=function(g,P,G,te,me){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(G=ce(G,te)),me=me||"Identity-H",ro.call(this,g,P,G,me)};var Ss,oo=t.lineWidth||.200025,ai=m.__private__.getLineWidth=m.getLineWidth=function(){return oo},kl=m.__private__.setLineWidth=m.setLineWidth=function(g){return oo=g,B(K(A(g))+" w"),this};m.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(g,P){if(g=g||[],P=P||0,isNaN(P)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(G){return K(A(G))}).join(" "),P=K(A(P)),B("["+g+"] "+P+" d"),this};var Nl=m.__private__.getLineHeight=m.getLineHeight=function(){return We*Ss};m.__private__.getLineHeight=m.getLineHeight=function(){return We*Ss};var jl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Ss=g),this},Pl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ss};jl(t.lineHeight);var ea=m.__private__.getHorizontalCoordinate=function(g){return A(g)},ba=m.__private__.getVerticalCoordinate=function(g){return F===O.ADVANCED?g:ct[$].mediaBox.topRightY-ct[$].mediaBox.bottomLeftY-A(g)},Zu=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(g){return K(ea(g))},Ya=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(g){return K(ba(g))},Cn=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ln(Cn)},m.__private__.setStrokeColor=m.setDrawColor=function(g,P,G,te){return Cn=On({ch1:g,ch2:P,ch3:G,ch4:te,pdfColorType:"draw",precision:2}),B(Cn),this};var lo=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ln(lo)},m.__private__.setFillColor=m.setFillColor=function(g,P,G,te){return lo=On({ch1:g,ch2:P,ch3:G,ch4:te,pdfColorType:"fill",precision:2}),B(lo),this};var ks=t.textColor||"0 g",Qu=m.__private__.getTextColor=m.getTextColor=function(){return Ln(ks)};m.__private__.setTextColor=m.setTextColor=function(g,P,G,te){return ks=On({ch1:g,ch2:P,ch3:G,ch4:te,pdfColorType:"text",precision:3}),this};var si=t.charSpace,ed=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(si||0)};m.__private__.setCharSpace=m.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return si=g,this};var co=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(g){var P=m.CapJoinStyles[g];if(P===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return co=P,B(P+" J"),this};var uo=0;m.__private__.setLineJoin=m.setLineJoin=function(g){var P=m.CapJoinStyles[g];if(P===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uo=P,B(P+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return B(K(A(g))+" M"),this},m.GState=Xc,m.setGState=function(g){(g=typeof g=="string"?mt[$t[g]]:Al(null,g)).equals(Ft)||(B("/"+g.id+" gs"),Ft=g)};var Al=function(g,P){if(!g||!$t[g]){var G=!1;for(var te in mt)if(mt.hasOwnProperty(te)&&mt[te].equals(P)){G=!0;break}if(G)P=mt[te];else{var me="GS"+(Object.keys(mt).length+1).toString(10);mt[me]=P,P.id=me}return g&&($t[g]=P.id),jt.publish("addGState",P),P}};m.addGState=function(g,P){return Al(g,P),this},m.saveGraphicsState=function(){return B("q"),ut.push({key:Ge,size:We,color:ks}),this},m.restoreGraphicsState=function(){B("Q");var g=ut.pop();return Ge=g.key,We=g.size,ks=g.color,Ft=null,this},m.setCurrentTransformationMatrix=function(g){return B(g.toString()+" cm"),this},m.comment=function(g){return B("#"+g),this};var ii=function(g,P){var G=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Se){isNaN(Se)||(G=parseFloat(Se))}});var te=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(Se){isNaN(Se)||(te=parseFloat(Se))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Se){me=Se.toString()}}),this},ho=function(g,P,G,te){ii.call(this,g,P),this.type="rect";var me=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Me){isNaN(Me)||(me=parseFloat(Me))}});var Se=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Me){isNaN(Me)||(Se=parseFloat(Me))}}),this},fo=function(){this.page=Nt,this.currentPage=$,this.pages=Ne.slice(0),this.pagesContext=ct.slice(0),this.x=ye,this.y=be,this.matrix=Be,this.width=Ns($),this.height=Ga($),this.outputDestination=_e,this.id="",this.objectNumber=-1};fo.prototype.restore=function(){Nt=this.page,$=this.currentPage,ct=this.pagesContext,Ne=this.pages,ye=this.x,be=this.y,Be=this.matrix,po($,this.width),mo($,this.height),_e=this.outputDestination};var Ll=function(g,P,G,te,me){Jn.push(new fo),Nt=$=0,Ne=[],ye=g,be=P,Be=me,no([G,te])},td=function(g){if(en[g])Jn.pop().restore();else{var P=new fo,G="Xo"+(Object.keys(pr).length+1).toString(10);P.id=G,en[g]=G,pr[G]=P,jt.publish("addFormObject",P),Jn.pop().restore()}};for(var oi in m.beginFormObject=function(g,P,G,te,me){return Ll(g,P,G,te,me),this},m.endFormObject=function(g){return td(g),this},m.doFormObject=function(g,P){var G=pr[en[g]];return B("q"),B(P.toString()+" cm"),B("/"+G.id+" Do"),B("Q"),this},m.getFormObject=function(g){var P=pr[en[g]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},m.save=function(g,P){return g=g||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Rs(ti(ya()),g),typeof Rs.unload=="function"&&ft.setTimeout&&setTimeout(Rs.unload,911),this):new Promise(function(G,te){try{var me=Rs(ti(ya()),g);typeof Rs.unload=="function"&&ft.setTimeout&&setTimeout(Rs.unload,911),G(me)}catch(Se){te(Se.message)}})},ht.API)ht.API.hasOwnProperty(oi)&&(oi==="events"&&ht.API.events.length?function(g,P){var G,te,me;for(me=P.length-1;me!==-1;me--)G=P[me][0],te=P[me][1],g.subscribe.apply(g,[G].concat(typeof te=="function"?[te]:te))}(jt,ht.API.events):m[oi]=ht.API[oi]);var Ns=m.getPageWidth=function(g){return(ct[g=g||$].mediaBox.topRightX-ct[g].mediaBox.bottomLeftX)/Ie},po=m.setPageWidth=function(g,P){ct[g].mediaBox.topRightX=P*Ie+ct[g].mediaBox.bottomLeftX},Ga=m.getPageHeight=function(g){return(ct[g=g||$].mediaBox.topRightY-ct[g].mediaBox.bottomLeftY)/Ie},mo=m.setPageHeight=function(g,P){ct[g].mediaBox.topRightY=P*Ie+ct[g].mediaBox.bottomLeftY};return m.internal={pdfEscape:Vr,getStyle:_l,getFont:Xu,getFontSize:He,getCharSpace:ed,getTextColor:Qu,getLineHeight:Nl,getLineHeightFactor:Pl,getLineWidth:ai,write:Ue,getHorizontalCoordinate:ea,getVerticalCoordinate:ba,getCoordinateString:Zu,getVerticalCoordinateString:Ya,collections:{},newObject:wr,newAdditionalObject:Ys,newObjectDeferred:mr,newObjectDeferredBegin:tn,getFilters:Xn,putStream:pn,events:jt,scaleFactor:Ie,pageSize:{getWidth:function(){return Ns($)},setWidth:function(g){po($,g)},getHeight:function(){return Ga($)},setHeight:function(g){mo($,g)}},encryptionOptions:h,encryption:Tr,getEncryptor:Vu,output:ri,getNumberOfPages:Bu,pages:Ne,out:B,f2:R,f3:k,getPageInfo:xl,getPageInfoByObjId:yt,getCurrentPageInfo:Hu,getPDFVersion:b,Point:ii,Rectangle:ho,Matrix:dt,hasHotfix:wl},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ns($)},set:function(g){po($,g)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ga($)},set:function(g){mo($,g)},enumerable:!0,configurable:!0}),Fu.call(m,je),Ge="F1",vl(a,r),jt.publish("initialized"),m}Ei.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Ei.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ei.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Ei.prototype.processOwnerPassword=function(t,e){return Ph(jh(e).substr(0,5),t)},Ei.prototype.encryptor=function(t,e){var r=jh(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Ph(r,n)}},Xc.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Tt(t)!==Tt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ht.API={events:[]},ht.version="3.0.0";var sr=ht.API,_f=1,Hs=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ai=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wt=function(t){return t.toFixed(2)},ls=function(t){return t.toFixed(5)};sr.__acroform__={};var Qr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},gm=function(t){return t*_f},aa=function(t){var e=new j1,r=et.internal.getHeight(t)||0,n=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(wt(n)),Number(wt(r))],e},Xj=sr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Zj=sr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Qj=sr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},dr=sr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Qj(t,e-1)},hr=sr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Xj(t,e-1)},fr=sr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Zj(t,e-1)},e6=sr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],s=t[1],i=t[2],o=t[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(a+i)||0,l.upperRight_Y=n(s)||0,[Number(wt(l.lowerLeft_X)),Number(wt(l.lowerLeft_Y)),Number(wt(l.upperRight_X)),Number(wt(l.upperRight_Y))]},t6=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Ah(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+wt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=aa(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Ah=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var s=r,i=et.internal.getHeight(t)||0;i=i<0?-i:i;var o=et.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(k,A,E){if(k+1<a.length){var U=A+" "+a[k+1][0];return gc(U,t,E).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var d,h,p=gc("3",t,s).height,v=t.multiline?i-s:(i-p)/2,m=v+=2,x=0,b=0,S=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+gc(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var _="",O=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var X=!1;if(a[F].length!==1&&S!==a[F].length-1){if((p+2)*(O+2)+2>i)continue e;_+=a[F][S],X=!0,b=F,F--}else{_=(_+=a[F][S]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var J=parseInt(F),ce=l(J,_,s),K=F>=a.length-1;if(ce&&!K){_+=" ",S=0;continue}if(ce||K){if(K)b=J;else if(t.multiline&&(p+2)*(O+2)+2>i)continue e}else{if(!t.multiline||(p+2)*(O+2)+2>i)continue e;b=J}}for(var D="",Y=x;Y<=b;Y++){var R=a[Y];if(t.multiline){if(Y===b){D+=R[S]+" ",S=(S+1)%R.length;continue}if(Y===x){D+=R[R.length-1]+" ";continue}}D+=R[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,h=gc(D,t,s).width,t.textAlign){case"right":d=o-h-2;break;case"center":d=(o-h)/2;break;case"left":default:d=2}e+=wt(d)+" "+wt(m)+` Td
`,e+="("+Hs(D)+`) Tj
`,e+=-wt(d)+` 0 Td
`,m=-(s+2),h=0,x=X?b:b+1,O++,_=""}break}return n.text=e,n.fontSize=s,n},gc=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},r6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},n6=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},a6=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Tt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},s6=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Yn.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(r6)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_f=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new P1,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&n6(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],l=[],d=o.Rect;if(o.Rect&&(o.Rect=e6(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=et.createDefaultAppearanceStream(o),Tt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=t6(o);l.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var v in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(v)){var m=o.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var i in m)if(m.hasOwnProperty(i)){var x=m[i];typeof x=="function"&&(x=x.call(a,o)),p+="/"+i+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(a,o)),p+="/"+i+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}s&&a6(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},N1=sr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(i){return i};if(Array.isArray(t)){for(var a="[",s=0;s<t.length;s++)switch(s!==0&&(a+=" "),Tt(t[s])){case"boolean":case"number":case"object":a+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Hs(n(t[s].toString()))+")"):a+=t[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ud=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Hs(n(t))+")"},ua=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ua.prototype.toString=function(){return this.objId+" 0 R"},ua.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ua.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:N1(a,this.objId,this.scope)}):a instanceof ua?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var j1=function(){ua.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Qr(j1,ua);var P1=function(){ua.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Hs(r(t))+")"}},set:function(r){t=r}})};Qr(P1,ua);var Yn=function t(){ua.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!dr(e,3)},set:function(_){_?this.F=hr(e,3):this.F=fr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Zc)return;s="FieldObject"+t.FieldNum++}var _=function(O){return O};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Hs(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(_){i=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/_f:d},set:function(_){d=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Zc||this instanceof zs))return Ud(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=_}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Ar?v:Ud(v,this.objId,this.scope)},set:function(_){_=_.toString(),v=this instanceof Ar?_:_.substr(0,1)==="("?Ai(_.substr(1,_.length-2)):Ai(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar?Ai(v.substr(1,v.length-1)):v},set:function(_){_=_.toString(),v=this instanceof Ar?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ar?m:Ud(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof Ar?_:_.substr(0,1)==="("?Ai(_.substr(1,_.length-2)):Ai(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar?Ai(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof Ar?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(_){_=!!_,b=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(_){x=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,1)},set:function(_){_?this.Ff=hr(this.Ff,1):this.Ff=fr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,2)},set:function(_){_?this.Ff=hr(this.Ff,2):this.Ff=fr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,3)},set:function(_){_?this.Ff=hr(this.Ff,3):this.Ff=fr(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');S=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(S){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};Qr(Yn,ua);var qi=function(){Yn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return N1(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,i,o){o||(o=1);for(var l,d=[];l=i.exec(s);)d.push(l[o]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,18)},set:function(r){r?this.Ff=hr(this.Ff,18):this.Ff=fr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=hr(this.Ff,19):this.Ff=fr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,20)},set:function(r){r?(this.Ff=hr(this.Ff,20),e.sort()):this.Ff=fr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,22)},set:function(r){r?this.Ff=hr(this.Ff,22):this.Ff=fr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,23)},set:function(r){r?this.Ff=hr(this.Ff,23):this.Ff=fr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,27)},set:function(r){r?this.Ff=hr(this.Ff,27):this.Ff=fr(this.Ff,27)}}),this.hasAppearanceStream=!1};Qr(qi,Yn);var Wi=function(){qi.call(this),this.fontName="helvetica",this.combo=!1};Qr(Wi,qi);var Vi=function(){Wi.call(this),this.combo=!0};Qr(Vi,Wi);var Ac=function(){Vi.call(this),this.edit=!0};Qr(Ac,Vi);var Ar=function(){Yn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,15)},set:function(r){r?this.Ff=hr(this.Ff,15):this.Ff=fr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,16)},set:function(r){r?this.Ff=hr(this.Ff,16):this.Ff=fr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,17)},set:function(r){r?this.Ff=hr(this.Ff,17):this.Ff=fr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,26)},set:function(r){r?this.Ff=hr(this.Ff,26):this.Ff=fr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Hs(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Tt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Qr(Ar,Yn);var Lc=function(){Ar.call(this),this.pushButton=!0};Qr(Lc,Ar);var Hi=function(){Ar.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qr(Hi,Ar);var Zc=function(){var t,e;Yn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),n)i.push("/"+s+" ("+Hs(a(n[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Tt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qr(Zc,Yn),Hi.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Hi.prototype.createOption=function(t){var e=new Zc;return e.Parent=this,e.optionName=t,this.Kids.push(e),i6.call(this.scope,e),e};var Oc=function(){Ar.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};Qr(Oc,Ar);var zs=function(){Yn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,13)},set:function(e){e?this.Ff=hr(this.Ff,13):this.Ff=fr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,21)},set:function(e){e?this.Ff=hr(this.Ff,21):this.Ff=fr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,23)},set:function(e){e?this.Ff=hr(this.Ff,23):this.Ff=fr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,24)},set:function(e){e?this.Ff=hr(this.Ff,24):this.Ff=fr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,25)},set:function(e){e?this.Ff=hr(this.Ff,25):this.Ff=fr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,26)},set:function(e){e?this.Ff=hr(this.Ff,26):this.Ff=fr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qr(zs,Yn);var Tc=function(){zs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!dr(this.Ff,14)},set:function(t){t?this.Ff=hr(this.Ff,14):this.Ff=fr(this.Ff,14)}}),this.password=!0};Qr(Tc,zs);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=aa(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=Ah(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+wt(et.internal.getWidth(t))+" "+wt(et.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+wt(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=aa(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],s=et.internal.getHeight(t),i=et.internal.getWidth(t),o=Ah(t,t.caption);return a.push("1 g"),a.push("0 0 "+wt(i)+" "+wt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+wt(i-1)+" "+wt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+wt(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=aa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+wt(et.internal.getWidth(t))+" "+wt(et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=aa(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=et.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ls(et.internal.getWidth(t)/2)+" "+ls(et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=aa(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*et.internal.Bezier_C).toFixed(5)),i=Number((n*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ls(et.internal.getWidth(t)/2)+" "+ls(et.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ls(et.internal.getWidth(t)/2)+" "+ls(et.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=aa(t);e.scope=t.scope;var r=[],n=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ls(et.internal.getWidth(t)/2)+" "+ls(et.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=aa(t);e.scope=t.scope;var r=[],n=et.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+wt(et.internal.getWidth(t)-2)+" "+wt(et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(wt(n.x1.x)+" "+wt(n.x1.y)+" m"),r.push(wt(n.x2.x)+" "+wt(n.x2.y)+" l"),r.push(wt(n.x4.x)+" "+wt(n.x4.y)+" m"),r.push(wt(n.x3.x)+" "+wt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=aa(t);e.scope=t.scope;var r=et.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(et.internal.getWidth(t))+" "+wt(et.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+wt(et.internal.getWidth(t)-2)+" "+wt(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(wt(r.x1.x)+" "+wt(r.x1.y)+" m"),n.push(wt(r.x2.x)+" "+wt(r.x2.y)+" l"),n.push(wt(r.x4.x)+" "+wt(r.x4.y)+" m"),n.push(wt(r.x3.x)+" "+wt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=aa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+wt(et.internal.getWidth(t))+" "+wt(et.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),r=et.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},et.internal.getWidth=function(t){var e=0;return Tt(t)==="object"&&(e=gm(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return Tt(t)==="object"&&(e=gm(t.Rect[3])),e};var i6=sr.addField=function(t){if(s6(this,t),!(t instanceof Yn))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};sr.AcroFormChoiceField=qi,sr.AcroFormListBox=Wi,sr.AcroFormComboBox=Vi,sr.AcroFormEditBox=Ac,sr.AcroFormButton=Ar,sr.AcroFormPushButton=Lc,sr.AcroFormRadioButton=Hi,sr.AcroFormCheckBox=Oc,sr.AcroFormTextField=zs,sr.AcroFormPasswordField=Tc,sr.AcroFormAppearance=et,sr.AcroForm={ChoiceField:qi,ListBox:Wi,ComboBox:Vi,EditBox:Ac,Button:Ar,PushButton:Lc,RadioButton:Hi,CheckBox:Oc,TextField:zs,PasswordField:Tc,Appearance:et},ht.AcroForm={ChoiceField:qi,ListBox:Wi,ComboBox:Vi,EditBox:Ac,Button:Ar,PushButton:Lc,RadioButton:Hi,CheckBox:Oc,TextField:zs,PasswordField:Tc,Appearance:et};function A1(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(k,A){var E,U,Z,re,ae,ee=e;if((A=A||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(ce(k))for(ae in r)for(Z=r[ae],E=0;E<Z.length;E+=1){for(re=!0,U=0;U<Z[E].length;U+=1)if(Z[E][U]!==void 0&&Z[E][U]!==k[U]){re=!1;break}if(re===!0){ee=ae;break}}else for(ae in r)for(Z=r[ae],E=0;E<Z.length;E+=1){for(re=!0,U=0;U<Z[E].length;U+=1)if(Z[E][U]!==void 0&&Z[E][U]!==k.charCodeAt(U)){re=!1;break}if(re===!0){ee=ae;break}}return ee===e&&A!==e&&(ee=A),ee},a=function k(A){for(var E=this.internal.write,U=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:A.width}),re.push({key:"Height",value:A.height}),A.colorSpace===S.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===S.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)){for(var ae="",ee=0,de=A.transparency.length;ee<de;ee++)ae+=A.transparency[ee]+" "+A.transparency[ee]+" ";re.push({key:"Mask",value:"["+ae+"]"})}A.sMask!==void 0&&re.push({key:"SMask",value:A.objectId+1+" 0 R"});var pe=A.filter!==void 0?["/"+A.filter]:void 0;if(U({data:A.data,additionalKeyValues:re,alreadyAppliedFilters:pe,objectId:A.objectId}),E("endobj"),"sMask"in A&&A.sMask!==void 0){var Le="/Predictor "+A.predictor+" /Colors 1 /BitsPerComponent "+A.bitsPerComponent+" /Columns "+A.width,N={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:A.bitsPerComponent,decodeParameters:Le,data:A.sMask};"filter"in A&&(N.filter=A.filter),k.call(this,N)}if(A.colorSpace===S.INDEXED){var $=this.internal.newObject();U({data:D(new Uint8Array(A.palette)),objectId:$}),E("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var A in k)a.call(this,k[A])},i=function(){var k,A=this.internal.collections.addImage_images,E=this.internal.write;for(var U in A)E("/I"+(k=A[U]).index,k.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var k=this.internal.collections.addImage_images;return o.call(this),k},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(k){return typeof t["process"+k.toUpperCase()]=="function"},p=function(k){return Tt(k)==="object"&&k.nodeType===1},v=function(k,A){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var E=""+k.getAttribute("src");if(E.indexOf("data:image/")===0)return Vo(unescape(E).split("base64,").pop());var U=t.loadFile(E,!0);if(U!==void 0)return U}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var Z;switch(A){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;case"JPEG":case"JPG":default:Z="image/jpeg"}return Vo(k.toDataURL(Z,1).split("base64,").pop())}},m=function(k){var A=this.internal.collections.addImage_images;if(A){for(var E in A)if(k===A[E].alias)return A[E]}},x=function(k,A,E){return k||A||(k=-96,A=-96),k<0&&(k=-1*E.width*72/k/this.internal.scaleFactor),A<0&&(A=-1*E.height*72/A/this.internal.scaleFactor),k===0&&(k=A*E.width/E.height),A===0&&(A=k*E.height/E.width),[k,A]},b=function(k,A,E,U,Z,re){var ae=x.call(this,E,U,Z),ee=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,pe=l.call(this);if(E=ae[0],U=ae[1],pe[Z.index]=Z,re){re*=Math.PI/180;var Le=Math.cos(re),N=Math.sin(re),$=function(T){return T.toFixed(4)},V=[$(Le),$(N),$(-1*N),$(Le),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,ee(k),de(A+U),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([ee(E),"0","0",ee(U),"0","0","cm"].join(" "))):this.internal.write([ee(E),"0","0",ee(U),ee(k),de(A+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=t.__addimage__.sHashCode=function(k){var A,E,U=0;if(typeof k=="string")for(E=k.length,A=0;A<E;A++)U=(U<<5)-U+k.charCodeAt(A),U|=0;else if(ce(k))for(E=k.byteLength/2,A=0;A<E;A++)U=(U<<5)-U+k[A],U|=0;return U},F=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var A=!0;return k.length===0&&(A=!1),k.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(A=!1),A},X=t.__addimage__.extractImageFromDataUrl=function(k){var A=(k=k||"").split("base64,"),E=null;if(A.length===2){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(A[0]);Array.isArray(U)&&(E={mimeType:U[1],charset:U[2],data:A[1]})}return E},J=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(k){return J()&&k instanceof ArrayBuffer};var ce=t.__addimage__.isArrayBufferView=function(k){return J()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},K=t.__addimage__.binaryStringToUint8Array=function(k){for(var A=k.length,E=new Uint8Array(A),U=0;U<A;U++)E[U]=k.charCodeAt(U);return E},D=t.__addimage__.arrayBufferToBinaryString=function(k){for(var A="",E=ce(k)?k:new Uint8Array(k),U=0;U<E.length;U+=8192)A+=String.fromCharCode.apply(null,E.subarray(U,U+8192));return A};t.addImage=function(){var k,A,E,U,Z,re,ae,ee,de;if(typeof arguments[1]=="number"?(A=e,E=arguments[1],U=arguments[2],Z=arguments[3],re=arguments[4],ae=arguments[5],ee=arguments[6],de=arguments[7]):(A=arguments[1],E=arguments[2],U=arguments[3],Z=arguments[4],re=arguments[5],ae=arguments[6],ee=arguments[7],de=arguments[8]),Tt(k=arguments[0])==="object"&&!p(k)&&"imageData"in k){var pe=k;k=pe.imageData,A=pe.format||A||e,E=pe.x||E||0,U=pe.y||U||0,Z=pe.w||pe.width||Z,re=pe.h||pe.height||re,ae=pe.alias||ae,ee=pe.compression||ee,de=pe.rotation||pe.angle||de}var Le=this.internal.getFilters();if(ee===void 0&&Le.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(E)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var N=Y.call(this,k,A,ae,ee);return b.call(this,E,U,Z,re,N,de),this};var Y=function(k,A,E,U){var Z,re,ae;if(typeof k=="string"&&n(k)===e){k=unescape(k);var ee=R(k,!1);(ee!==""||(ee=t.loadFile(k,!0))!==void 0)&&(k=ee)}if(p(k)&&(k=v(k,A)),A=n(k,A),!h(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((ae=E)==null||ae.length===0)&&(E=function(de){return typeof de=="string"||ce(de)?O(de):ce(de.data)?O(de.data):null}(k)),(Z=m.call(this,E))||(J()&&(k instanceof Uint8Array||A==="RGBA"||(re=k,k=K(k))),Z=this["process"+A.toUpperCase()](k,d.call(this),E,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in t.image_compression?de:_.NONE}(U),re)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},R=t.__addimage__.convertBase64ToBinaryString=function(k,A){var E;A=typeof A!="boolean"||A;var U,Z="";if(typeof k=="string"){U=(E=X(k))!==null?E.data:k;try{Z=Vo(U)}catch(re){if(A)throw F(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};t.getImageProperties=function(k){var A,E,U="";if(p(k)&&(k=v(k)),typeof k=="string"&&n(k)===e&&((U=R(k,!1))===""&&(U=t.loadFile(k)||""),k=U),E=n(k),!h(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(!J()||k instanceof Uint8Array||(k=K(k)),!(A=this["process"+E.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=E,A}})(ht.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ht.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,s,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,h=!1,p=0;p<d.length&&!h;p++)switch((n=d[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){n=d[v];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(b.objId),O=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(_(n.contents))+")",s+=" /Popup "+S.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(_(O))+") >>",b.content=s;var F=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(s+=" /Open true"),s+=" >>",S.content=s,this.internal.write(b.objId,"0 R",S.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var X=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+X+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var J=this.annotations._nameMap[n.options.name];n.options.pageNumber=J.page,n.options.top=J.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var ce=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+ce+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,s,i){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:d(n),w:l(r+a),h:d(n+s)},options:i,type:"link"})},t.textWithLink=function(r,n,a,s){var i,o,l=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(r,o).length;i=Math.ceil(d*h)}else o=l,i=d;return this.text(r,n,a,s),a+=.2*d,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,a-d,o,i,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ht.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},i=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return i(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return i(b)&&a.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return i(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return i(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return i(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return i(b)&&s(b)&&e[b.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(b){var S=0,_=r,O="",F=0;for(S=0;S<b.length;S+=1)_[b.charCodeAt(S)]!==void 0?(F++,typeof(_=_[b.charCodeAt(S)])=="number"&&(O+=String.fromCharCode(_),_=r,F=0),S===b.length-1&&(_=r,O+=b.charAt(S-(F-1)),S-=F-1,F=0)):(_=r,O+=b.charAt(S-F),S-=F,F=0);return O};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(b,S,_){return i(b)?s(b)===!1?-1:!d(b)||!i(S)&&!i(_)||!i(_)&&o(S)||o(b)&&!i(S)||o(b)&&l(S)||o(b)&&o(S)?0:h(b)&&i(S)&&!o(S)&&i(_)&&d(_)?3:o(b)||!i(_)?1:2:-1},m=function(b){var S=0,_=0,O=0,F="",X="",J="",ce=(b=b||"").split("\\s+"),K=[];for(S=0;S<ce.length;S+=1){for(K.push(""),_=0;_<ce[S].length;_+=1)F=ce[S][_],X=ce[S][_-1],J=ce[S][_+1],i(F)?(O=v(F,X,J),K[S]+=O!==-1?String.fromCharCode(e[F.charCodeAt(0)][O]):F):K[S]+=F;K[S]=p(K[S])}return K.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var b,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(S)){var O=0;for(_=[],O=0;O<S.length;O+=1)Array.isArray(S[O])?_.push([m(S[O][0]),S[O][1],S[O][2]]):_.push([m(S[O])]);b=_}else b=m(S);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",x])}(ht.API),ht.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ht.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(b){v=b}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(b){x=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,d){n.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,b=0,S=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=d.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(F,X){return F.concat(S.splitTextToSize(X,_))},[])):l=Array.isArray(l)?l:[l];for(var O=0;O<l.length;O++)m<(b=this.getStringUnitWidth(l[O],{font:p})*h)&&(m=b);return m!==0&&(x=l.length),{w:m/=v,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,d,h,p,v){if(n.call(this),!h)throw new Error("No data for PDF table.");var m,x,b,S,_=[],O=[],F=[],X={},J={},ce=[],K=[],D=(v=v||{}).autoSize||!1,Y=v.printHeaders!==!1,R=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,k=v.margins||Object.assign({width:this.getPageWidth()},e),A=typeof v.padding=="number"?v.padding:3,E=v.headerBackgroundColor||"#c8c8c8",U=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=U,this.setFontSize(R),p==null)O=_=Object.keys(h[0]),F=_.map(function(){return"left"});else if(Array.isArray(p)&&Tt(p[0])==="object")for(_=p.map(function(pe){return pe.name}),O=p.map(function(pe){return pe.prompt||pe.name||""}),F=p.map(function(pe){return pe.align||"left"}),m=0;m<p.length;m+=1)J[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(O=_=p,F=_.map(function(){return"left"}));if(D||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<_.length;m+=1){for(X[S=_[m]]=h.map(function(pe){return pe[S]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(O[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=X[S],this.setFont(void 0,"normal"),b=0;b<x.length;b+=1)ce.push(this.getTextDimensions(x[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[S]=Math.max.apply(null,ce)+A+A,ce=[]}if(Y){var Z={};for(m=0;m<_.length;m+=1)Z[_[m]]={},Z[_[m]].text=O[m],Z[_[m]].align=F[m];var re=o.call(this,Z,J);K=_.map(function(pe){return new s(l,d,J[pe],re,Z[pe].text,void 0,Z[pe].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var ae=p.reduce(function(pe,Le){return pe[Le.name]=Le.align,pe},{});for(m=0;m<h.length;m+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:m,data:h[m]},this);var ee=o.call(this,h[m],J);for(b=0;b<_.length;b+=1){var de=h[m][_[b]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:m,col:b,data:de},this),i.call(this,new s(l,d,J[_[b]],ee,de,m+2,ae[_[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var o=function(l,d){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(m){var x=l[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/v+h+h},this).reduce(function(m,x){return Math.max(m,x)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,h),this.setTextColor(x)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(ht.API);var L1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},O1=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Lh=A1(O1),T1=[100,200,300,400,500,600,700,800,900],o6=A1(T1);function Oh(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return L1[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(s){return typeof Lh[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function vm(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var l6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ym={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function bm(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function c6(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},l6,r.genericFontFamilies||{}),s=null,i=null,o=0;o<e.length;++o)if(a[(s=Oh(e[o])).family]&&(s.family=a[s.family]),t.hasOwnProperty(s.family)){i=t[s.family];break}if(!(i=i||t[n]))throw new Error("Could not find a font-family for the rule '"+bm(s)+"' and default family '"+n+"'.");if(i=function(l,d){if(d[l])return d[l];var h=Lh[l],p=h<=Lh.normal?-1:1,v=vm(d,O1,h,p);if(!v)throw new Error("Could not find a matching font-stretch value for "+l);return v}(s.stretch,i),i=function(l,d){if(d[l])return d[l];for(var h=L1[l],p=0;p<h.length;++p)if(d[h[p]])return d[h[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,i),!(i=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var h=o6[l],p=vm(d,T1,h,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+bm(s)+"'.");return i}function wm(t){return t.trimLeft()}function u6(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function d6(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var vc,xm,_m,zd=["times"];(function(t){var e,r,n,a,s,i,o,l,d,h=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new i,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new i,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,d=new h}]);var p=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=N;Object.defineProperty(this,"pdf",{get:function(){return $}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ue){V=!!ue}});var T=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return T},set:function(ue){T=!!ue}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(ue){isNaN(ue)||(q=ue)}});var z=0;Object.defineProperty(this,"posY",{get:function(){return z},set:function(ue){isNaN(ue)||(z=ue)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ue){var B;typeof ue=="number"?B=[ue,ue,ue,ue]:((B=new Array(4))[0]=ue[0],B[1]=ue.length>=2?ue[1]:B[0],B[2]=ue.length>=3?ue[2]:B[0],B[3]=ue.length>=4?ue[3]:B[1]),d.margin=B}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(ue){Q=ue}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(ue){ne=ue}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(ue){Ae=ue}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ue){ue instanceof h&&(d=ue)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ue){d.path=ue}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(ue){Ne=ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ue){var B;B=v(ue),this.ctx.fillStyle=B.style,this.ctx.isFillTransparent=B.a===0,this.ctx.fillOpacity=B.a,this.pdf.setFillColor(B.r,B.g,B.b,{a:B.a}),this.pdf.setTextColor(B.r,B.g,B.b,{a:B.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ue){var B=v(ue);this.ctx.strokeStyle=B.style,this.ctx.isStrokeTransparent=B.a===0,this.ctx.strokeOpacity=B.a,B.a===0?this.pdf.setDrawColor(255,255,255):(B.a,this.pdf.setDrawColor(B.r,B.g,B.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ue){["butt","round","square"].indexOf(ue)!==-1&&(this.ctx.lineCap=ue,this.pdf.setLineCap(ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ue){isNaN(ue)||(this.ctx.lineWidth=ue,this.pdf.setLineWidth(ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ue){["bevel","round","miter"].indexOf(ue)!==-1&&(this.ctx.lineJoin=ue,this.pdf.setLineJoin(ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ue){isNaN(ue)||(this.ctx.miterLimit=ue,this.pdf.setMiterLimit(ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ue){this.ctx.textBaseline=ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ue){["right","end","center","left","start"].indexOf(ue)!==-1&&(this.ctx.textAlign=ue)}});var fe=null;function _e(ue,B){if(fe===null){var Ue=function($e){var je=[];return Object.keys($e).forEach(function(We){$e[We].forEach(function(Ye){var He=null;switch(Ye){case"bold":He={family:We,weight:"bold"};break;case"italic":He={family:We,style:"italic"};break;case"bolditalic":He={family:We,weight:"bold",style:"italic"};break;case"":case"normal":He={family:We}}He!==null&&(He.ref={name:We,style:Ye},je.push(He))})}),je}(ue.getFontList());fe=function($e){for(var je={},We=0;We<$e.length;++We){var Ye=Oh($e[We]),He=Ye.family,tt=Ye.stretch,pt=Ye.style,we=Ye.weight;je[He]=je[He]||{},je[He][tt]=je[He][tt]||{},je[He][tt][pt]=je[He][tt][pt]||{},je[He][tt][pt][we]=Ye}return je}(Ue.concat(B))}return fe}var Ee=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ee},set:function(ue){fe=null,Ee=ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ue){var B;if(this.ctx.font=ue,(B=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ue))!==null){var Ue=B[1],$e=(B[2],B[3]),je=B[4],We=(B[5],B[6]),Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Ye==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var He=function(qe){var Ge,Ie,ye=[],be=qe.trim();if(be==="")return zd;if(be in ym)return[ym[be]];for(;be!=="";){switch(Ie=null,Ge=(be=wm(be)).charAt(0)){case'"':case"'":Ie=u6(be.substring(1),Ge);break;default:Ie=d6(be)}if(Ie===null||(ye.push(Ie[0]),(be=wm(Ie[1]))!==""&&be.charAt(0)!==","))return zd;be=be.replace(/^,/,"")}return ye}(We);if(this.fontFaces){var tt=c6(_e(this.pdf,this.fontFaces),He.map(function(qe){return{family:qe,stretch:"normal",weight:$e,style:Ue}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var pt="";($e==="bold"||parseInt($e,10)>=700||Ue==="bold")&&(pt="bold"),Ue==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var we="",oe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ke=0;ke<He.length;ke++){if(this.pdf.internal.getFont(He[ke],pt,{noFallback:!0,disableWarning:!0})!==void 0){we=He[ke];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(He[ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)we=He[ke],pt="bold";else if(this.pdf.internal.getFont(He[ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){we=He[ke],pt="normal";break}}if(we===""){for(var Pe=0;Pe<He.length;Pe++)if(oe[He[Pe]]){we=oe[He[Pe]];break}}we=we===""?"Times":we,this.pdf.setFont(we,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ue){this.ctx.globalCompositeOperation=ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ue){this.ctx.globalAlpha=ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ue){this.ctx.lineDashOffset=ue,Le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ue){this.ctx.lineDash=ue,Le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ue){this.ctx.ignoreClearRect=!!ue}})};p.prototype.setLineDash=function(N){this.lineDash=N},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){X.call(this,"fill",!1)},p.prototype.stroke=function(){X.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(N,$){if(isNaN(N)||isNaN($))throw Ht.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new i(N,$));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new i(N,$)},p.prototype.closePath=function(){var N=new i(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Tt(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){N=new i(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(N.x,N.y)},p.prototype.lineTo=function(N,$){if(isNaN(N)||isNaN($))throw Ht.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new i(N,$));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new i(V.x,V.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),X.call(this,null,!0)},p.prototype.quadraticCurveTo=function(N,$,V,T){if(isNaN(V)||isNaN(T)||isNaN(N)||isNaN($))throw Ht.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new i(V,T)),z=this.ctx.transform.applyToPoint(new i(N,$));this.path.push({type:"qct",x1:z.x,y1:z.y,x:q.x,y:q.y}),this.ctx.lastPoint=new i(q.x,q.y)},p.prototype.bezierCurveTo=function(N,$,V,T,q,z){if(isNaN(q)||isNaN(z)||isNaN(N)||isNaN($)||isNaN(V)||isNaN(T))throw Ht.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new i(q,z)),ne=this.ctx.transform.applyToPoint(new i(N,$)),Ae=this.ctx.transform.applyToPoint(new i(V,T));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:Ae.x,y2:Ae.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new i(Q.x,Q.y)},p.prototype.arc=function(N,$,V,T,q,z){if(isNaN(N)||isNaN($)||isNaN(V)||isNaN(T)||isNaN(q))throw Ht.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(z=!!z,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new i(N,$));N=Q.x,$=Q.y;var ne=this.ctx.transform.applyToPoint(new i(0,V)),Ae=this.ctx.transform.applyToPoint(new i(0,0));V=Math.sqrt(Math.pow(ne.x-Ae.x,2)+Math.pow(ne.y-Ae.y,2))}Math.abs(q-T)>=2*Math.PI&&(T=0,q=2*Math.PI),this.path.push({type:"arc",x:N,y:$,radius:V,startAngle:T,endAngle:q,counterclockwise:z})},p.prototype.arcTo=function(N,$,V,T,q){throw new Error("arcTo not implemented.")},p.prototype.rect=function(N,$,V,T){if(isNaN(N)||isNaN($)||isNaN(V)||isNaN(T))throw Ht.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,$),this.lineTo(N+V,$),this.lineTo(N+V,$+T),this.lineTo(N,$+T),this.lineTo(N,$),this.lineTo(N+V,$),this.lineTo(N,$)},p.prototype.fillRect=function(N,$,V,T){if(isNaN(N)||isNaN($)||isNaN(V)||isNaN(T))throw Ht.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,$,V,T),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},p.prototype.strokeRect=function(N,$,V,T){if(isNaN(N)||isNaN($)||isNaN(V)||isNaN(T))throw Ht.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(N,$,V,T),this.stroke())},p.prototype.clearRect=function(N,$,V,T){if(isNaN(N)||isNaN($)||isNaN(V)||isNaN(T))throw Ht.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,$,V,T))},p.prototype.save=function(N){N=typeof N!="boolean"||N;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage($),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var T=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=T}},p.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage($),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(N){var $,V,T,q;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))$=0,V=0,T=0,q=0;else{var z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(z!==null)$=parseInt(z[1]),V=parseInt(z[2]),T=parseInt(z[3]),q=1;else if((z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)$=parseInt(z[1]),V=parseInt(z[2]),T=parseInt(z[3]),q=parseFloat(z[4]);else{if(q=1,typeof N=="string"&&N.charAt(0)!=="#"){var Q=new _1(N);N=Q.ok?Q.toHex():"#000000"}N.length===4?($=N.substring(1,2),$+=$,V=N.substring(2,3),V+=V,T=N.substring(3,4),T+=T):($=N.substring(1,3),V=N.substring(3,5),T=N.substring(5,7)),$=parseInt($,16),V=parseInt(V,16),T=parseInt(T,16)}}return{r:$,g:V,b:T,a:q,style:N}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(N,$,V,T){if(isNaN($)||isNaN(V)||typeof N!="string")throw Ht.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(T=isNaN(T)?void 0:T,!m.call(this)){var q=ee(this.ctx.transform.rotation),z=this.ctx.transform.scaleX;A.call(this,{text:N,x:$,y:V,scale:z,angle:q,align:this.textAlign,maxWidth:T})}},p.prototype.strokeText=function(N,$,V,T){if(isNaN($)||isNaN(V)||typeof N!="string")throw Ht.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){T=isNaN(T)?void 0:T;var q=ee(this.ctx.transform.rotation),z=this.ctx.transform.scaleX;A.call(this,{text:N,x:$,y:V,scale:z,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:T})}},p.prototype.measureText=function(N){if(typeof N!="string")throw Ht.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,V=this.pdf.internal.scaleFactor,T=$.internal.getFontSize(),q=$.getStringUnitWidth(N)*T/$.internal.scaleFactor,z=function(Q){var ne=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new z({width:q*=Math.round(96*V/72*1e4)/1e4})},p.prototype.scale=function(N,$){if(isNaN(N)||isNaN($))throw Ht.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(N,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.rotate=function(N){if(isNaN(N))throw Ht.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply($)},p.prototype.translate=function(N,$){if(isNaN(N)||isNaN($))throw Ht.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,N,$);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.transform=function(N,$,V,T,q,z){if(isNaN(N)||isNaN($)||isNaN(V)||isNaN(T)||isNaN(q)||isNaN(z))throw Ht.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new l(N,$,V,T,q,z);this.ctx.transform=this.ctx.transform.multiply(Q)},p.prototype.setTransform=function(N,$,V,T,q,z){N=isNaN(N)?1:N,$=isNaN($)?0:$,V=isNaN(V)?0:V,T=isNaN(T)?1:T,q=isNaN(q)?0:q,z=isNaN(z)?0:z,this.ctx.transform=new l(N,$,V,T,q,z)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(N,$,V,T,q,z,Q,ne,Ae){var Ne=this.pdf.getImageProperties(N),fe=1,_e=1,Ee=1,ue=1;T!==void 0&&ne!==void 0&&(Ee=ne/T,ue=Ae/q,fe=Ne.width/T*ne/T,_e=Ne.height/q*Ae/q),z===void 0&&(z=$,Q=V,$=0,V=0),T!==void 0&&ne===void 0&&(ne=T,Ae=q),T===void 0&&ne===void 0&&(ne=Ne.width,Ae=Ne.height);for(var B,Ue=this.ctx.transform.decompose(),$e=ee(Ue.rotate.shx),je=new l,We=(je=(je=(je=je.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new o(z-$*Ee,Q-V*ue,T*fe,q*_e)),Ye=S.call(this,We),He=[],tt=0;tt<Ye.length;tt+=1)He.indexOf(Ye[tt])===-1&&He.push(Ye[tt]);if(F(He),this.autoPaging)for(var pt=He[0],we=He[He.length-1],oe=pt;oe<we+1;oe++){this.pdf.setPage(oe);var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=oe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=oe===1?0:qe+(oe-2)*Ge;if(this.ctx.clip_path.length!==0){var ye=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(B,this.posX+this.margin[3],-Ie+Pe+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=ye}var be=JSON.parse(JSON.stringify(We));be=O([be],this.posX+this.margin[3],-Ie+Pe+this.ctx.prevPageLastElemOffset)[0];var Be=(oe>pt||oe<we)&&b.call(this);Be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,Ge,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",be.x,be.y,be.w,be.h,null,null,$e),Be&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",We.x,We.y,We.w,We.h,null,null,$e)};var S=function(N,$,V){var T=[];$=$||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":T.push(Math.floor((N.y+q)/V)+1);break;case"arc":T.push(Math.floor((N.y+q-N.radius)/V)+1),T.push(Math.floor((N.y+q+N.radius)/V)+1);break;case"qct":var z=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);T.push(Math.floor((z.y+q)/V)+1),T.push(Math.floor((z.y+z.h+q)/V)+1);break;case"bct":var Q=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);T.push(Math.floor((Q.y+q)/V)+1),T.push(Math.floor((Q.y+Q.h+q)/V)+1);break;case"rect":T.push(Math.floor((N.y+q)/V)+1),T.push(Math.floor((N.y+N.h+q)/V)+1)}for(var ne=0;ne<T.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<T[ne];)_.call(this);return T},_=function(){var N=this.fillStyle,$=this.strokeStyle,V=this.font,T=this.lineCap,q=this.lineWidth,z=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=$,this.font=V,this.lineCap=T,this.lineWidth=q,this.lineJoin=z},O=function(N,$,V){for(var T=0;T<N.length;T++)switch(N[T].type){case"bct":N[T].x2+=$,N[T].y2+=V;case"qct":N[T].x1+=$,N[T].y1+=V;case"mt":case"lt":case"arc":default:N[T].x+=$,N[T].y+=V}return N},F=function(N){return N.sort(function($,V){return $-V})},X=function(N,$){for(var V,T,q=this.fillStyle,z=this.strokeStyle,Q=this.lineCap,ne=this.lineWidth,Ae=Math.abs(ne*this.ctx.transform.scaleX),Ne=this.lineJoin,fe=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),Ee=[],ue=0;ue<_e.length;ue++)if(_e[ue].x!==void 0)for(var B=S.call(this,_e[ue]),Ue=0;Ue<B.length;Ue+=1)Ee.indexOf(B[Ue])===-1&&Ee.push(B[Ue]);for(var $e=0;$e<Ee.length;$e++)for(;this.pdf.internal.getNumberOfPages()<Ee[$e];)_.call(this);if(F(Ee),this.autoPaging)for(var je=Ee[0],We=Ee[Ee.length-1],Ye=je;Ye<We+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=q,this.strokeStyle=z,this.lineCap=Q,this.lineWidth=Ae,this.lineJoin=Ne;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=Ye===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=Ye===1?0:pt+(Ye-2)*we;if(this.ctx.clip_path.length!==0){var ke=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(V,this.posX+this.margin[3],-oe+tt+this.ctx.prevPageLastElemOffset),J.call(this,N,!0),this.path=ke}if(T=JSON.parse(JSON.stringify(fe)),this.path=O(T,this.posX+this.margin[3],-oe+tt+this.ctx.prevPageLastElemOffset),$===!1||Ye===0){var Pe=(Ye>je||Ye<We)&&b.call(this);Pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,we,null).clip().discardPath()),J.call(this,N,$),Pe&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=Ae,J.call(this,N,$),this.lineWidth=ne;this.path=fe},J=function(N,$){if((N!=="stroke"||$||!x.call(this))&&(N==="stroke"||$||!m.call(this))){for(var V,T,q=[],z=this.path,Q=0;Q<z.length;Q++){var ne=z[Q];switch(ne.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:ne,deltas:[],abs:[]});break;case"lt":var Ae=q.length;if(z[Q-1]&&!isNaN(z[Q-1].x)&&(V=[ne.x-z[Q-1].x,ne.y-z[Q-1].y],Ae>0)){for(;Ae>=0;Ae--)if(q[Ae-1].close!==!0&&q[Ae-1].begin!==!0){q[Ae-1].deltas.push(V),q[Ae-1].abs.push(ne);break}}break;case"bct":V=[ne.x1-z[Q-1].x,ne.y1-z[Q-1].y,ne.x2-z[Q-1].x,ne.y2-z[Q-1].y,ne.x-z[Q-1].x,ne.y-z[Q-1].y],q[q.length-1].deltas.push(V);break;case"qct":var Ne=z[Q-1].x+2/3*(ne.x1-z[Q-1].x),fe=z[Q-1].y+2/3*(ne.y1-z[Q-1].y),_e=ne.x+2/3*(ne.x1-ne.x),Ee=ne.y+2/3*(ne.y1-ne.y),ue=ne.x,B=ne.y;V=[Ne-z[Q-1].x,fe-z[Q-1].y,_e-z[Q-1].x,Ee-z[Q-1].y,ue-z[Q-1].x,B-z[Q-1].y],q[q.length-1].deltas.push(V);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(ne)}}T=$?null:N==="stroke"?"stroke":"fill";for(var Ue=!1,$e=0;$e<q.length;$e++)if(q[$e].arc)for(var je=q[$e].abs,We=0;We<je.length;We++){var Ye=je[We];Ye.type==="arc"?D.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,$,!Ue):E.call(this,Ye.x,Ye.y),Ue=!0}else if(q[$e].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(q[$e].begin!==!0){var He=q[$e].start.x,tt=q[$e].start.y;U.call(this,q[$e].deltas,He,tt),Ue=!0}T&&Y.call(this,T),$&&R.call(this)}},ce=function(N){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-V;case"top":return N+$-V;case"hanging":return N+$-2*V;case"middle":return N+$/2-V;case"ideographic":return N;case"alphabetic":default:return N}},K=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function($,V){this.colorStops.push([$,V])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(N,$,V,T,q,z,Q,ne,Ae){for(var Ne=re.call(this,V,T,q,z),fe=0;fe<Ne.length;fe++){var _e=Ne[fe];fe===0&&(Ae?k.call(this,_e.x1+N,_e.y1+$):E.call(this,_e.x1+N,_e.y1+$)),Z.call(this,N,$,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}ne?R.call(this):Y.call(this,Q)},Y=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(N,$){this.pdf.internal.out(r(N)+" "+n($)+" m")},A=function(N){var $;switch(N.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var V=this.pdf.getTextDimensions(N.text),T=ce.call(this,N.y),q=K.call(this,T)-V.h,z=this.ctx.transform.applyToPoint(new i(N.x,T)),Q=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(Q.translate)).multiply(Q.skew)).multiply(Q.scale);for(var Ae,Ne,fe,_e=this.ctx.transform.applyToRectangle(new o(N.x,T,V.w,V.h)),Ee=ne.applyToRectangle(new o(N.x,q,V.w,V.h)),ue=S.call(this,Ee),B=[],Ue=0;Ue<ue.length;Ue+=1)B.indexOf(ue[Ue])===-1&&B.push(ue[Ue]);if(F(B),this.autoPaging)for(var $e=B[0],je=B[B.length-1],We=$e;We<je+1;We++){this.pdf.setPage(We);var Ye=We===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],pt=tt-this.margin[0],we=this.pdf.internal.pageSize.width-this.margin[1],oe=we-this.margin[3],ke=We===1?0:He+(We-2)*pt;if(this.ctx.clip_path.length!==0){var Pe=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Ae,this.posX+this.margin[3],-1*ke+Ye),J.call(this,"fill",!0),this.path=Pe}var qe=O([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-ke+Ye+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*N.scale),fe=this.lineWidth,this.lineWidth=fe*N.scale);var Ge=this.autoPaging!=="text";if(Ge||qe.y+qe.h<=tt){if(Ge||qe.y>=Ye&&qe.x<=we){var Ie=Ge?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||we-qe.x)[0],ye=O([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-ke+Ye+this.ctx.prevPageLastElemOffset)[0],be=Ge&&(We>$e||We<je)&&b.call(this);be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,pt,null).clip().discardPath()),this.pdf.text(Ie,ye.x,ye.y,{angle:N.angle,align:$,renderingMode:N.renderingMode}),be&&this.pdf.restoreGraphicsState()}}else qe.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-qe.y);N.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=fe)}else N.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*N.scale),fe=this.lineWidth,this.lineWidth=fe*N.scale),this.pdf.text(N.text,z.x+this.posX,z.y+this.posY,{angle:N.angle,align:$,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=fe)},E=function(N,$,V,T){V=V||0,T=T||0,this.pdf.internal.out(r(N+V)+" "+n($+T)+" l")},U=function(N,$,V){return this.pdf.lines(N,$,V,null,null)},Z=function(N,$,V,T,q,z,Q,ne){this.pdf.internal.out([e(a(V+N)),e(s(T+$)),e(a(q+N)),e(s(z+$)),e(a(Q+N)),e(s(ne+$)),"c"].join(" "))},re=function(N,$,V,T){for(var q=2*Math.PI,z=Math.PI/2;$>V;)$-=q;var Q=Math.abs(V-$);Q<q&&T&&(Q=q-Q);for(var ne=[],Ae=T?-1:1,Ne=$;Q>1e-5;){var fe=Ne+Ae*Math.min(Q,z);ne.push(ae.call(this,N,Ne,fe)),Q-=Math.abs(fe-Ne),Ne=fe}return ne},ae=function(N,$,V){var T=(V-$)/2,q=N*Math.cos(T),z=N*Math.sin(T),Q=q,ne=-z,Ae=Q*Q+ne*ne,Ne=Ae+Q*q+ne*z,fe=4/3*(Math.sqrt(2*Ae*Ne)-Ne)/(Q*z-ne*q),_e=Q-fe*ne,Ee=ne+fe*Q,ue=_e,B=-Ee,Ue=T+$,$e=Math.cos(Ue),je=Math.sin(Ue);return{x1:N*Math.cos($),y1:N*Math.sin($),x2:_e*$e-Ee*je,y2:_e*je+Ee*$e,x3:ue*$e-B*je,y3:ue*je+B*$e,x4:N*Math.cos(V),y4:N*Math.sin(V)}},ee=function(N){return 180*N/Math.PI},de=function(N,$,V,T,q,z){var Q=N+.5*(V-N),ne=$+.5*(T-$),Ae=q+.5*(V-q),Ne=z+.5*(T-z),fe=Math.min(N,q,Q,Ae),_e=Math.max(N,q,Q,Ae),Ee=Math.min($,z,ne,Ne),ue=Math.max($,z,ne,Ne);return new o(fe,Ee,_e-fe,ue-Ee)},pe=function(N,$,V,T,q,z,Q,ne){var Ae,Ne,fe,_e,Ee,ue,B,Ue,$e,je,We,Ye,He,tt,pt=V-N,we=T-$,oe=q-V,ke=z-T,Pe=Q-q,qe=ne-z;for(Ne=0;Ne<41;Ne++)$e=(B=(fe=N+(Ae=Ne/40)*pt)+Ae*((Ee=V+Ae*oe)-fe))+Ae*(Ee+Ae*(q+Ae*Pe-Ee)-B),je=(Ue=(_e=$+Ae*we)+Ae*((ue=T+Ae*ke)-_e))+Ae*(ue+Ae*(z+Ae*qe-ue)-Ue),Ne==0?(We=$e,Ye=je,He=$e,tt=je):(We=Math.min(We,$e),Ye=Math.min(Ye,je),He=Math.max(He,$e),tt=Math.max(tt,je));return new o(Math.round(We),Math.round(Ye),Math.round(He-We),Math.round(tt-Ye))},Le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,$,V=(N=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:$}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(ht.API),function(t){var e=function(s){var i,o,l,d,h,p,v,m,x,b;for(o=[],l=0,d=(s+=i="\0\0\0\0".slice(s.length%4||4)).length;d>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(h=((h=((h=((h=(h-(b=h%85))/85)-(x=h%85))/85)-(m=h%85))/85)-(v=h%85))/85)%85,o.push(p+33,v+33,m+33,x+33,b+33)):o.push(122);return function(S,_){for(var O=_;O>0;O--)S.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var i,o,l,d,h,p=String,v="length",m=255,x="charCodeAt",b="slice",S="replace";for(s[b](-2),s=s[b](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),l=[],d=0,h=(s+=i="uuuuu"[b](s[v]%5||5))[v];h>d;d+=5)o=52200625*(s[x](d)-33)+614125*(s[x](d+1)-33)+7225*(s[x](d+2)-33)+85*(s[x](d+3)-33)+(s[x](d+4)-33),l.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(_,O){for(var F=O;F>0;F--)_.pop()}(l,i[v]),p.fromCharCode.apply(p,l)},n=function(s){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),i.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},a=function(s){for(var i=new Uint8Array(s.length),o=s.length;o--;)i[o]=s.charCodeAt(o);return s=(i=kh(i)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,i){var o=0,l=s||"",d=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}(ht.API),function(t){t.loadFile=function(e,r,n){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(l,d,h){var p=new XMLHttpRequest,v=0,m=function(x){var b=x.length,S=[],_=String.fromCharCode;for(v=0;v<b;v+=1)S.push(_(255&x.charCodeAt(v)));return S.join("")};if(p.open("GET",l,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?h(m(this.responseText)):h(void 0)}),p.send(null),d&&p.status===200)return m(p.responseText)}(a,s,i)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(ht.API),function(t){function e(){return(ft.html2canvas?Promise.resolve(ft.html2canvas):Ba(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(ft.DOMPurify?Promise.resolve(ft.DOMPurify):Ba(()=>import("./purify.es-D-QPbZEk.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=Tt(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(i,o){var l=document.createElement(i);for(var d in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[d]=o.style[d];return l},s=function i(o){var l=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),d=i.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,i,1,[i])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(i,o){return i.__proto__=o||s.prototype,i},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:i,dompurify:l})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},s.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(d,h){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)h!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(l(v,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(e).then(function(o){var l=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var v=0;v<d.length;++v){var m=d[v],x=m.src.find(function(b){return b.format==="truetype"});x&&l.addFont(x.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),o(this.prop.container,p)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(i,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},s.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},s.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},s.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=i[l]};switch(l){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[l]=i[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(i,o){return this.then(function(){var l=i in s.template.prop?this.prop[i]:this.opt[i];return o?o(l):l})},s.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},s.prototype.setPageSize=function(i){function o(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(i=i||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},s.prototype.setProgress=function(i,o,l,d){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(i,o,l,d){return this.setProgress(i?this.progress.val+i:null,o||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(i,o){var l=this;return this.thenCore(i,o,function(d,h){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,d),p}).then(d,h).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(i,o,l){l=l||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(d,i,o);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},s.prototype.thenList=function(i){var o=this;return i.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return s.convert(o,this)},s.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},s.prototype.error=function(i){return this.then(function(){throw new Error(i)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ht.getPageSize=function(i,o,l){if(Tt(i)==="object"){var d=i;i=d.orientation,o=d.unit||o,l=d.format||l}o=o||"mm",l=l||"a4",i=(""+(i||"P")).toLowerCase();var h,p=(""+l).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var m,x=0,b=0;if(v.hasOwnProperty(p))x=v[p][1]/h,b=v[p][0]/h;else try{x=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(i==="p"||i==="portrait")i="p",b>x&&(m=b,b=x,x=m);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",x>b&&(m=b,b=x,x=m)}return{width:b,height:x,unit:o,k:h,orientation:i}},t.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Oh):null;var l=new s(o);return o.worker?l:l.from(i).doCallback()}}(ht.API),ht.API.addJS=function(t){return _m=t,this.internal.events.subscribe("postPutResources",function(){vc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_m+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vc!==void 0&&xm!==void 0&&this.internal.out("/Names <</JavaScript "+vc+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],o=n.exec(i);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(s=0;s<d;s++){var p=r.internal.newObject();h.push(p);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var i={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var i=n.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var l=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(ht.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,s,i,o){var l,d=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(p){for(var v,m=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,b={width:0,height:0,numcomponents:1},S=4;S<x;S+=2){if(S+=m,e.indexOf(p.charCodeAt(S+1))!==-1){v=256*p.charCodeAt(S+5)+p.charCodeAt(S+6),b={width:256*p.charCodeAt(S+7)+p.charCodeAt(S+8),height:v,numcomponents:p.charCodeAt(S+9)};break}m=256*p.charCodeAt(S+2)+p.charCodeAt(S+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:a}}return h}}(ht.API);var Li,yc,Sm,km,Nm,h6=function(){var t,e,r;function n(s){var i,o,l,d,h,p,v,m,x,b,S,_,O,F;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(i=this.readUInt32(),x=(function(){var X,J;for(J=[],X=0;X<4;++X)J.push(String.fromCharCode(this.data[this.pos++]));return J}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*h/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,i-=4),s=(p!=null?p.data:void 0)||this.imgData,_=0;0<=i?_<i:_>i;0<=i?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(O=0;0<=b?O<b:O>b;0<=b?++O:--O)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":v=(S=this.read(i)).indexOf(0),m=String.fromCharCode.apply(String,S.slice(0,v)),this.text[m]=String.fromCharCode.apply(String,S.slice(v+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var i,o;for(o=[],i=0;0<=s?i<s:i>s;0<=s?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),l=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(p,v,m,x){var b,S,_,O,F,X,J,ce,K,D,Y,R,k,A,E,U,Z,re,ae,ee,de,pe=Math.ceil((d.width-p)/m),Le=Math.ceil((d.height-v)/x),N=d.width==pe&&d.height==Le;for(A=i*pe,R=N?o:new Uint8Array(A*Le),X=s.length,k=0,S=0;k<Le&&l<X;){switch(s[l++]){case 0:for(O=Z=0;Z<A;O=Z+=1)R[S++]=s[l++];break;case 1:for(O=re=0;re<A;O=re+=1)b=s[l++],F=O<i?0:R[S-i],R[S++]=(b+F)%256;break;case 2:for(O=ae=0;ae<A;O=ae+=1)b=s[l++],_=(O-O%i)/i,E=k&&R[(k-1)*A+_*i+O%i],R[S++]=(E+b)%256;break;case 3:for(O=ee=0;ee<A;O=ee+=1)b=s[l++],_=(O-O%i)/i,F=O<i?0:R[S-i],E=k&&R[(k-1)*A+_*i+O%i],R[S++]=(b+Math.floor((F+E)/2))%256;break;case 4:for(O=de=0;de<A;O=de+=1)b=s[l++],_=(O-O%i)/i,F=O<i?0:R[S-i],k===0?E=U=0:(E=R[(k-1)*A+_*i+O%i],U=_&&R[(k-1)*A+(_-1)*i+O%i]),J=F+E-U,ce=Math.abs(J-F),D=Math.abs(J-E),Y=Math.abs(J-U),K=ce<=D&&ce<=Y?F:D<=Y?E:U,R[S++]=(b+K)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!N){var $=((v+k*x)*d.width+p)*i,V=k*A;for(O=0;O<pe;O+=1){for(var T=0;T<i;T+=1)o[$++]=R[V++];$+=(m-1)*i}}k++}}return s=Wj(s),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},n.prototype.decodePalette=function(){var s,i,o,l,d,h,p,v,m;for(o=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+o.length),l=0,s=0,i=p=0,v=o.length;p<v;i=p+=3)d[l++]=o[i],d[l++]=o[i+1],d[l++]=o[i+2],d[l++]=(m=h[s++])!=null?m:255;return d},n.prototype.copyToImageData=function(s,i){var o,l,d,h,p,v,m,x,b,S,_;if(l=this.colors,b=null,o=this.hasAlphaChannel,this.palette.length&&(b=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,o=!0),x=(d=s.data||s).length,p=b||i,h=v=0,l===1)for(;h<x;)m=b?4*i[h/4]:v,S=p[m++],d[h++]=S,d[h++]=S,d[h++]=S,d[h++]=o?p[m++]:255,v=m;else for(;h<x;)m=b?4*i[h/4]:v,d[h++]=p[m++],d[h++]=p[m++],d[h++]=p[m++],d[h++]=o?p[m++]:255,v=m},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(ft)==="[object Window]"){try{e=ft.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(s){var i;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(i=new Image).src=e.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var i,o,l,d,h,p,v,m;if(this.animation){for(m=[],o=h=0,p=(v=this.animation.frames).length;h<p;o=++h)i=v[o],l=s.createImageData(i.width,i.height),d=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(l,d),i.imageData=l,m.push(i.image=t(l));return m}},n.prototype.renderFrame=function(s,i){var o,l,d;return o=(l=this.animation.frames)[i],d=l[i-1],i===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var i,o,l,d,h,p,v=this;return o=0,p=this.animation,d=p.numFrames,l=p.frames,h=p.numPlays,(i=function(){var m,x;if(m=o++%d,x=l[m],v.renderFrame(s,m),d>1&&o/d<h)return v.animation._timeout=setTimeout(i,x.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var i,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,i=s.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function f6(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],s=a>>7,i=1<<(7&a)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=i,e+=3*i);var d=!0,h=[],p=0,v=null,m=0,x=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];p=t[e++]|t[e++]<<8,v=t[e++],!(1&b)&&(v=null),m=b>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,X=t[e++],J=X>>6&1,ce=1<<(7&X)+1,K=o,D=l,Y=!1;X>>7&&(Y=!0,K=e,D=ce,e+=3*ce);var R=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}h.push({x:S,y:_,width:O,height:F,has_local_palette:Y,palette_offset:K,palette_size:D,data_offset:R,data_length:e-R,transparent_index:v,interlaced:!!J,delay:p,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(A){if(A<0||A>=h.length)throw new Error("Frame index out of range.");return h[A]},this.decodeAndBlitFrameBGRA=function(A,E){var U=this.frameInfo(A),Z=U.width*U.height,re=new Uint8Array(Z);jm(t,U.data_offset,re,Z);var ae=U.palette_offset,ee=U.transparent_index;ee===null&&(ee=256);var de=U.width,pe=r-de,Le=de,N=4*(U.y*r+U.x),$=4*((U.y+U.height)*r+U.x),V=N,T=4*pe;U.interlaced===!0&&(T+=4*r*7);for(var q=8,z=0,Q=re.length;z<Q;++z){var ne=re[z];if(Le===0&&(Le=de,(V+=T)>=$&&(T=4*pe+4*r*(q-1),V=N+(de+pe)*(q<<1),q>>=1)),ne===ee)V+=4;else{var Ae=t[ae+3*ne],Ne=t[ae+3*ne+1],fe=t[ae+3*ne+2];E[V++]=fe,E[V++]=Ne,E[V++]=Ae,E[V++]=255}--Le}},this.decodeAndBlitFrameRGBA=function(A,E){var U=this.frameInfo(A),Z=U.width*U.height,re=new Uint8Array(Z);jm(t,U.data_offset,re,Z);var ae=U.palette_offset,ee=U.transparent_index;ee===null&&(ee=256);var de=U.width,pe=r-de,Le=de,N=4*(U.y*r+U.x),$=4*((U.y+U.height)*r+U.x),V=N,T=4*pe;U.interlaced===!0&&(T+=4*r*7);for(var q=8,z=0,Q=re.length;z<Q;++z){var ne=re[z];if(Le===0&&(Le=de,(V+=T)>=$&&(T=4*pe+4*r*(q-1),V=N+(de+pe)*(q<<1),q>>=1)),ne===ee)V+=4;else{var Ae=t[ae+3*ne],Ne=t[ae+3*ne+1],fe=t[ae+3*ne+2];E[V++]=Ae,E[V++]=Ne,E[V++]=fe,E[V++]=255}--Le}}}function jm(t,e,r,n){for(var a=t[e++],s=1<<a,i=s+1,o=i+1,l=a+1,d=(1<<l)-1,h=0,p=0,v=0,m=t[e++],x=new Int32Array(4096),b=null;;){for(;h<16&&m!==0;)p|=t[e++]<<h,h+=8,m===1?m=t[e++]:--m;if(h<l)break;var S=p&d;if(p>>=l,h-=l,S!==s){if(S===i)break;for(var _=S<o?S:b,O=0,F=_;F>s;)F=x[F]>>8,++O;var X=F;if(v+O+(_!==S?1:0)>n)return void Ht.log("Warning, gif stream longer than expected.");r[v++]=X;var J=v+=O;for(_!==S&&(r[v++]=X),F=_;O--;)F=x[F],r[--J]=255&F,F>>=8;b!==null&&o<4096&&(x[o++]=b<<8|X,o>=d+1&&l<12&&(++l,d=d<<1|1)),b=S}else o=i+1,d=(1<<(l=a+1))-1,b=null}return v!==n&&Ht.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function qd(t){var e,r,n,a,s,i=Math.floor,o=new Array(64),l=new Array(64),d=new Array(64),h=new Array(64),p=new Array(65535),v=new Array(65535),m=new Array(64),x=new Array(64),b=[],S=0,_=7,O=new Array(64),F=new Array(64),X=new Array(64),J=new Array(256),ce=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(N,$){for(var V=0,T=0,q=new Array,z=1;z<=16;z++){for(var Q=1;Q<=N[z];Q++)q[$[T]]=[],q[$[T]][0]=V,q[$[T]][1]=z,T++,V++;V*=2}return q}function ae(N){for(var $=N[0],V=N[1]-1;V>=0;)$&1<<V&&(S|=1<<_),V--,--_<0&&(S==255?(ee(255),ee(0)):ee(S),_=7,S=0)}function ee(N){b.push(N)}function de(N){ee(N>>8&255),ee(255&N)}function pe(N,$,V,T,q){for(var z,Q=q[0],ne=q[240],Ae=function(je,We){var Ye,He,tt,pt,we,oe,ke,Pe,qe,Ge,Ie=0;for(qe=0;qe<8;++qe){Ye=je[Ie],He=je[Ie+1],tt=je[Ie+2],pt=je[Ie+3],we=je[Ie+4],oe=je[Ie+5],ke=je[Ie+6];var ye=Ye+(Pe=je[Ie+7]),be=Ye-Pe,Be=He+ke,Re=He-ke,Fe=tt+oe,ut=tt-oe,at=pt+we,Mt=pt-we,mt=ye+at,$t=ye-at,Ft=Be+Fe,Nt=Be-Fe;je[Ie]=mt+Ft,je[Ie+4]=mt-Ft;var ct=.707106781*(Nt+$t);je[Ie+2]=$t+ct,je[Ie+6]=$t-ct;var jt=.382683433*((mt=Mt+ut)-(Nt=Re+be)),fn=.5411961*mt+jt,pr=1.306562965*Nt+jt,en=.707106781*(Ft=ut+Re),Jn=be+en,dt=be-en;je[Ie+5]=dt+fn,je[Ie+3]=dt-fn,je[Ie+1]=Jn+pr,je[Ie+7]=Jn-pr,Ie+=8}for(Ie=0,qe=0;qe<8;++qe){Ye=je[Ie],He=je[Ie+8],tt=je[Ie+16],pt=je[Ie+24],we=je[Ie+32],oe=je[Ie+40],ke=je[Ie+48];var Pn=Ye+(Pe=je[Ie+56]),Kn=Ye-Pe,Wr=He+ke,wr=He-ke,mr=tt+oe,tn=tt-oe,Ys=pt+we,va=pt-we,An=Pn+Ys,Ln=Pn-Ys,On=Wr+mr,Xn=Wr-mr;je[Ie]=An+On,je[Ie+32]=An-On;var pn=.707106781*(Xn+Ln);je[Ie+16]=Ln+pn,je[Ie+48]=Ln-pn;var Zn=.382683433*((An=va+tn)-(Xn=wr+Kn)),xs=.5411961*An+Zn,Gs=1.306562965*Xn+Zn,Js=.707106781*(On=tn+wr),Ks=Kn+Js,Xs=Kn-Js;je[Ie+40]=Xs+xs,je[Ie+24]=Xs-xs,je[Ie+8]=Ks+Gs,je[Ie+56]=Ks-Gs,Ie++}for(qe=0;qe<64;++qe)Ge=je[qe]*We[qe],m[qe]=Ge>0?Ge+.5|0:Ge-.5|0;return m}(N,$),Ne=0;Ne<64;++Ne)x[K[Ne]]=Ae[Ne];var fe=x[0]-V;V=x[0],fe==0?ae(T[0]):(ae(T[v[z=32767+fe]]),ae(p[z]));for(var _e=63;_e>0&&x[_e]==0;)_e--;if(_e==0)return ae(Q),V;for(var Ee,ue=1;ue<=_e;){for(var B=ue;x[ue]==0&&ue<=_e;)++ue;var Ue=ue-B;if(Ue>=16){Ee=Ue>>4;for(var $e=1;$e<=Ee;++$e)ae(ne);Ue&=15}z=32767+x[ue],ae(q[(Ue<<4)+v[z]]),ae(p[z]),ue++}return _e!=63&&ae(Q),V}function Le(N){N=Math.min(Math.max(N,1),100),s!=N&&(function($){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],T=0;T<64;T++){var q=i((V[T]*$+50)/100);q=Math.min(Math.max(q,1),255),o[K[T]]=q}for(var z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var ne=i((z[Q]*$+50)/100);ne=Math.min(Math.max(ne,1),255),l[K[Q]]=ne}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,fe=0;fe<8;fe++)for(var _e=0;_e<8;_e++)d[Ne]=1/(o[K[Ne]]*Ae[fe]*Ae[_e]*8),h[Ne]=1/(l[K[Ne]]*Ae[fe]*Ae[_e]*8),Ne++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,$){$&&Le($),b=new Array,S=0,_=7,de(65496),de(65504),de(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),de(1),de(1),ee(0),ee(0),function(){de(65499),de(132),ee(0);for(var He=0;He<64;He++)ee(o[He]);ee(1);for(var tt=0;tt<64;tt++)ee(l[tt])}(),function(He,tt){de(65472),de(17),ee(8),de(tt),de(He),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(N.width,N.height),function(){de(65476),de(418),ee(0);for(var He=0;He<16;He++)ee(D[He+1]);for(var tt=0;tt<=11;tt++)ee(Y[tt]);ee(16);for(var pt=0;pt<16;pt++)ee(R[pt+1]);for(var we=0;we<=161;we++)ee(k[we]);ee(1);for(var oe=0;oe<16;oe++)ee(A[oe+1]);for(var ke=0;ke<=11;ke++)ee(E[ke]);ee(17);for(var Pe=0;Pe<16;Pe++)ee(U[Pe+1]);for(var qe=0;qe<=161;qe++)ee(Z[qe])}(),de(65498),de(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var V=0,T=0,q=0;S=0,_=7,this.encode.displayName="_encode_";for(var z,Q,ne,Ae,Ne,fe,_e,Ee,ue,B=N.data,Ue=N.width,$e=N.height,je=4*Ue,We=0;We<$e;){for(z=0;z<je;){for(Ne=je*We+z,_e=-1,Ee=0,ue=0;ue<64;ue++)fe=Ne+(Ee=ue>>3)*je+(_e=4*(7&ue)),We+Ee>=$e&&(fe-=je*(We+1+Ee-$e)),z+_e>=je&&(fe-=z+_e-je+4),Q=B[fe++],ne=B[fe++],Ae=B[fe++],O[ue]=(ce[Q]+ce[ne+256>>0]+ce[Ae+512>>0]>>16)-128,F[ue]=(ce[Q+768>>0]+ce[ne+1024>>0]+ce[Ae+1280>>0]>>16)-128,X[ue]=(ce[Q+1280>>0]+ce[ne+1536>>0]+ce[Ae+1792>>0]>>16)-128;V=pe(O,d,V,e,n),T=pe(F,h,T,r,a),q=pe(X,h,q,r,a),z+=32}We+=8}if(_>=0){var Ye=[];Ye[1]=_+1,Ye[0]=(1<<_+1)-1,ae(Ye)}return de(65497),new Uint8Array(b)},t=t||50,function(){for(var N=String.fromCharCode,$=0;$<256;$++)J[$]=N($)}(),e=re(D,Y),r=re(A,E),n=re(R,k),a=re(U,Z),function(){for(var N=1,$=2,V=1;V<=15;V++){for(var T=N;T<$;T++)v[32767+T]=V,p[32767+T]=[],p[32767+T][1]=V,p[32767+T][0]=T;for(var q=-($-1);q<=-N;q++)v[32767+q]=V,p[32767+q]=[],p[32767+q][1]=V,p[32767+q][0]=$-1+q;N<<=1,$<<=1}}(),function(){for(var N=0;N<256;N++)ce[N]=19595*N,ce[N+256>>0]=38470*N,ce[N+512>>0]=7471*N+32768,ce[N+768>>0]=-11059*N,ce[N+1024>>0]=-21709*N,ce[N+1280>>0]=32768*N+8421375,ce[N+1536>>0]=-27439*N,ce[N+1792>>0]=-5329*N}(),Le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fn(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Pm(t){function e(D){if(!D)throw Error("assert :P")}function r(D,Y,R){for(var k=0;4>k;k++)if(D[Y+k]!=R.charCodeAt(k))return!0;return!1}function n(D,Y,R,k,A){for(var E=0;E<A;E++)D[Y+E]=R[k+E]}function a(D,Y,R,k){for(var A=0;A<k;A++)D[Y+A]=R}function s(D){return new Int32Array(D)}function i(D,Y){for(var R=[],k=0;k<D;k++)R.push(new Y);return R}function o(D,Y){var R=[];return function k(A,E,U){for(var Z=U[E],re=0;re<Z&&(A.push(U.length>E+1?[]:new Y),!(U.length<E+1));re++)k(A[re],E+1,U)}(R,0,D),R}var l=function(){var D=this;function Y(c,f){for(var y=1<<f-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function R(c,f,y,w,j){e(!(w%y));do c[f+(w-=y)]=j;while(0<w)}function k(c,f,y,w,j){if(e(2328>=j),512>=j)var L=s(512);else if((L=s(j))==null)return 0;return function(C,I,M,W,se,ge){var ve,he,Ce=I,xe=1<<M,ie=s(16),le=s(16);for(e(se!=0),e(W!=null),e(C!=null),e(0<M),he=0;he<se;++he){if(15<W[he])return 0;++ie[W[he]]}if(ie[0]==se)return 0;for(le[1]=0,ve=1;15>ve;++ve){if(ie[ve]>1<<ve)return 0;le[ve+1]=le[ve]+ie[ve]}for(he=0;he<se;++he)ve=W[he],0<W[he]&&(ge[le[ve]++]=he);if(le[15]==1)return(W=new A).g=0,W.value=ge[0],R(C,Ce,1,xe,W),xe;var Oe,De=-1,Te=xe-1,Ze=0,Je=1,it=1,Ke=1<<M;for(he=0,ve=1,se=2;ve<=M;++ve,se<<=1){if(Je+=it<<=1,0>(it-=ie[ve]))return 0;for(;0<ie[ve];--ie[ve])(W=new A).g=ve,W.value=ge[he++],R(C,Ce+Ze,se,Ke,W),Ze=Y(Ze,ve)}for(ve=M+1,se=2;15>=ve;++ve,se<<=1){if(Je+=it<<=1,0>(it-=ie[ve]))return 0;for(;0<ie[ve];--ie[ve]){if(W=new A,(Ze&Te)!=De){for(Ce+=Ke,Oe=1<<(De=ve)-M;15>De&&!(0>=(Oe-=ie[De]));)++De,Oe<<=1;xe+=Ke=1<<(Oe=De-M),C[I+(De=Ze&Te)].g=Oe+M,C[I+De].value=Ce-I-De}W.g=ve-M,W.value=ge[he++],R(C,Ce+(Ze>>M),se,Ke,W),Ze=Y(Ze,ve)}}return Je!=2*le[15]-1?0:xe}(c,f,y,w,j,L)}function A(){this.value=this.g=0}function E(){this.value=this.g=0}function U(){this.G=i(5,A),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Lr,E)}function Z(c,f,y,w){e(c!=null),e(f!=null),e(2147483648>w),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=f,c.pa=y,c.Jd=f,c.Yc=y+w,c.Zc=4<=w?y+w-4+1:y,z(c)}function re(c,f){for(var y=0;0<f--;)y|=ne(c,128)<<f;return y}function ae(c,f){var y=re(c,f);return Q(c)?-y:y}function ee(c,f,y,w){var j,L=0;for(e(c!=null),e(f!=null),e(4294967288>w),c.Sb=w,c.Ra=0,c.u=0,c.h=0,4<w&&(w=4),j=0;j<w;++j)L+=f[y+j]<<8*j;c.Ra=L,c.bb=w,c.oa=f,c.pa=y}function de(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<hi-8>>>0,++c.bb,c.u-=8;V(c)&&(c.h=1,c.u=0)}function pe(c,f){if(e(0<=f),!c.h&&f<=di){var y=$(c)&ui[f];return c.u+=f,de(c),y}return c.h=1,c.u=0}function Le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(c){return c.Ra>>>(c.u&hi-1)>>>0}function V(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>hi}function T(c,f){c.u=f,c.h=V(c)}function q(c){c.u>=wo&&(e(c.u>=wo),de(c))}function z(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function Q(c){return re(c,1)}function ne(c,f){var y=c.Ca;0>c.b&&z(c);var w=c.b,j=y*f>>>8,L=(c.I>>>w>j)+0;for(L?(y-=j,c.I-=j+1<<w>>>0):y=j+1,w=y,j=0;256<=w;)j+=8,w>>=8;return w=7^j+Hr[w],c.b-=w,c.Ca=(y<<w)-1,L}function Ae(c,f,y){c[f+0]=y>>24&255,c[f+1]=y>>16&255,c[f+2]=y>>8&255,c[f+3]=y>>0&255}function Ne(c,f){return c[f+0]<<0|c[f+1]<<8}function fe(c,f){return Ne(c,f)|c[f+2]<<16}function _e(c,f){return Ne(c,f)|Ne(c,f+2)<<16}function Ee(c,f){var y=1<<f;return e(c!=null),e(0<f),c.X=s(y),c.X==null?0:(c.Mb=32-f,c.Xa=f,1)}function ue(c,f){e(c!=null),e(f!=null),e(c.Xa==f.Xa),n(f.X,0,c.X,0,1<<f.Xa)}function B(){this.X=[],this.Xa=this.Mb=0}function Ue(c,f,y,w){e(y!=null),e(w!=null);var j=y[0],L=w[0];return j==0&&(j=(c*L+f/2)/f),L==0&&(L=(f*j+c/2)/c),0>=j||0>=L?0:(y[0]=j,w[0]=L,1)}function $e(c,f){return c+(1<<f)-1>>>f}function je(c,f){return((4278255360&c)+(4278255360&f)>>>0&4278255360)+((16711935&c)+(16711935&f)>>>0&16711935)>>>0}function We(c,f){D[f]=function(y,w,j,L,C,I,M){var W;for(W=0;W<C;++W){var se=D[c](I[M+W-1],j,L+W);I[M+W]=je(y[w+W],se)}}}function Ye(){this.ud=this.hd=this.jd=0}function He(c,f){return((4278124286&(c^f))>>>1)+(c&f)>>>0}function tt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function pt(c,f){return tt(c+(c-f+.5>>1))}function we(c,f,y){return Math.abs(f-y)-Math.abs(c-y)}function oe(c,f,y,w,j,L,C){for(w=L[C-1],y=0;y<j;++y)L[C+y]=w=je(c[f+y],w)}function ke(c,f,y,w,j){var L;for(L=0;L<y;++L){var C=c[f+L],I=C>>8&255,M=16711935&(M=(M=16711935&C)+((I<<16)+I));w[j+L]=(4278255360&C)+M>>>0}}function Pe(c,f){f.jd=c>>0&255,f.hd=c>>8&255,f.ud=c>>16&255}function qe(c,f,y,w,j,L){var C;for(C=0;C<w;++C){var I=f[y+C],M=I>>>8,W=I,se=255&(se=(se=I>>>16)+((c.jd<<24>>24)*(M<<24>>24)>>>5));W=255&(W=(W=W+((c.hd<<24>>24)*(M<<24>>24)>>>5))+((c.ud<<24>>24)*(se<<24>>24)>>>5)),j[L+C]=(4278255360&I)+(se<<16)+W}}function Ge(c,f,y,w,j){D[f]=function(L,C,I,M,W,se,ge,ve,he){for(M=ge;M<ve;++M)for(ge=0;ge<he;++ge)W[se++]=j(I[w(L[C++])])},D[c]=function(L,C,I,M,W,se,ge){var ve=8>>L.b,he=L.Ea,Ce=L.K[0],xe=L.w;if(8>ve)for(L=(1<<L.b)-1,xe=(1<<ve)-1;C<I;++C){var ie,le=0;for(ie=0;ie<he;++ie)ie&L||(le=w(M[W++])),se[ge++]=j(Ce[le&xe]),le>>=ve}else D["VP8LMapColor"+y](M,W,Ce,xe,se,ge,C,I,he)}}function Ie(c,f,y,w,j){for(y=f+y;f<y;){var L=c[f++];w[j++]=L>>16&255,w[j++]=L>>8&255,w[j++]=L>>0&255}}function ye(c,f,y,w,j){for(y=f+y;f<y;){var L=c[f++];w[j++]=L>>16&255,w[j++]=L>>8&255,w[j++]=L>>0&255,w[j++]=L>>24&255}}function be(c,f,y,w,j){for(y=f+y;f<y;){var L=(C=c[f++])>>16&240|C>>12&15,C=C>>0&240|C>>28&15;w[j++]=L,w[j++]=C}}function Be(c,f,y,w,j){for(y=f+y;f<y;){var L=(C=c[f++])>>16&248|C>>13&7,C=C>>5&224|C>>3&31;w[j++]=L,w[j++]=C}}function Re(c,f,y,w,j){for(y=f+y;f<y;){var L=c[f++];w[j++]=L>>0&255,w[j++]=L>>8&255,w[j++]=L>>16&255}}function Fe(c,f,y,w,j,L){if(L==0)for(y=f+y;f<y;)Ae(w,((L=c[f++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),j+=32;else n(w,j,c,f,y)}function ut(c,f){D[f][0]=D[c+"0"],D[f][1]=D[c+"1"],D[f][2]=D[c+"2"],D[f][3]=D[c+"3"],D[f][4]=D[c+"4"],D[f][5]=D[c+"5"],D[f][6]=D[c+"6"],D[f][7]=D[c+"7"],D[f][8]=D[c+"8"],D[f][9]=D[c+"9"],D[f][10]=D[c+"10"],D[f][11]=D[c+"11"],D[f][12]=D[c+"12"],D[f][13]=D[c+"13"],D[f][14]=D[c+"0"],D[f][15]=D[c+"0"]}function at(c){return c==sd||c==id||c==Ul||c==od}function Mt(){this.eb=[],this.size=this.A=this.fb=0}function mt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mt,this.f.kb=new mt,this.sd=null}function Ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function jt(c,f){var y=c.T,w=f.ba.f.RGBA,j=w.eb,L=w.fb+c.ka*w.A,C=wn[f.ba.S],I=c.y,M=c.O,W=c.f,se=c.N,ge=c.ea,ve=c.W,he=f.cc,Ce=f.dc,xe=f.Mc,ie=f.Nc,le=c.ka,Oe=c.ka+c.T,De=c.U,Te=De+1>>1;for(le==0?C(I,M,null,null,W,se,ge,ve,W,se,ge,ve,j,L,null,null,De):(C(f.ec,f.fc,I,M,he,Ce,xe,ie,W,se,ge,ve,j,L-w.A,j,L,De),++y);le+2<Oe;le+=2)he=W,Ce=se,xe=ge,ie=ve,se+=c.Rc,ve+=c.Rc,L+=2*w.A,C(I,(M+=2*c.fa)-c.fa,I,M,he,Ce,xe,ie,W,se,ge,ve,j,L-w.A,j,L,De);return M+=c.fa,c.j+Oe<c.o?(n(f.ec,f.fc,I,M,De),n(f.cc,f.dc,W,se,Te),n(f.Mc,f.Nc,ge,ve,Te),y--):1&Oe||C(I,M,null,null,W,se,ge,ve,W,se,ge,ve,j,L+w.A,null,null,De),y}function fn(c,f,y){var w=c.F,j=[c.J];if(w!=null){var L=c.U,C=f.ba.S,I=C==Bl||C==Ul;f=f.ba.f.RGBA;var M=[0],W=c.ka;M[0]=c.T,c.Kb&&(W==0?--M[0]:(--W,j[0]-=c.width),c.j+c.ka+c.T==c.o&&(M[0]=c.o-c.j-W));var se=f.eb;W=f.fb+W*f.A,c=Jt(w,j[0],c.width,L,M,se,W+(I?0:3),f.A),e(y==M),c&&at(C)&&yn(se,W,I,L,M,f.A)}return 0}function pr(c){var f=c.ma,y=f.ba.S,w=11>y,j=y==Fl||y==$l||y==Bl||y==ad||y==12||at(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!yo(f.Oa,c,j?11:12))return 0;if(j&&at(y)&&Me(),c.da)alert("todo:use_scaling");else{if(w){if(f.Ib=ct,c.Kb){if(y=c.U+1>>1,f.memory=s(c.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+c.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=jt,Me()}}else alert("todo:EmitYUV");j&&(f.Jb=fn,w&&me())}if(w&&!Df){for(c=0;256>c;++c)bv[c]=89858*(c-128)+ql>>zl,_v[c]=-22014*(c-128)+ql,xv[c]=-45773*(c-128),wv[c]=113618*(c-128)+ql>>zl;for(c=Po;c<ud;++c)f=76283*(c-16)+ql>>zl,Sv[c-Po]=rn(f,255),kv[c-Po]=rn(f+8>>4,15);Df=1}return 1}function en(c){var f=c.ma,y=c.U,w=c.T;return e(!(1&c.ka)),0>=y||0>=w?0:(y=f.Ib(c,f),f.Jb!=null&&f.Jb(c,f,y),f.Dc+=y,1)}function Jn(c){c.ma.memory=null}function dt(c,f,y,w){return pe(c,8)!=47?0:(f[0]=pe(c,14)+1,y[0]=pe(c,14)+1,w[0]=pe(c,1),pe(c,3)!=0?0:!c.h)}function Pn(c,f){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+pe(f,y)+1}function Kn(c,f){return 120<f?f-120:1<=(y=((y=sv[f-1])>>4)*c+(8-(15&y)))?y:1;var y}function Wr(c,f,y){var w=$(y),j=c[f+=255&w].g-8;return 0<j&&(T(y,y.u+8),w=$(y),f+=c[f].value,f+=w&(1<<j)-1),T(y,y.u+c[f].g),c[f].value}function wr(c,f,y){return y.g+=c.g,y.value+=c.value<<f>>>0,e(8>=y.g),c.g}function mr(c,f,y){var w=c.xc;return e((f=w==0?0:c.vc[c.md*(y>>w)+(f>>w)])<c.Wb),c.Ya[f]}function tn(c,f,y,w){var j=c.ab,L=c.c*f,C=c.C;f=C+f;var I=y,M=w;for(w=c.Ta,y=c.Ua;0<j--;){var W=c.gc[j],se=C,ge=f,ve=I,he=M,Ce=(M=w,I=y,W.Ea);switch(e(se<ge),e(ge<=W.nc),W.hc){case 2:Tl(ve,he,(ge-se)*Ce,M,I);break;case 0:var xe=se,ie=ge,le=M,Oe=I,De=(Ke=W).Ea;xe==0&&(rd(ve,he,null,null,1,le,Oe),oe(ve,he+1,0,0,De-1,le,Oe+1),he+=De,Oe+=De,++xe);for(var Te=1<<Ke.b,Ze=Te-1,Je=$e(De,Ke.b),it=Ke.K,Ke=Ke.w+(xe>>Ke.b)*Je;xe<ie;){var Rt=it,Bt=Ke,Et=1;for(xo(ve,he,le,Oe-De,1,le,Oe);Et<De;){var Pt=(Et&~Ze)+Te;Pt>De&&(Pt=De),(0,Ja[Rt[Bt++]>>8&15])(ve,he+ +Et,le,Oe+Et-De,Pt-Et,le,Oe+Et),Et=Pt}he+=De,Oe+=De,++xe&Ze||(Ke+=Je)}ge!=W.nc&&n(M,I-Ce,M,I+(ge-se-1)*Ce,Ce);break;case 1:for(Ce=ve,ie=he,De=(ve=W.Ea)-(Oe=ve&~(le=(he=1<<W.b)-1)),xe=$e(ve,W.b),Te=W.K,W=W.w+(se>>W.b)*xe;se<ge;){for(Ze=Te,Je=W,it=new Ye,Ke=ie+Oe,Rt=ie+ve;ie<Ke;)Pe(Ze[Je++],it),js(it,Ce,ie,he,M,I),ie+=he,I+=he;ie<Rt&&(Pe(Ze[Je++],it),js(it,Ce,ie,De,M,I),ie+=De,I+=De),++se&le||(W+=xe)}break;case 3:if(ve==M&&he==I&&0<W.b){for(ie=M,ve=Ce=I+(ge-se)*Ce-(Oe=(ge-se)*$e(W.Ea,W.b)),he=M,le=I,xe=[],Oe=(De=Oe)-1;0<=Oe;--Oe)xe[Oe]=he[le+Oe];for(Oe=De-1;0<=Oe;--Oe)ie[ve+Oe]=xe[Oe];mn(W,se,ge,M,Ce,M,I)}else mn(W,se,ge,ve,he,M,I)}I=w,M=y}M!=y&&n(w,y,I,M,L)}function Ys(c,f){var y=c.V,w=c.Ba+c.c*c.C,j=f-c.C;if(e(f<=c.l.o),e(16>=j),0<j){var L=c.l,C=c.Ta,I=c.Ua,M=L.width;if(tn(c,j,y,w),j=I=[I],e((y=c.C)<(w=f)),e(L.v<L.va),w>L.o&&(w=L.o),y<L.j){var W=L.j-y;y=L.j,j[0]+=W*M}if(y>=w?y=0:(j[0]+=4*L.v,L.ka=y-L.j,L.U=L.va-L.v,L.T=w-y,y=1),y){if(I=I[0],11>(y=c.ca).S){var se=y.f.RGBA,ge=(w=y.S,j=L.U,L=L.T,W=se.eb,se.A),ve=L;for(se=se.fb+c.Ma*se.A;0<ve--;){var he=C,Ce=I,xe=j,ie=W,le=se;switch(w){case Rl:Yr(he,Ce,xe,ie,le);break;case Fl:Br(he,Ce,xe,ie,le);break;case sd:Br(he,Ce,xe,ie,le),yn(ie,le,0,xe,1,0);break;case Nf:xa(he,Ce,xe,ie,le);break;case $l:Fe(he,Ce,xe,ie,le,1);break;case id:Fe(he,Ce,xe,ie,le,1),yn(ie,le,0,xe,1,0);break;case Bl:Fe(he,Ce,xe,ie,le,0);break;case Ul:Fe(he,Ce,xe,ie,le,0),yn(ie,le,1,xe,1,0);break;case ad:Ka(he,Ce,xe,ie,le);break;case od:Ka(he,Ce,xe,ie,le),Gt(ie,le,xe,1,0);break;case jf:wa(he,Ce,xe,ie,le);break;default:e(0)}I+=M,se+=ge}c.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=f,e(c.C<=c.i)}function va(c){var f;if(0<c.ua)return 0;for(f=0;f<c.Wb;++f){var y=c.Ya[f].G,w=c.Ya[f].H;if(0<y[1][w[1]+0].g||0<y[2][w[2]+0].g||0<y[3][w[3]+0].g)return 0}return 1}function An(c,f,y,w,j,L){if(c.Z!=0){var C=c.qd,I=c.rd;for(e(es[c.Z]!=null);f<y;++f)es[c.Z](C,I,w,j,w,j,L),C=w,I=j,j+=L;c.qd=C,c.rd=I}}function Ln(c,f){var y=c.l.ma,w=y.Z==0||y.Z==1?c.l.j:c.C;if(w=c.C<w?w:c.C,e(f<=c.l.o),f>w){var j=c.l.width,L=y.ca,C=y.tb+j*w,I=c.V,M=c.Ba+c.c*w,W=c.gc;e(c.ab==1),e(W[0].hc==3),Cl(W[0],w,f,I,M,L,C),An(y,w,f,L,C,j)}c.C=c.Ma=f}function On(c,f,y,w,j,L,C){var I=c.$/w,M=c.$%w,W=c.m,se=c.s,ge=y+c.$,ve=ge;j=y+w*j;var he=y+w*L,Ce=280+se.ua,xe=c.Pb?I:16777216,ie=0<se.ua?se.Wa:null,le=se.wc,Oe=ge<he?mr(se,M,I):null;e(c.C<L),e(he<=j);var De=!1;e:for(;;){for(;De||ge<he;){var Te=0;if(I>=xe){var Ze=ge-y;e((xe=c).Pb),xe.wd=xe.m,xe.xd=Ze,0<xe.s.ua&&ue(xe.s.Wa,xe.s.vb),xe=I+ov}if(M&le||(Oe=mr(se,M,I)),e(Oe!=null),Oe.Qb&&(f[ge]=Oe.qb,De=!0),!De)if(q(W),Oe.jc){Te=W,Ze=f;var Je=ge,it=Oe.pd[$(Te)&Lr-1];e(Oe.jc),256>it.g?(T(Te,Te.u+it.g),Ze[Je]=it.value,Te=0):(T(Te,Te.u+it.g-256),e(256<=it.value),Te=it.value),Te==0&&(De=!0)}else Te=Wr(Oe.G[0],Oe.H[0],W);if(W.h)break;if(De||256>Te){if(!De)if(Oe.nd)f[ge]=(Oe.qb|Te<<8)>>>0;else{if(q(W),De=Wr(Oe.G[1],Oe.H[1],W),q(W),Ze=Wr(Oe.G[2],Oe.H[2],W),Je=Wr(Oe.G[3],Oe.H[3],W),W.h)break;f[ge]=(Je<<24|De<<16|Te<<8|Ze)>>>0}if(De=!1,++ge,++M>=w&&(M=0,++I,C!=null&&I<=L&&!(I%16)&&C(c,I),ie!=null))for(;ve<ge;)Te=f[ve++],ie.X[(506832829*Te&4294967295)>>>ie.Mb]=Te}else if(280>Te){if(Te=Pn(Te-256,W),Ze=Wr(Oe.G[4],Oe.H[4],W),q(W),Ze=Kn(w,Ze=Pn(Ze,W)),W.h)break;if(ge-y<Ze||j-ge<Te)break e;for(Je=0;Je<Te;++Je)f[ge+Je]=f[ge+Je-Ze];for(ge+=Te,M+=Te;M>=w;)M-=w,++I,C!=null&&I<=L&&!(I%16)&&C(c,I);if(e(ge<=j),M&le&&(Oe=mr(se,M,I)),ie!=null)for(;ve<ge;)Te=f[ve++],ie.X[(506832829*Te&4294967295)>>>ie.Mb]=Te}else{if(!(Te<Ce))break e;for(De=Te-280,e(ie!=null);ve<ge;)Te=f[ve++],ie.X[(506832829*Te&4294967295)>>>ie.Mb]=Te;Te=ge,e(!(De>>>(Ze=ie).Xa)),f[Te]=Ze.X[De],De=!0}De||e(W.h==V(W))}if(c.Pb&&W.h&&ge<j)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&ue(c.s.vb,c.s.Wa);else{if(W.h)break e;C!=null&&C(c,I>L?L:I),c.a=0,c.$=ge-y}return 1}return c.a=3,0}function Xn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var f=c.Wa;f!=null&&(f.X=null),c.vb=null,e(c!=null)}function pn(){var c=new td;return c==null?null:(c.a=0,c.xb=Lf,ut("Predictor","VP8LPredictors"),ut("Predictor","VP8LPredictors_C"),ut("PredictorAdd","VP8LPredictorsAdd"),ut("PredictorAdd","VP8LPredictorsAdd_C"),Tl=ke,js=qe,Yr=Ie,Br=ye,Ka=be,wa=Be,xa=Re,D.VP8LMapColor32b=fi,D.VP8LMapColor8b=El,c)}function Zn(c,f,y,w,j){var L=1,C=[c],I=[f],M=w.m,W=w.s,se=null,ge=0;e:for(;;){if(y)for(;L&&pe(M,1);){var ve=C,he=I,Ce=w,xe=1,ie=Ce.m,le=Ce.gc[Ce.ab],Oe=pe(ie,2);if(Ce.Oc&1<<Oe)L=0;else{switch(Ce.Oc|=1<<Oe,le.hc=Oe,le.Ea=ve[0],le.nc=he[0],le.K=[null],++Ce.ab,e(4>=Ce.ab),Oe){case 0:case 1:le.b=pe(ie,3)+2,xe=Zn($e(le.Ea,le.b),$e(le.nc,le.b),0,Ce,le.K),le.K=le.K[0];break;case 3:var De,Te=pe(ie,8)+1,Ze=16<Te?0:4<Te?1:2<Te?2:3;if(ve[0]=$e(le.Ea,Ze),le.b=Ze,De=xe=Zn(Te,1,0,Ce,le.K)){var Je,it=Te,Ke=le,Rt=1<<(8>>Ke.b),Bt=s(Rt);if(Bt==null)De=0;else{var Et=Ke.K[0],Pt=Ke.w;for(Bt[0]=Ke.K[0][0],Je=1;Je<1*it;++Je)Bt[Je]=je(Et[Pt+Je],Bt[Je-1]);for(;Je<4*Rt;++Je)Bt[Je]=0;Ke.K[0]=null,Ke.K[0]=Bt,De=1}}xe=De;break;case 2:break;default:e(0)}L=xe}}if(C=C[0],I=I[0],L&&pe(M,1)&&!(L=1<=(ge=pe(M,4))&&11>=ge)){w.a=3;break e}var Vt;if(Vt=L)t:{var qt,_t,vr,Gr=w,yr=C,Jr=I,Ut=ge,an=y,sn=Gr.m,Nr=Gr.s,Or=[null],zr=1,xn=0,ra=iv[Ut];r:for(;;){if(an&&pe(sn,1)){var jr=pe(sn,3)+2,Na=$e(yr,jr),Ts=$e(Jr,jr),yi=Na*Ts;if(!Zn(Na,Ts,0,Gr,Or))break r;for(Or=Or[0],Nr.xc=jr,qt=0;qt<yi;++qt){var ts=Or[qt]>>8&65535;Or[qt]=ts,ts>=zr&&(zr=ts+1)}}if(sn.h)break r;for(_t=0;5>_t;++_t){var ar=Pf[_t];!_t&&0<Ut&&(ar+=1<<Ut),xn<ar&&(xn=ar)}var dd=i(zr*ra,A),Ff=zr,$f=i(Ff,U);if($f==null)var Vl=null;else e(65536>=Ff),Vl=$f;var Ao=s(xn);if(Vl==null||Ao==null||dd==null){Gr.a=1;break r}var Hl=dd;for(qt=vr=0;qt<zr;++qt){var Dn=Vl[qt],bi=Dn.G,wi=Dn.H,Bf=0,Yl=1,Uf=0;for(_t=0;5>_t;++_t){ar=Pf[_t],bi[_t]=Hl,wi[_t]=vr,!_t&&0<Ut&&(ar+=1<<Ut);a:{var Gl,hd=ar,Jl=Gr,Lo=Ao,Pv=Hl,Av=vr,fd=0,rs=Jl.m,Lv=pe(rs,1);if(a(Lo,0,0,hd),Lv){var Ov=pe(rs,1)+1,Tv=pe(rs,1),zf=pe(rs,Tv==0?1:8);Lo[zf]=1,Ov==2&&(Lo[zf=pe(rs,8)]=1);var Kl=1}else{var qf=s(19),Wf=pe(rs,4)+4;if(19<Wf){Jl.a=3;var Xl=0;break a}for(Gl=0;Gl<Wf;++Gl)qf[av[Gl]]=pe(rs,3);var pd=void 0,Oo=void 0,Vf=Jl,Cv=qf,Zl=hd,Hf=Lo,md=0,ns=Vf.m,Yf=8,Gf=i(128,A);n:for(;k(Gf,0,7,Cv,19);){if(pe(ns,1)){var Ev=2+2*pe(ns,3);if((pd=2+pe(ns,Ev))>Zl)break n}else pd=Zl;for(Oo=0;Oo<Zl&&pd--;){q(ns);var Jf=Gf[0+(127&$(ns))];T(ns,ns.u+Jf.g);var xi=Jf.value;if(16>xi)Hf[Oo++]=xi,xi!=0&&(Yf=xi);else{var Iv=xi==16,Kf=xi-16,Dv=rv[Kf],Xf=pe(ns,tv[Kf])+Dv;if(Oo+Xf>Zl)break n;for(var Mv=Iv?Yf:0;0<Xf--;)Hf[Oo++]=Mv}}md=1;break n}md||(Vf.a=3),Kl=md}(Kl=Kl&&!rs.h)&&(fd=k(Pv,Av,8,Lo,hd)),Kl&&fd!=0?Xl=fd:(Jl.a=3,Xl=0)}if(Xl==0)break r;if(Yl&&nv[_t]==1&&(Yl=Hl[vr].g==0),Bf+=Hl[vr].g,vr+=Xl,3>=_t){var To,gd=Ao[0];for(To=1;To<ar;++To)Ao[To]>gd&&(gd=Ao[To]);Uf+=gd}}if(Dn.nd=Yl,Dn.Qb=0,Yl&&(Dn.qb=(bi[3][wi[3]+0].value<<24|bi[1][wi[1]+0].value<<16|bi[2][wi[2]+0].value)>>>0,Bf==0&&256>bi[0][wi[0]+0].value&&(Dn.Qb=1,Dn.qb+=bi[0][wi[0]+0].value<<8)),Dn.jc=!Dn.Qb&&6>Uf,Dn.jc){var Ql,ja=Dn;for(Ql=0;Ql<Lr;++Ql){var as=Ql,ss=ja.pd[as],ec=ja.G[0][ja.H[0]+as];256<=ec.value?(ss.g=ec.g+256,ss.value=ec.value):(ss.g=0,ss.value=0,as>>=wr(ec,8,ss),as>>=wr(ja.G[1][ja.H[1]+as],16,ss),as>>=wr(ja.G[2][ja.H[2]+as],0,ss),wr(ja.G[3][ja.H[3]+as],24,ss))}}}Nr.vc=Or,Nr.Wb=zr,Nr.Ya=Vl,Nr.yc=dd,Vt=1;break t}Vt=0}if(!(L=Vt)){w.a=3;break e}if(0<ge){if(W.ua=1<<ge,!Ee(W.Wa,ge)){w.a=1,L=0;break e}}else W.ua=0;var vd=w,Zf=C,Rv=I,yd=vd.s,bd=yd.xc;if(vd.c=Zf,vd.i=Rv,yd.md=$e(Zf,bd),yd.wc=bd==0?-1:(1<<bd)-1,y){w.xb=pv;break e}if((se=s(C*I))==null){w.a=1,L=0;break e}L=(L=On(w,se,0,C,I,I,null))&&!M.h;break e}return L?(j!=null?j[0]=se:(e(se==null),e(y)),w.$=0,y||Xn(W)):Xn(W),L}function xs(c,f){var y=c.c*c.i,w=y+f+16*f;return e(c.c<=f),c.V=s(w),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+f,1)}function Gs(c,f){var y=c.C,w=f-y,j=c.V,L=c.Ba+c.c*y;for(e(f<=c.l.o);0<w;){var C=16<w?16:w,I=c.l.ma,M=c.l.width,W=M*C,se=I.ca,ge=I.tb+M*y,ve=c.Ta,he=c.Ua;tn(c,C,j,L),cr(ve,he,se,ge,W),An(I,y,y+C,se,ge,M),w-=C,j+=C*c.c,y+=C}e(y==f),c.C=c.Ma=f}function Js(){this.ub=this.yd=this.td=this.Rb=0}function Ks(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function dl(){this.Yb=function(){var c=[];return function f(y,w,j){for(var L=j[w],C=0;C<L&&(y.push(j.length>w+1?[]:0),!(j.length<w+1));C++)f(y[C],w+1,j)}(c,0,[3,11]),c}()}function Cu(){this.jb=s(3),this.Wc=o([4,8],dl),this.Xc=o([4,17],dl)}function Eu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Zs(){this.ld=this.La=this.dd=this.tc=0}function hl(){this.Na=this.la=0}function Iu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function to(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Du(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zs),this.Y=0,this.ya=Array(new to),this.aa=0,this.l=new Qs}function fl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Mu(){this.cb=this.a=0,this.sc="",this.m=new Le,this.Od=new Js,this.Kc=new Ks,this.ed=new Eu,this.Qa=new Xs,this.Ic=this.$c=this.Aa=0,this.D=new Du,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,Le),this.ia=0,this.pb=i(4,Iu),this.Pa=new Cu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fl),this.Hd=0,this.rb=Array(new hl),this.sb=0,this.wa=Array(new Zs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new to),this.L=this.aa=0,this.gd=o([4,2],Zs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ru(){var c=new Mu;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,jo||(jo=gl)),c}function or(c,f,y){return c.a==0&&(c.a=f,c.sc=y,c.cb=0),0}function pl(c,f,y){return 3<=y&&c[f+0]==157&&c[f+1]==1&&c[f+2]==42}function ml(c,f){if(c==null)return 0;if(c.a=0,c.sc="OK",f==null)return or(c,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,w=f.w,j=f.ha;if(4>j)return or(c,7,"Truncated header.");var L=y[w+0]|y[w+1]<<8|y[w+2]<<16,C=c.Od;if(C.Rb=!(1&L),C.td=L>>1&7,C.yd=L>>4&1,C.ub=L>>5,3<C.td)return or(c,3,"Incorrect keyframe parameters.");if(!C.yd)return or(c,4,"Frame not displayable.");w+=3,j-=3;var I=c.Kc;if(C.Rb){if(7>j)return or(c,7,"cannot parse picture header");if(!pl(y,w,j))return or(c,3,"Bad code word");I.c=16383&(y[w+4]<<8|y[w+3]),I.Td=y[w+4]>>6,I.i=16383&(y[w+6]<<8|y[w+5]),I.Ud=y[w+6]>>6,w+=7,j-=7,c.za=I.c+15>>4,c.Ub=I.i+15>>4,f.width=I.c,f.height=I.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,a((L=c.Pa).jb,0,255,L.jb.length),e((L=c.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,a(L.Zb,0,0,L.Zb.length),a(L.Lb,0,0,L.Lb)}if(C.ub>j)return or(c,7,"bad partition length");Z(L=c.m,y,w,C.ub),w+=C.ub,j-=C.ub,C.Rb&&(I.Ld=Q(L),I.Kd=Q(L)),I=c.Qa;var M,W=c.Pa;if(e(L!=null),e(I!=null),I.Cb=Q(L),I.Cb){if(I.Bb=Q(L),Q(L)){for(I.Fb=Q(L),M=0;4>M;++M)I.Zb[M]=Q(L)?ae(L,7):0;for(M=0;4>M;++M)I.Lb[M]=Q(L)?ae(L,6):0}if(I.Bb)for(M=0;3>M;++M)W.jb[M]=Q(L)?re(L,8):255}else I.Bb=0;if(L.Ka)return or(c,3,"cannot parse segment header");if((I=c.ed).zd=Q(L),I.Tb=re(L,6),I.wb=re(L,3),I.Pc=Q(L),I.Pc&&Q(L)){for(W=0;4>W;++W)Q(L)&&(I.vd[W]=ae(L,6));for(W=0;4>W;++W)Q(L)&&(I.od[W]=ae(L,6))}if(c.L=I.Tb==0?0:I.zd?1:2,L.Ka)return or(c,3,"cannot parse filter header");var se=j;if(j=M=w,w=M+se,I=se,c.Xb=(1<<re(c.m,2))-1,se<3*(W=c.Xb))y=7;else{for(M+=3*W,I-=3*W,se=0;se<W;++se){var ge=y[j+0]|y[j+1]<<8|y[j+2]<<16;ge>I&&(ge=I),Z(c.Jc[+se],y,M,ge),M+=ge,I-=ge,j+=3}Z(c.Jc[+W],y,M,I),y=M<w?0:5}if(y!=0)return or(c,y,"cannot parse partitions");for(y=re(M=c.m,7),j=Q(M)?ae(M,4):0,w=Q(M)?ae(M,4):0,I=Q(M)?ae(M,4):0,W=Q(M)?ae(M,4):0,M=Q(M)?ae(M,4):0,se=c.Qa,ge=0;4>ge;++ge){if(se.Cb){var ve=se.Zb[ge];se.Fb||(ve+=y)}else{if(0<ge){c.pb[ge]=c.pb[0];continue}ve=y}var he=c.pb[ge];he.Sc[0]=ld[rn(ve+j,127)],he.Sc[1]=cd[rn(ve+0,127)],he.Eb[0]=2*ld[rn(ve+w,127)],he.Eb[1]=101581*cd[rn(ve+I,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=ld[rn(ve+W,117)],he.Qc[1]=cd[rn(ve+M,127)],he.lc=ve+M}if(!C.Rb)return or(c,4,"Not a key frame.");for(Q(L),C=c.Pa,y=0;4>y;++y){for(j=0;8>j;++j)for(w=0;3>w;++w)for(I=0;11>I;++I)W=ne(L,hv[y][j][w][I])?re(L,8):uv[y][j][w][I],C.Wc[y][j].Yb[w][I]=W;for(j=0;17>j;++j)C.Xc[y][j]=C.Wc[y][fv[j]]}return c.kc=Q(L),c.kc&&(c.Bd=re(L,8)),c.cb=1}function gl(c,f,y,w,j,L,C){var I=f[j].Yb[y];for(y=0;16>j;++j){if(!ne(c,I[y+0]))return j;for(;!ne(c,I[y+1]);)if(I=f[++j].Yb[0],y=0,j==16)return 16;var M=f[j+1].Yb;if(ne(c,I[y+2])){var W=c,se=0;if(ne(W,(ve=I)[(ge=y)+3]))if(ne(W,ve[ge+6])){for(I=0,ge=2*(se=ne(W,ve[ge+8]))+(ve=ne(W,ve[ge+9+se])),se=0,ve=lv[ge];ve[I];++I)se+=se+ne(W,ve[I]);se+=3+(8<<ge)}else ne(W,ve[ge+7])?(se=7+2*ne(W,165),se+=ne(W,145)):se=5+ne(W,159);else se=ne(W,ve[ge+4])?3+ne(W,ve[ge+5]):2;I=M[2]}else se=1,I=M[1];M=C+cv[j],0>(W=c).b&&z(W);var ge,ve=W.b,he=(ge=W.Ca>>1)-(W.I>>ve)>>31;--W.b,W.Ca+=he,W.Ca|=1,W.I-=(ge+1&he)<<ve,L[M]=((se^he)-he)*w[(0<j)+0]}return 16}function ro(c){var f=c.rb[c.sb-1];f.la=0,f.Na=0,a(c.zc,0,0,c.zc.length),c.ja=0}function Fu(c,f){if(c==null)return 0;if(f==null)return or(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!ml(c,f))return 0;if(e(c.cb),f.ac==null||f.ac(f)){f.ob&&(c.L=0);var y=Wl[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=f.v-y>>4,c.zb=f.j-y>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=f.o+15+y>>4,c.Hb=f.va+15+y>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var w=c.ed;for(y=0;4>y;++y){var j;if(c.Qa.Cb){var L=c.Qa.Lb[y];c.Qa.Fb||(L+=w.Tb)}else L=w.Tb;for(j=0;1>=j;++j){var C=c.gd[y][j],I=L;if(w.Pc&&(I+=w.vd[0],j&&(I+=w.od[0])),0<(I=0>I?0:63<I?63:I)){var M=I;0<w.wb&&(M=4<w.wb?M>>2:M>>1)>9-w.wb&&(M=9-w.wb),1>M&&(M=1),C.dd=M,C.tc=2*I+M,C.ld=40<=I?2:15<=I?1:0}else C.tc=0;C.La=j}}}y=0}else or(c,6,"Frame setup failed"),y=c.a;if(y=y==0){if(y){c.$c=0,0<c.Aa||(c.Ic=jv);e:{y=c.Ic,w=4*(M=c.za);var W=32*M,se=M+1,ge=0<c.L?M*(0<c.Aa?2:1):0,ve=(c.Aa==2?2:1)*M;if((C=w+832+(j=3*(16*y+Wl[c.L])/2*W)+(L=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=C)y=0;else{if(C>c.Vb){if(c.Vb=0,c.Ec=s(C),c.Fc=0,c.Ec==null){y=or(c,1,"no memory during frame initialization.");break e}c.Vb=C}C=c.Ec,I=c.Fc,c.Ac=C,c.Bc=I,I+=w,c.Gd=i(W,fl),c.Hd=0,c.rb=i(se+1,hl),c.sb=1,c.wa=ge?i(ge,Zs):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=M),e(!0),c.oc=C,c.pc=I,I+=832,c.ya=i(ve,to),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=M),c.R=16*M,c.B=8*M,M=(W=Wl[c.L])*c.R,W=W/2*c.B,c.sa=C,c.ta=I+M,c.qa=c.sa,c.ra=c.ta+16*y*c.R+W,c.Ha=c.qa,c.Ia=c.ra+8*y*c.B+W,c.$c=0,I+=j,c.mb=L?C:null,c.nb=L?I:null,e(I+L<=c.Fc+c.Vb),ro(c),a(c.Ac,c.Bc,0,w),y=1}}if(y){if(f.ka=0,f.y=c.sa,f.O=c.ta,f.f=c.qa,f.N=c.ra,f.ea=c.Ha,f.Vd=c.Ia,f.fa=c.R,f.Rc=c.B,f.F=null,f.J=0,!Dl){for(y=-255;255>=y;++y)xr[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Sa[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)No[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)vi[255+y]=0>y?0:255<y?255:y;Dl=1}pi=Uu,_a=$u,_o=yl,Ur=Bu,gn=bl,lr=vl,mi=lo,Il=ks,So=ed,Ps=co,As=Qu,Xa=si,Ls=uo,gi=Al,Os=Pl,Za=ea,ko=ba,vn=Zu,In[0]=Qn,In[1]=zu,In[2]=Hu,In[3]=Yu,In[4]=_l,In[5]=ni,In[6]=Sl,In[7]=so,In[8]=Ju,In[9]=Gu,Qa[0]=wl,Qa[1]=Wu,Qa[2]=ya,Qa[3]=ti,Qa[4]=Tr,Qa[5]=Vu,Qa[6]=xl,ka[0]=Ha,ka[1]=qu,ka[2]=Ku,ka[3]=io,ka[4]=Ss,ka[5]=Xu,ka[6]=oo,y=1}else y=0}y&&(y=function(he,Ce){for(he.M=0;he.M<he.Va;++he.M){var xe,ie=he.Jc[he.M&he.Xb],le=he.m,Oe=he;for(xe=0;xe<Oe.za;++xe){var De=le,Te=Oe,Ze=Te.Ac,Je=Te.Bc+4*xe,it=Te.zc,Ke=Te.ya[Te.aa+xe];if(Te.Qa.Bb?Ke.$b=ne(De,Te.Pa.jb[0])?2+ne(De,Te.Pa.jb[2]):ne(De,Te.Pa.jb[1]):Ke.$b=0,Te.kc&&(Ke.Ad=ne(De,Te.Bd)),Ke.Za=!ne(De,145)+0,Ke.Za){var Rt=Ke.Ob,Bt=0;for(Te=0;4>Te;++Te){var Et,Pt=it[0+Te];for(Et=0;4>Et;++Et){Pt=dv[Ze[Je+Et]][Pt];for(var Vt=Af[ne(De,Pt[0])];0<Vt;)Vt=Af[2*Vt+ne(De,Pt[Vt])];Pt=-Vt,Ze[Je+Et]=Pt}n(Rt,Bt,Ze,Je,4),Bt+=4,it[0+Te]=Pt}}else Pt=ne(De,156)?ne(De,128)?1:3:ne(De,163)?2:0,Ke.Ob[0]=Pt,a(Ze,Je,Pt,4),a(it,0,Pt,4);Ke.Dd=ne(De,142)?ne(De,114)?ne(De,183)?1:3:2:0}if(Oe.m.Ka)return or(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(Oe=ie,De=(le=he).rb[le.sb-1],Ze=le.rb[le.sb+le.ja],xe=le.ya[le.aa+le.ja],Je=le.kc?xe.Ad:0)De.la=Ze.la=0,xe.Za||(De.Na=Ze.Na=0),xe.Hc=0,xe.Gc=0,xe.ia=0;else{var qt,_t;if(De=Ze,Ze=Oe,Je=le.Pa.Xc,it=le.ya[le.aa+le.ja],Ke=le.pb[it.$b],Te=it.ad,Rt=0,Bt=le.rb[le.sb-1],Pt=Et=0,a(Te,Rt,0,384),it.Za)var vr=0,Gr=Je[3];else{Vt=s(16);var yr=De.Na+Bt.Na;if(yr=jo(Ze,Je[1],yr,Ke.Eb,0,Vt,0),De.Na=Bt.Na=(0<yr)+0,1<yr)pi(Vt,0,Te,Rt);else{var Jr=Vt[0]+3>>3;for(Vt=0;256>Vt;Vt+=16)Te[Rt+Vt]=Jr}vr=1,Gr=Je[0]}var Ut=15&De.la,an=15&Bt.la;for(Vt=0;4>Vt;++Vt){var sn=1&an;for(Jr=_t=0;4>Jr;++Jr)Ut=Ut>>1|(sn=(yr=jo(Ze,Gr,yr=sn+(1&Ut),Ke.Sc,vr,Te,Rt))>vr)<<7,_t=_t<<2|(3<yr?3:1<yr?2:Te[Rt+0]!=0),Rt+=16;Ut>>=4,an=an>>1|sn<<7,Et=(Et<<8|_t)>>>0}for(Gr=Ut,vr=an>>4,qt=0;4>qt;qt+=2){for(_t=0,Ut=De.la>>4+qt,an=Bt.la>>4+qt,Vt=0;2>Vt;++Vt){for(sn=1&an,Jr=0;2>Jr;++Jr)yr=sn+(1&Ut),Ut=Ut>>1|(sn=0<(yr=jo(Ze,Je[2],yr,Ke.Qc,0,Te,Rt)))<<3,_t=_t<<2|(3<yr?3:1<yr?2:Te[Rt+0]!=0),Rt+=16;Ut>>=2,an=an>>1|sn<<5}Pt|=_t<<4*qt,Gr|=Ut<<4<<qt,vr|=(240&an)<<qt}De.la=Gr,Bt.la=vr,it.Hc=Et,it.Gc=Pt,it.ia=43690&Pt?0:Ke.ia,Je=!(Et|Pt)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[xe.$b][xe.Za],le.wa[le.Y+le.ja].La|=!Je),Oe.Ka)return or(he,7,"Premature end-of-file encountered.")}if(ro(he),le=Ce,Oe=1,xe=(ie=he).D,De=0<ie.L&&ie.M>=ie.zb&&ie.M<=ie.Va,ie.Aa==0)e:{if(xe.M=ie.M,xe.uc=De,vo(ie,xe),Oe=1,xe=(_t=ie.D).Nb,De=(Pt=Wl[ie.L])*ie.R,Ze=Pt/2*ie.B,Vt=16*xe*ie.R,Jr=8*xe*ie.B,Je=ie.sa,it=ie.ta-De+Vt,Ke=ie.qa,Te=ie.ra-Ze+Jr,Rt=ie.Ha,Bt=ie.Ia-Ze+Jr,an=(Ut=_t.M)==0,Et=Ut>=ie.Va-1,ie.Aa==2&&vo(ie,_t),_t.uc)for(sn=(yr=ie).D.M,e(yr.D.uc),_t=yr.yb;_t<yr.Hb;++_t){vr=_t,Gr=sn;var Nr=(Or=(ar=yr).D).Nb;qt=ar.R;var Or=Or.wa[Or.Y+vr],zr=ar.sa,xn=ar.ta+16*Nr*qt+16*vr,ra=Or.dd,jr=Or.tc;if(jr!=0)if(e(3<=jr),ar.L==1)0<vr&&Za(zr,xn,qt,jr+4),Or.La&&vn(zr,xn,qt,jr),0<Gr&&Os(zr,xn,qt,jr+4),Or.La&&ko(zr,xn,qt,jr);else{var Na=ar.B,Ts=ar.qa,yi=ar.ra+8*Nr*Na+8*vr,ts=ar.Ha,ar=ar.Ia+8*Nr*Na+8*vr;Nr=Or.ld,0<vr&&(Il(zr,xn,qt,jr+4,ra,Nr),Ps(Ts,yi,ts,ar,Na,jr+4,ra,Nr)),Or.La&&(Xa(zr,xn,qt,jr,ra,Nr),gi(Ts,yi,ts,ar,Na,jr,ra,Nr)),0<Gr&&(mi(zr,xn,qt,jr+4,ra,Nr),So(Ts,yi,ts,ar,Na,jr+4,ra,Nr)),Or.La&&(As(zr,xn,qt,jr,ra,Nr),Ls(Ts,yi,ts,ar,Na,jr,ra,Nr))}}if(ie.ia&&alert("todo:DitherRow"),le.put!=null){if(_t=16*Ut,Ut=16*(Ut+1),an?(le.y=ie.sa,le.O=ie.ta+Vt,le.f=ie.qa,le.N=ie.ra+Jr,le.ea=ie.Ha,le.W=ie.Ia+Jr):(_t-=Pt,le.y=Je,le.O=it,le.f=Ke,le.N=Te,le.ea=Rt,le.W=Bt),Et||(Ut-=Pt),Ut>le.o&&(Ut=le.o),le.F=null,le.J=null,ie.Fa!=null&&0<ie.Fa.length&&_t<Ut&&(le.J=mo(ie,le,_t,Ut-_t),le.F=ie.mb,le.F==null&&le.F.length==0)){Oe=or(ie,3,"Could not decode alpha data.");break e}_t<le.j&&(Pt=le.j-_t,_t=le.j,e(!(1&Pt)),le.O+=ie.R*Pt,le.N+=ie.B*(Pt>>1),le.W+=ie.B*(Pt>>1),le.F!=null&&(le.J+=le.width*Pt)),_t<Ut&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=_t-le.j,le.U=le.va-le.v,le.T=Ut-_t,Oe=le.put(le))}xe+1!=ie.Ic||Et||(n(ie.sa,ie.ta-De,Je,it+16*ie.R,De),n(ie.qa,ie.ra-Ze,Ke,Te+8*ie.B,Ze),n(ie.Ha,ie.Ia-Ze,Rt,Bt+8*ie.B,Ze))}if(!Oe)return or(he,6,"Output aborted.")}return 1}(c,f)),f.bc!=null&&f.bc(f),y&=1}return y?(c.cb=0,y):0}function Tn(c,f,y,w,j){j=c[f+y+32*w]+(j>>3),c[f+y+32*w]=-256&j?0>j?0:255:j}function ei(c,f,y,w,j,L){Tn(c,f,0,y,w+j),Tn(c,f,1,y,w+L),Tn(c,f,2,y,w-L),Tn(c,f,3,y,w-j)}function Vr(c){return(20091*c>>16)+c}function no(c,f,y,w){var j,L=0,C=s(16);for(j=0;4>j;++j){var I=c[f+0]+c[f+8],M=c[f+0]-c[f+8],W=(35468*c[f+4]>>16)-Vr(c[f+12]),se=Vr(c[f+4])+(35468*c[f+12]>>16);C[L+0]=I+se,C[L+1]=M+W,C[L+2]=M-W,C[L+3]=I-se,L+=4,f++}for(j=L=0;4>j;++j)I=(c=C[L+0]+4)+C[L+8],M=c-C[L+8],W=(35468*C[L+4]>>16)-Vr(C[L+12]),Tn(y,w,0,0,I+(se=Vr(C[L+4])+(35468*C[L+12]>>16))),Tn(y,w,1,0,M+W),Tn(y,w,2,0,M-W),Tn(y,w,3,0,I-se),L++,w+=32}function vl(c,f,y,w){var j=c[f+0]+4,L=35468*c[f+4]>>16,C=Vr(c[f+4]),I=35468*c[f+1]>>16;ei(y,w,0,j+C,c=Vr(c[f+1]),I),ei(y,w,1,j+L,c,I),ei(y,w,2,j-L,c,I),ei(y,w,3,j-C,c,I)}function $u(c,f,y,w,j){no(c,f,y,w),j&&no(c,f+16,y,w+4)}function yl(c,f,y,w){_a(c,f+0,y,w,1),_a(c,f+32,y,w+128,1)}function Bu(c,f,y,w){var j;for(c=c[f+0]+4,j=0;4>j;++j)for(f=0;4>f;++f)Tn(y,w,f,j,c)}function bl(c,f,y,w){c[f+0]&&Ur(c,f+0,y,w),c[f+16]&&Ur(c,f+16,y,w+4),c[f+32]&&Ur(c,f+32,y,w+128),c[f+48]&&Ur(c,f+48,y,w+128+4)}function Uu(c,f,y,w){var j,L=s(16);for(j=0;4>j;++j){var C=c[f+0+j]+c[f+12+j],I=c[f+4+j]+c[f+8+j],M=c[f+4+j]-c[f+8+j],W=c[f+0+j]-c[f+12+j];L[0+j]=C+I,L[8+j]=C-I,L[4+j]=W+M,L[12+j]=W-M}for(j=0;4>j;++j)C=(c=L[0+4*j]+3)+L[3+4*j],I=L[1+4*j]+L[2+4*j],M=L[1+4*j]-L[2+4*j],W=c-L[3+4*j],y[w+0]=C+I>>3,y[w+16]=W+M>>3,y[w+32]=C-I>>3,y[w+48]=W-M>>3,w+=64}function ao(c,f,y){var w,j=f-32,L=nn,C=255-c[j-1];for(w=0;w<y;++w){var I,M=L,W=C+c[f-1];for(I=0;I<y;++I)c[f+I]=M[W+c[j+I]];f+=32}}function zu(c,f){ao(c,f,4)}function qu(c,f){ao(c,f,8)}function Wu(c,f){ao(c,f,16)}function ya(c,f){var y;for(y=0;16>y;++y)n(c,f+32*y,c,f-32,16)}function ti(c,f){var y;for(y=16;0<y;--y)a(c,f,c[f-1],16),f+=32}function ri(c,f,y){var w;for(w=0;16>w;++w)a(f,y+32*w,c,16)}function wl(c,f){var y,w=16;for(y=0;16>y;++y)w+=c[f-1+32*y]+c[f+y-32];ri(w>>5,c,f)}function Tr(c,f){var y,w=8;for(y=0;16>y;++y)w+=c[f-1+32*y];ri(w>>4,c,f)}function Vu(c,f){var y,w=8;for(y=0;16>y;++y)w+=c[f+y-32];ri(w>>4,c,f)}function xl(c,f){ri(128,c,f)}function yt(c,f,y){return c+2*f+y+2>>2}function Hu(c,f){var y,w=f-32;for(w=new Uint8Array([yt(c[w-1],c[w+0],c[w+1]),yt(c[w+0],c[w+1],c[w+2]),yt(c[w+1],c[w+2],c[w+3]),yt(c[w+2],c[w+3],c[w+4])]),y=0;4>y;++y)n(c,f+32*y,w,0,w.length)}function Yu(c,f){var y=c[f-1],w=c[f-1+32],j=c[f-1+64],L=c[f-1+96];Ae(c,f+0,16843009*yt(c[f-1-32],y,w)),Ae(c,f+32,16843009*yt(y,w,j)),Ae(c,f+64,16843009*yt(w,j,L)),Ae(c,f+96,16843009*yt(j,L,L))}function Qn(c,f){var y,w=4;for(y=0;4>y;++y)w+=c[f+y-32]+c[f-1+32*y];for(w>>=3,y=0;4>y;++y)a(c,f+32*y,w,4)}function _l(c,f){var y=c[f-1+0],w=c[f-1+32],j=c[f-1+64],L=c[f-1-32],C=c[f+0-32],I=c[f+1-32],M=c[f+2-32],W=c[f+3-32];c[f+0+96]=yt(w,j,c[f-1+96]),c[f+1+96]=c[f+0+64]=yt(y,w,j),c[f+2+96]=c[f+1+64]=c[f+0+32]=yt(L,y,w),c[f+3+96]=c[f+2+64]=c[f+1+32]=c[f+0+0]=yt(C,L,y),c[f+3+64]=c[f+2+32]=c[f+1+0]=yt(I,C,L),c[f+3+32]=c[f+2+0]=yt(M,I,C),c[f+3+0]=yt(W,M,I)}function Sl(c,f){var y=c[f+1-32],w=c[f+2-32],j=c[f+3-32],L=c[f+4-32],C=c[f+5-32],I=c[f+6-32],M=c[f+7-32];c[f+0+0]=yt(c[f+0-32],y,w),c[f+1+0]=c[f+0+32]=yt(y,w,j),c[f+2+0]=c[f+1+32]=c[f+0+64]=yt(w,j,L),c[f+3+0]=c[f+2+32]=c[f+1+64]=c[f+0+96]=yt(j,L,C),c[f+3+32]=c[f+2+64]=c[f+1+96]=yt(L,C,I),c[f+3+64]=c[f+2+96]=yt(C,I,M),c[f+3+96]=yt(I,M,M)}function ni(c,f){var y=c[f-1+0],w=c[f-1+32],j=c[f-1+64],L=c[f-1-32],C=c[f+0-32],I=c[f+1-32],M=c[f+2-32],W=c[f+3-32];c[f+0+0]=c[f+1+64]=L+C+1>>1,c[f+1+0]=c[f+2+64]=C+I+1>>1,c[f+2+0]=c[f+3+64]=I+M+1>>1,c[f+3+0]=M+W+1>>1,c[f+0+96]=yt(j,w,y),c[f+0+64]=yt(w,y,L),c[f+0+32]=c[f+1+96]=yt(y,L,C),c[f+1+32]=c[f+2+96]=yt(L,C,I),c[f+2+32]=c[f+3+96]=yt(C,I,M),c[f+3+32]=yt(I,M,W)}function so(c,f){var y=c[f+0-32],w=c[f+1-32],j=c[f+2-32],L=c[f+3-32],C=c[f+4-32],I=c[f+5-32],M=c[f+6-32],W=c[f+7-32];c[f+0+0]=y+w+1>>1,c[f+1+0]=c[f+0+64]=w+j+1>>1,c[f+2+0]=c[f+1+64]=j+L+1>>1,c[f+3+0]=c[f+2+64]=L+C+1>>1,c[f+0+32]=yt(y,w,j),c[f+1+32]=c[f+0+96]=yt(w,j,L),c[f+2+32]=c[f+1+96]=yt(j,L,C),c[f+3+32]=c[f+2+96]=yt(L,C,I),c[f+3+64]=yt(C,I,M),c[f+3+96]=yt(I,M,W)}function Gu(c,f){var y=c[f-1+0],w=c[f-1+32],j=c[f-1+64],L=c[f-1+96];c[f+0+0]=y+w+1>>1,c[f+2+0]=c[f+0+32]=w+j+1>>1,c[f+2+32]=c[f+0+64]=j+L+1>>1,c[f+1+0]=yt(y,w,j),c[f+3+0]=c[f+1+32]=yt(w,j,L),c[f+3+32]=c[f+1+64]=yt(j,L,L),c[f+3+64]=c[f+2+64]=c[f+0+96]=c[f+1+96]=c[f+2+96]=c[f+3+96]=L}function Ju(c,f){var y=c[f-1+0],w=c[f-1+32],j=c[f-1+64],L=c[f-1+96],C=c[f-1-32],I=c[f+0-32],M=c[f+1-32],W=c[f+2-32];c[f+0+0]=c[f+2+32]=y+C+1>>1,c[f+0+32]=c[f+2+64]=w+y+1>>1,c[f+0+64]=c[f+2+96]=j+w+1>>1,c[f+0+96]=L+j+1>>1,c[f+3+0]=yt(I,M,W),c[f+2+0]=yt(C,I,M),c[f+1+0]=c[f+3+32]=yt(y,C,I),c[f+1+32]=c[f+3+64]=yt(w,y,C),c[f+1+64]=c[f+3+96]=yt(j,w,y),c[f+1+96]=yt(L,j,w)}function Ku(c,f){var y;for(y=0;8>y;++y)n(c,f+32*y,c,f-32,8)}function io(c,f){var y;for(y=0;8>y;++y)a(c,f,c[f-1],8),f+=32}function _s(c,f,y){var w;for(w=0;8>w;++w)a(f,y+32*w,c,8)}function Ha(c,f){var y,w=8;for(y=0;8>y;++y)w+=c[f+y-32]+c[f-1+32*y];_s(w>>4,c,f)}function Xu(c,f){var y,w=4;for(y=0;8>y;++y)w+=c[f+y-32];_s(w>>3,c,f)}function Ss(c,f){var y,w=4;for(y=0;8>y;++y)w+=c[f-1+32*y];_s(w>>3,c,f)}function oo(c,f){_s(128,c,f)}function ai(c,f,y){var w=c[f-y],j=c[f+0],L=3*(j-w)+nd[1020+c[f-2*y]-c[f+y]],C=Ml[112+(L+4>>3)];c[f-y]=nn[255+w+Ml[112+(L+3>>3)]],c[f+0]=nn[255+j-C]}function kl(c,f,y,w){var j=c[f+0],L=c[f+y];return bn[255+c[f-2*y]-c[f-y]]>w||bn[255+L-j]>w}function Nl(c,f,y,w){return 4*bn[255+c[f-y]-c[f+0]]+bn[255+c[f-2*y]-c[f+y]]<=w}function jl(c,f,y,w,j){var L=c[f-3*y],C=c[f-2*y],I=c[f-y],M=c[f+0],W=c[f+y],se=c[f+2*y],ge=c[f+3*y];return 4*bn[255+I-M]+bn[255+C-W]>w?0:bn[255+c[f-4*y]-L]<=j&&bn[255+L-C]<=j&&bn[255+C-I]<=j&&bn[255+ge-se]<=j&&bn[255+se-W]<=j&&bn[255+W-M]<=j}function Pl(c,f,y,w){var j=2*w+1;for(w=0;16>w;++w)Nl(c,f+w,y,j)&&ai(c,f+w,y)}function ea(c,f,y,w){var j=2*w+1;for(w=0;16>w;++w)Nl(c,f+w*y,1,j)&&ai(c,f+w*y,1)}function ba(c,f,y,w){var j;for(j=3;0<j;--j)Pl(c,f+=4*y,y,w)}function Zu(c,f,y,w){var j;for(j=3;0<j;--j)ea(c,f+=4,y,w)}function Ya(c,f,y,w,j,L,C,I){for(L=2*L+1;0<j--;){if(jl(c,f,y,L,C))if(kl(c,f,y,I))ai(c,f,y);else{var M=c,W=f,se=y,ge=M[W-2*se],ve=M[W-se],he=M[W+0],Ce=M[W+se],xe=M[W+2*se],ie=27*(Oe=nd[1020+3*(he-ve)+nd[1020+ge-Ce]])+63>>7,le=18*Oe+63>>7,Oe=9*Oe+63>>7;M[W-3*se]=nn[255+M[W-3*se]+Oe],M[W-2*se]=nn[255+ge+le],M[W-se]=nn[255+ve+ie],M[W+0]=nn[255+he-ie],M[W+se]=nn[255+Ce-le],M[W+2*se]=nn[255+xe-Oe]}f+=w}}function Cn(c,f,y,w,j,L,C,I){for(L=2*L+1;0<j--;){if(jl(c,f,y,L,C))if(kl(c,f,y,I))ai(c,f,y);else{var M=c,W=f,se=y,ge=M[W-se],ve=M[W+0],he=M[W+se],Ce=Ml[112+((xe=3*(ve-ge))+4>>3)],xe=Ml[112+(xe+3>>3)],ie=Ce+1>>1;M[W-2*se]=nn[255+M[W-2*se]+ie],M[W-se]=nn[255+ge+xe],M[W+0]=nn[255+ve-Ce],M[W+se]=nn[255+he-ie]}f+=w}}function lo(c,f,y,w,j,L){Ya(c,f,y,1,16,w,j,L)}function ks(c,f,y,w,j,L){Ya(c,f,1,y,16,w,j,L)}function Qu(c,f,y,w,j,L){var C;for(C=3;0<C;--C)Cn(c,f+=4*y,y,1,16,w,j,L)}function si(c,f,y,w,j,L){var C;for(C=3;0<C;--C)Cn(c,f+=4,1,y,16,w,j,L)}function ed(c,f,y,w,j,L,C,I){Ya(c,f,j,1,8,L,C,I),Ya(y,w,j,1,8,L,C,I)}function co(c,f,y,w,j,L,C,I){Ya(c,f,1,j,8,L,C,I),Ya(y,w,1,j,8,L,C,I)}function uo(c,f,y,w,j,L,C,I){Cn(c,f+4*j,j,1,8,L,C,I),Cn(y,w+4*j,j,1,8,L,C,I)}function Al(c,f,y,w,j,L,C,I){Cn(c,f+4,1,j,8,L,C,I),Cn(y,w+4,1,j,8,L,C,I)}function ii(){this.ba=new $t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ho(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ll(){this.ua=0,this.Wa=new B,this.vb=new B,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new A}function td(){this.xb=this.a=0,this.l=new Qs,this.ca=new $t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ll,this.ab=0,this.gc=i(4,fo),this.Oc=0}function oi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ns(c,f,y,w,j,L,C){for(c=c==null?0:c[f+0],f=0;f<C;++f)j[L+f]=c+y[w+f]&255,c=j[L+f]}function po(c,f,y,w,j,L,C){var I;if(c==null)Ns(null,null,y,w,j,L,C);else for(I=0;I<C;++I)j[L+I]=c[f+I]+y[w+I]&255}function Ga(c,f,y,w,j,L,C){if(c==null)Ns(null,null,y,w,j,L,C);else{var I,M=c[f+0],W=M,se=M;for(I=0;I<C;++I)W=se+(M=c[f+I])-W,se=y[w+I]+(-256&W?0>W?0:255:W)&255,W=M,j[L+I]=se}}function mo(c,f,y,w){var j=f.width,L=f.o;if(e(c!=null&&f!=null),0>y||0>=w||y+w>L)return null;if(!c.Cc){if(c.ga==null){var C;if(c.ga=new oi,(C=c.ga==null)||(C=f.width*f.o,e(c.Gb.length==0),c.Gb=s(C),c.Uc=0,c.Gb==null?C=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,C=1),C=!C),!C){C=c.ga;var I=c.Fa,M=c.P,W=c.qc,se=c.mb,ge=c.nb,ve=M+1,he=W-1,Ce=C.l;if(e(I!=null&&se!=null&&f!=null),es[0]=null,es[1]=Ns,es[2]=po,es[3]=Ga,C.ca=se,C.tb=ge,C.c=f.width,C.i=f.height,e(0<C.c&&0<C.i),1>=W)f=0;else if(C.$a=I[M+0]>>0&3,C.Z=I[M+0]>>2&3,C.Lc=I[M+0]>>4&3,M=I[M+0]>>6&3,0>C.$a||1<C.$a||4<=C.Z||1<C.Lc||M)f=0;else if(Ce.put=en,Ce.ac=pr,Ce.bc=Jn,Ce.ma=C,Ce.width=f.width,Ce.height=f.height,Ce.Da=f.Da,Ce.v=f.v,Ce.va=f.va,Ce.j=f.j,Ce.o=f.o,C.$a)e:{e(C.$a==1),f=pn();t:for(;;){if(f==null){f=0;break e}if(e(C!=null),C.mc=f,f.c=C.c,f.i=C.i,f.l=C.l,f.l.ma=C,f.l.width=C.c,f.l.height=C.i,f.a=0,ee(f.m,I,ve,he),!Zn(C.c,C.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&va(f.s)?(C.ic=1,I=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(I),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(C.ic=0,f=xs(f,C.c)),!f))break t;f=1;break e}C.mc=null,f=0}else f=he>=C.c*C.i;C=!f}if(C)return null;c.ga.Lc!=1?c.Ga=0:w=L-y}e(c.ga!=null),e(y+w<=L);e:{if(f=(I=c.ga).c,L=I.l.o,I.$a==0){if(ve=c.rc,he=c.Vc,Ce=c.Fa,M=c.P+1+y*f,W=c.mb,se=c.nb+y*f,e(M<=c.P+c.qc),I.Z!=0)for(e(es[I.Z]!=null),C=0;C<w;++C)es[I.Z](ve,he,Ce,M,W,se,f),ve=W,he=se,se+=f,M+=f;else for(C=0;C<w;++C)n(W,se,Ce,M,f),ve=W,he=se,se+=f,M+=f;c.rc=ve,c.Vc=he}else{if(e(I.mc!=null),f=y+w,e((C=I.mc)!=null),e(f<=C.i),C.C>=f)f=1;else if(I.ic||me(),I.ic){I=C.V,ve=C.Ba,he=C.c;var xe=C.i,ie=(Ce=1,M=C.$/he,W=C.$%he,se=C.m,ge=C.s,C.$),le=he*xe,Oe=he*f,De=ge.wc,Te=ie<Oe?mr(ge,W,M):null;e(ie<=le),e(f<=xe),e(va(ge));t:for(;;){for(;!se.h&&ie<Oe;){if(W&De||(Te=mr(ge,W,M)),e(Te!=null),q(se),256>(xe=Wr(Te.G[0],Te.H[0],se)))I[ve+ie]=xe,++ie,++W>=he&&(W=0,++M<=f&&!(M%16)&&Ln(C,M));else{if(!(280>xe)){Ce=0;break t}xe=Pn(xe-256,se);var Ze,Je=Wr(Te.G[4],Te.H[4],se);if(q(se),!(ie>=(Je=Kn(he,Je=Pn(Je,se)))&&le-ie>=xe)){Ce=0;break t}for(Ze=0;Ze<xe;++Ze)I[ve+ie+Ze]=I[ve+ie+Ze-Je];for(ie+=xe,W+=xe;W>=he;)W-=he,++M<=f&&!(M%16)&&Ln(C,M);ie<Oe&&W&De&&(Te=mr(ge,W,M))}e(se.h==V(se))}Ln(C,M>f?f:M);break t}!Ce||se.h&&ie<le?(Ce=0,C.a=se.h?5:3):C.$=ie,f=Ce}else f=On(C,C.V,C.Ba,C.c,C.i,f,Gs);if(!f){w=0;break e}}y+w>=L&&(c.Cc=1),w=1}if(!w)return null;if(c.Cc&&((w=c.ga)!=null&&(w.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*j}function g(c,f,y,w,j,L){for(;0<j--;){var C,I=c,M=f+(y?1:0),W=c,se=f+(y?0:3);for(C=0;C<w;++C){var ge=W[se+4*C];ge!=255&&(ge*=32897,I[M+4*C+0]=I[M+4*C+0]*ge>>23,I[M+4*C+1]=I[M+4*C+1]*ge>>23,I[M+4*C+2]=I[M+4*C+2]*ge>>23)}f+=L}}function P(c,f,y,w,j){for(;0<w--;){var L;for(L=0;L<y;++L){var C=c[f+2*L+0],I=15&(W=c[f+2*L+1]),M=4369*I,W=(240&W|W>>4)*M>>16;c[f+2*L+0]=(240&C|C>>4)*M>>16&240|(15&C|C<<4)*M>>16>>4&15,c[f+2*L+1]=240&W|I}f+=j}}function G(c,f,y,w,j,L,C,I){var M,W,se=255;for(W=0;W<j;++W){for(M=0;M<w;++M){var ge=c[f+M];L[C+4*M]=ge,se&=ge}f+=y,C+=I}return se!=255}function te(c,f,y,w,j){var L;for(L=0;L<j;++L)y[w+L]=c[f+L]>>8}function me(){yn=g,Gt=P,Jt=G,cr=te}function Se(c,f,y){D[c]=function(w,j,L,C,I,M,W,se,ge,ve,he,Ce,xe,ie,le,Oe,De){var Te,Ze=De-1>>1,Je=I[M+0]|W[se+0]<<16,it=ge[ve+0]|he[Ce+0]<<16;e(w!=null);var Ke=3*Je+it+131074>>2;for(f(w[j+0],255&Ke,Ke>>16,xe,ie),L!=null&&(Ke=3*it+Je+131074>>2,f(L[C+0],255&Ke,Ke>>16,le,Oe)),Te=1;Te<=Ze;++Te){var Rt=I[M+Te]|W[se+Te]<<16,Bt=ge[ve+Te]|he[Ce+Te]<<16,Et=Je+Rt+it+Bt+524296,Pt=Et+2*(Rt+it)>>3;Ke=Pt+Je>>1,Je=(Et=Et+2*(Je+Bt)>>3)+Rt>>1,f(w[j+2*Te-1],255&Ke,Ke>>16,xe,ie+(2*Te-1)*y),f(w[j+2*Te-0],255&Je,Je>>16,xe,ie+(2*Te-0)*y),L!=null&&(Ke=Et+it>>1,Je=Pt+Bt>>1,f(L[C+2*Te-1],255&Ke,Ke>>16,le,Oe+(2*Te-1)*y),f(L[C+2*Te+0],255&Je,Je>>16,le,Oe+(2*Te+0)*y)),Je=Rt,it=Bt}1&De||(Ke=3*Je+it+131074>>2,f(w[j+De-1],255&Ke,Ke>>16,xe,ie+(De-1)*y),L!=null&&(Ke=3*it+Je+131074>>2,f(L[C+De-1],255&Ke,Ke>>16,le,Oe+(De-1)*y)))}}function Me(){wn[Rl]=mv,wn[Fl]=Of,wn[Nf]=gv,wn[$l]=Tf,wn[Bl]=Cf,wn[ad]=Ef,wn[jf]=vv,wn[sd]=Of,wn[id]=Tf,wn[Ul]=Cf,wn[od]=Ef}function Xe(c){return c&~yv?0>c?0:255:c>>If}function rt(c,f){return Xe((19077*c>>8)+(26149*f>>8)-14234)}function xt(c,f,y){return Xe((19077*c>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function bt(c,f){return Xe((19077*c>>8)+(33050*f>>8)-17685)}function Ot(c,f,y,w,j){w[j+0]=rt(c,y),w[j+1]=xt(c,f,y),w[j+2]=bt(c,f)}function rr(c,f,y,w,j){w[j+0]=bt(c,f),w[j+1]=xt(c,f,y),w[j+2]=rt(c,y)}function nr(c,f,y,w,j){var L=xt(c,f,y);f=L<<3&224|bt(c,f)>>3,w[j+0]=248&rt(c,y)|L>>5,w[j+1]=f}function gr(c,f,y,w,j){var L=240&bt(c,f)|15;w[j+0]=240&rt(c,y)|xt(c,f,y)>>4,w[j+1]=L}function Cr(c,f,y,w,j){w[j+0]=255,Ot(c,f,y,w,j+1)}function kr(c,f,y,w,j){rr(c,f,y,w,j),w[j+3]=255}function En(c,f,y,w,j){Ot(c,f,y,w,j),w[j+3]=255}function rn(c,f){return 0>c?0:c>f?f:c}function ta(c,f,y){D[c]=function(w,j,L,C,I,M,W,se,ge){for(var ve=se+(-2&ge)*y;se!=ve;)f(w[j+0],L[C+0],I[M+0],W,se),f(w[j+1],L[C+0],I[M+0],W,se+y),j+=2,++C,++M,se+=2*y;1&ge&&f(w[j+0],L[C+0],I[M+0],W,se)}}function Ol(c,f,y){return y==0?c==0?f==0?6:5:f==0?4:0:y}function go(c,f,y,w,j){switch(c>>>30){case 3:_a(f,y,w,j,0);break;case 2:lr(f,y,w,j);break;case 1:Ur(f,y,w,j)}}function vo(c,f){var y,w,j=f.M,L=f.Nb,C=c.oc,I=c.pc+40,M=c.oc,W=c.pc+584,se=c.oc,ge=c.pc+600;for(y=0;16>y;++y)C[I+32*y-1]=129;for(y=0;8>y;++y)M[W+32*y-1]=129,se[ge+32*y-1]=129;for(0<j?C[I-1-32]=M[W-1-32]=se[ge-1-32]=129:(a(C,I-32-1,127,21),a(M,W-32-1,127,9),a(se,ge-32-1,127,9)),w=0;w<c.za;++w){var ve=f.ya[f.aa+w];if(0<w){for(y=-1;16>y;++y)n(C,I+32*y-4,C,I+32*y+12,4);for(y=-1;8>y;++y)n(M,W+32*y-4,M,W+32*y+4,4),n(se,ge+32*y-4,se,ge+32*y+4,4)}var he=c.Gd,Ce=c.Hd+w,xe=ve.ad,ie=ve.Hc;if(0<j&&(n(C,I-32,he[Ce].y,0,16),n(M,W-32,he[Ce].f,0,8),n(se,ge-32,he[Ce].ea,0,8)),ve.Za){var le=C,Oe=I-32+16;for(0<j&&(w>=c.za-1?a(le,Oe,he[Ce].y[15],4):n(le,Oe,he[Ce+1].y,0,4)),y=0;4>y;y++)le[Oe+128+y]=le[Oe+256+y]=le[Oe+384+y]=le[Oe+0+y];for(y=0;16>y;++y,ie<<=2)le=C,Oe=I+Mf[y],In[ve.Ob[y]](le,Oe),go(ie,xe,16*+y,le,Oe)}else if(le=Ol(w,j,ve.Ob[0]),Qa[le](C,I),ie!=0)for(y=0;16>y;++y,ie<<=2)go(ie,xe,16*+y,C,I+Mf[y]);for(y=ve.Gc,le=Ol(w,j,ve.Dd),ka[le](M,W),ka[le](se,ge),ie=xe,le=M,Oe=W,255&(ve=y>>0)&&(170&ve?_o(ie,256,le,Oe):gn(ie,256,le,Oe)),ve=se,ie=ge,255&(y>>=8)&&(170&y?_o(xe,320,ve,ie):gn(xe,320,ve,ie)),j<c.Ub-1&&(n(he[Ce].y,0,C,I+480,16),n(he[Ce].f,0,M,W+224,8),n(he[Ce].ea,0,se,ge+224,8)),y=8*L*c.B,he=c.sa,Ce=c.ta+16*w+16*L*c.R,xe=c.qa,ve=c.ra+8*w+y,ie=c.Ha,le=c.Ia+8*w+y,y=0;16>y;++y)n(he,Ce+y*c.R,C,I+32*y,16);for(y=0;8>y;++y)n(xe,ve+y*c.B,M,W+32*y,8),n(ie,le+y*c.B,se,ge+32*y,8)}}function li(c,f,y,w,j,L,C,I,M){var W=[0],se=[0],ge=0,ve=M!=null?M.kd:0,he=M??new ho;if(c==null||12>y)return 7;he.data=c,he.w=f,he.ha=y,f=[f],y=[y],he.gb=[he.gb];e:{var Ce=f,xe=y,ie=he.gb;if(e(c!=null),e(xe!=null),e(ie!=null),ie[0]=0,12<=xe[0]&&!r(c,Ce[0],"RIFF")){if(r(c,Ce[0]+8,"WEBP")){ie=3;break e}var le=_e(c,Ce[0]+4);if(12>le||4294967286<le){ie=3;break e}if(ve&&le>xe[0]-8){ie=7;break e}ie[0]=le,Ce[0]+=12,xe[0]-=12}ie=0}if(ie!=0)return ie;for(le=0<he.gb[0],y=y[0];;){e:{var Oe=c;xe=f,ie=y;var De=W,Te=se,Ze=Ce=[0];if((Ke=ge=[ge])[0]=0,8>ie[0])ie=7;else{if(!r(Oe,xe[0],"VP8X")){if(_e(Oe,xe[0]+4)!=10){ie=3;break e}if(18>ie[0]){ie=7;break e}var Je=_e(Oe,xe[0]+8),it=1+fe(Oe,xe[0]+12);if(2147483648<=it*(Oe=1+fe(Oe,xe[0]+15))){ie=3;break e}Ze!=null&&(Ze[0]=Je),De!=null&&(De[0]=it),Te!=null&&(Te[0]=Oe),xe[0]+=18,ie[0]-=18,Ke[0]=1}ie=0}}if(ge=ge[0],Ce=Ce[0],ie!=0)return ie;if(xe=!!(2&Ce),!le&&ge)return 3;if(L!=null&&(L[0]=!!(16&Ce)),C!=null&&(C[0]=xe),I!=null&&(I[0]=0),C=W[0],Ce=se[0],ge&&xe&&M==null){ie=0;break}if(4>y){ie=7;break}if(le&&ge||!le&&!ge&&!r(c,f[0],"ALPH")){y=[y],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Je=c,ie=f,le=y;var Ke=he.gb;De=he.na,Te=he.P,Ze=he.Sa,it=22,e(Je!=null),e(le!=null),Oe=ie[0];var Rt=le[0];for(e(De!=null),e(Ze!=null),De[0]=null,Te[0]=null,Ze[0]=0;;){if(ie[0]=Oe,le[0]=Rt,8>Rt){ie=7;break e}var Bt=_e(Je,Oe+4);if(4294967286<Bt){ie=3;break e}var Et=8+Bt+1&-2;if(it+=Et,0<Ke&&it>Ke){ie=3;break e}if(!r(Je,Oe,"VP8 ")||!r(Je,Oe,"VP8L")){ie=0;break e}if(Rt[0]<Et){ie=7;break e}r(Je,Oe,"ALPH")||(De[0]=Je,Te[0]=Oe+8,Ze[0]=Bt),Oe+=Et,Rt-=Et}}if(y=y[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],ie!=0)break}y=[y],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Ke=c,ie=f,le=y,De=he.gb[0],Te=he.Ja,Ze=he.xa,Je=ie[0],Oe=!r(Ke,Je,"VP8 "),it=!r(Ke,Je,"VP8L"),e(Ke!=null),e(le!=null),e(Te!=null),e(Ze!=null),8>le[0])ie=7;else{if(Oe||it){if(Ke=_e(Ke,Je+4),12<=De&&Ke>De-12){ie=3;break e}if(ve&&Ke>le[0]-8){ie=7;break e}Te[0]=Ke,ie[0]+=8,le[0]-=8,Ze[0]=it}else Ze[0]=5<=le[0]&&Ke[Je+0]==47&&!(Ke[Je+4]>>5),Te[0]=le[0];ie=0}if(y=y[0],he.Ja=he.Ja[0],he.xa=he.xa[0],f=f[0],ie!=0)break;if(4294967286<he.Ja)return 3;if(I==null||xe||(I[0]=he.xa?2:1),C=[C],Ce=[Ce],he.xa){if(5>y){ie=7;break}I=C,ve=Ce,xe=L,c==null||5>y?c=0:5<=y&&c[f+0]==47&&!(c[f+4]>>5)?(le=[0],Ke=[0],De=[0],ee(Te=new N,c,f,y),dt(Te,le,Ke,De)?(I!=null&&(I[0]=le[0]),ve!=null&&(ve[0]=Ke[0]),xe!=null&&(xe[0]=De[0]),c=1):c=0):c=0}else{if(10>y){ie=7;break}I=Ce,c==null||10>y||!pl(c,f+3,y-3)?c=0:(ve=c[f+0]|c[f+1]<<8|c[f+2]<<16,xe=16383&(c[f+7]<<8|c[f+6]),c=16383&(c[f+9]<<8|c[f+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=he.Ja||!xe||!c?c=0:(C&&(C[0]=xe),I&&(I[0]=c),c=1))}if(!c||(C=C[0],Ce=Ce[0],ge&&(W[0]!=C||se[0]!=Ce)))return 3;M!=null&&(M[0]=he,M.offset=f-M.w,e(4294967286>f-M.w),e(M.offset==M.ha-y));break}return ie==0||ie==7&&ge&&M==null?(L!=null&&(L[0]|=he.na!=null&&0<he.na.length),w!=null&&(w[0]=C),j!=null&&(j[0]=Ce),0):ie}function yo(c,f,y){var w=f.width,j=f.height,L=0,C=0,I=w,M=j;if(f.Da=c!=null&&0<c.Da,f.Da&&(I=c.cd,M=c.bd,L=c.v,C=c.j,11>y||(L&=-2,C&=-2),0>L||0>C||0>=I||0>=M||L+I>w||C+M>j))return 0;if(f.v=L,f.j=C,f.va=L+I,f.o=C+M,f.U=I,f.T=M,f.da=c!=null&&0<c.da,f.da){if(!Ue(I,M,y=[c.ib],L=[c.hb]))return 0;f.ib=y[0],f.hb=L[0]}return f.ob=c!=null&&c.ob,f.Kb=c==null||!c.Sd,f.da&&(f.ob=f.ib<3*w/4&&f.hb<3*j/4,f.Kb=0),1}function bo(c){if(c==null)return 2;if(11>c.S){var f=c.f.RGBA;f.fb+=(c.height-1)*f.A,f.A=-f.A}else f=c.f.kb,c=c.height,f.O+=(c-1)*f.fa,f.fa=-f.fa,f.N+=(c-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(c-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(c-1)*f.lb,f.lb=-f.lb);return 0}function ci(c,f,y,w){if(w==null||0>=c||0>=f)return 2;if(y!=null){if(y.Da){var j=y.cd,L=y.bd,C=-2&y.v,I=-2&y.j;if(0>C||0>I||0>=j||0>=L||C+j>c||I+L>f)return 2;c=j,f=L}if(y.da){if(!Ue(c,f,j=[y.ib],L=[y.hb]))return 2;c=j[0],f=L[0]}}w.width=c,w.height=f;e:{var M=w.width,W=w.height;if(c=w.S,0>=M||0>=W||!(c>=Rl&&13>c))c=2;else{if(0>=w.Rd&&w.sd==null){C=L=j=f=0;var se=(I=M*Rf[c])*W;if(11>c||(L=(W+1)/2*(f=(M+1)/2),c==12&&(C=(j=M)*W)),(W=s(se+2*L+C))==null){c=1;break e}w.sd=W,11>c?((M=w.f.RGBA).eb=W,M.fb=0,M.A=I,M.size=se):((M=w.f.kb).y=W,M.O=0,M.fa=I,M.Fd=se,M.f=W,M.N=0+se,M.Ab=f,M.Cd=L,M.ea=W,M.W=0+se+L,M.Db=f,M.Ed=L,c==12&&(M.F=W,M.J=0+se+2*L),M.Tc=C,M.lb=j)}if(f=1,j=w.S,L=w.width,C=w.height,j>=Rl&&13>j)if(11>j)c=w.f.RGBA,f&=(I=Math.abs(c.A))*(C-1)+L<=c.size,f&=I>=L*Rf[j],f&=c.eb!=null;else{c=w.f.kb,I=(L+1)/2,se=(C+1)/2,M=Math.abs(c.fa),W=Math.abs(c.Ab);var ge=Math.abs(c.Db),ve=Math.abs(c.lb),he=ve*(C-1)+L;f&=M*(C-1)+L<=c.Fd,f&=W*(se-1)+I<=c.Cd,f=(f&=ge*(se-1)+I<=c.Ed)&M>=L&W>=I&ge>=I,f&=c.y!=null,f&=c.f!=null,f&=c.ea!=null,j==12&&(f&=ve>=L,f&=he<=c.Tc,f&=c.F!=null)}else f=0;c=f?0:2}}return c!=0||y!=null&&y.fd&&(c=bo(w)),c}var Lr=64,ui=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],di=24,hi=32,wo=8,Hr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(c){return c},D.Predictor2=function(c,f,y){return f[y+0]},D.Predictor3=function(c,f,y){return f[y+1]},D.Predictor4=function(c,f,y){return f[y-1]},D.Predictor5=function(c,f,y){return He(He(c,f[y+1]),f[y+0])},D.Predictor6=function(c,f,y){return He(c,f[y-1])},D.Predictor7=function(c,f,y){return He(c,f[y+0])},D.Predictor8=function(c,f,y){return He(f[y-1],f[y+0])},D.Predictor9=function(c,f,y){return He(f[y+0],f[y+1])},D.Predictor10=function(c,f,y){return He(He(c,f[y-1]),He(f[y+0],f[y+1]))},D.Predictor11=function(c,f,y){var w=f[y+0];return 0>=we(w>>24&255,c>>24&255,(f=f[y-1])>>24&255)+we(w>>16&255,c>>16&255,f>>16&255)+we(w>>8&255,c>>8&255,f>>8&255)+we(255&w,255&c,255&f)?w:c},D.Predictor12=function(c,f,y){var w=f[y+0];return(tt((c>>24&255)+(w>>24&255)-((f=f[y-1])>>24&255))<<24|tt((c>>16&255)+(w>>16&255)-(f>>16&255))<<16|tt((c>>8&255)+(w>>8&255)-(f>>8&255))<<8|tt((255&c)+(255&w)-(255&f)))>>>0},D.Predictor13=function(c,f,y){var w=f[y-1];return(pt((c=He(c,f[y+0]))>>24&255,w>>24&255)<<24|pt(c>>16&255,w>>16&255)<<16|pt(c>>8&255,w>>8&255)<<8|pt(c>>0&255,w>>0&255))>>>0};var rd=D.PredictorAdd0;D.PredictorAdd1=oe,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var xo=D.PredictorAdd2;Ge("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Tl,mn=D.ColorIndexInverseTransform,fi=D.MapARGB,Cl=D.VP8LColorIndexInverseTransformAlpha,El=D.MapAlpha,Ja=D.VP8LPredictorsAdd=[];Ja.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var js,Yr,Br,Ka,wa,xa,pi,_a,lr,_o,Ur,gn,mi,Il,So,Ps,As,Xa,Ls,gi,Os,Za,ko,vn,yn,Gt,Jt,cr,xr=s(511),Sa=s(2041),No=s(225),vi=s(767),Dl=0,nd=Sa,Ml=No,nn=vi,bn=xr,Rl=0,Fl=1,Nf=2,$l=3,Bl=4,ad=5,jf=6,sd=7,id=8,Ul=9,od=10,tv=[2,3,7],rv=[3,3,11],Pf=[280,256,256,256,40],nv=[0,1,1,1,0],av=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],iv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ov=8,ld=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jo=null,lv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Af=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qa=[],In=[],ka=[],pv=1,Lf=2,es=[],wn=[];Se("UpsampleRgbLinePair",Ot,3),Se("UpsampleBgrLinePair",rr,3),Se("UpsampleRgbaLinePair",En,4),Se("UpsampleBgraLinePair",kr,4),Se("UpsampleArgbLinePair",Cr,4),Se("UpsampleRgba4444LinePair",gr,2),Se("UpsampleRgb565LinePair",nr,2);var mv=D.UpsampleRgbLinePair,gv=D.UpsampleBgrLinePair,Of=D.UpsampleRgbaLinePair,Tf=D.UpsampleBgraLinePair,Cf=D.UpsampleArgbLinePair,Ef=D.UpsampleRgba4444LinePair,vv=D.UpsampleRgb565LinePair,zl=16,ql=1<<zl-1,Po=-227,ud=482,If=6,yv=(256<<If)-1,Df=0,bv=s(256),wv=s(256),xv=s(256),_v=s(256),Sv=s(ud-Po),kv=s(ud-Po);ta("YuvToRgbRow",Ot,3),ta("YuvToBgrRow",rr,3),ta("YuvToRgbaRow",En,4),ta("YuvToBgraRow",kr,4),ta("YuvToArgbRow",Cr,4),ta("YuvToRgba4444Row",gr,2),ta("YuvToRgb565Row",nr,2);var Mf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wl=[0,2,8],Nv=[8,7,6,4,4,2,2,2,1,1,1,1],jv=1;this.WebPDecodeRGBA=function(c,f,y,w,j){var L=Fl,C=new ii,I=new $t;C.ba=I,I.S=L,I.width=[I.width],I.height=[I.height];var M=I.width,W=I.height,se=new Ft;if(se==null||c==null)var ge=2;else e(se!=null),ge=li(c,f,y,se.width,se.height,se.Pd,se.Qd,se.format,null);if(ge!=0?M=0:(M!=null&&(M[0]=se.width[0]),W!=null&&(W[0]=se.height[0]),M=1),M){I.width=I.width[0],I.height=I.height[0],w!=null&&(w[0]=I.width),j!=null&&(j[0]=I.height);e:{if(w=new Qs,(j=new ho).data=c,j.w=f,j.ha=y,j.kd=1,f=[0],e(j!=null),((c=li(j.data,j.w,j.ha,null,null,null,f,null,j))==0||c==7)&&f[0]&&(c=4),(f=c)==0){if(e(C!=null),w.data=j.data,w.w=j.w+j.offset,w.ha=j.ha-j.offset,w.put=en,w.ac=pr,w.bc=Jn,w.ma=C,j.xa){if((c=pn())==null){C=1;break e}if(function(ve,he){var Ce=[0],xe=[0],ie=[0];t:for(;;){if(ve==null)return 0;if(he==null)return ve.a=2,0;if(ve.l=he,ve.a=0,ee(ve.m,he.data,he.w,he.ha),!dt(ve.m,Ce,xe,ie)){ve.a=3;break t}if(ve.xb=Lf,he.width=Ce[0],he.height=xe[0],!Zn(Ce[0],xe[0],1,ve,null))break t;return 1}return e(ve.a!=0),0}(c,w)){if(w=(f=ci(w.width,w.height,C.Oa,C.ba))==0){t:{w=c;r:for(;;){if(w==null){w=0;break t}if(e(w.s.yc!=null),e(w.s.Ya!=null),e(0<w.s.Wb),e((y=w.l)!=null),e((j=y.ma)!=null),w.xb!=0){if(w.ca=j.ba,w.tb=j.tb,e(w.ca!=null),!yo(j.Oa,y,$l)){w.a=2;break r}if(!xs(w,y.width)||y.da)break r;if((y.da||at(w.ca.S))&&me(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&me()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!Ee(w.s.vb,w.s.Wa.Xa)){w.a=1;break r}w.xb=0}if(!On(w,w.V,w.Ba,w.c,w.i,y.o,Ys))break r;j.Dc=w.Ma,w=1;break t}e(w.a!=0),w=0}w=!w}w&&(f=c.a)}else f=c.a}else{if((c=new Ru)==null){C=1;break e}if(c.Fa=j.na,c.P=j.P,c.qc=j.Sa,ml(c,w)){if((f=ci(w.width,w.height,C.Oa,C.ba))==0){if(c.Aa=0,y=C.Oa,e((j=c)!=null),y!=null){if(0<(M=0>(M=y.Md)?0:100<M?255:255*M/100)){for(W=se=0;4>W;++W)12>(ge=j.pb[W]).lc&&(ge.ia=M*Nv[0>ge.lc?0:ge.lc]>>3),se|=ge.ia;se&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=y.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}Fu(c,w)||(f=c.a)}}else f=c.a}f==0&&C.Oa!=null&&C.Oa.fd&&(f=bo(C.ba))}C=f}L=C!=0?null:11>L?I.f.RGBA.eb:I.f.kb.y}else L=null;return L};var Rf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,Y){for(var R="",k=0;k<4;k++)R+=String.fromCharCode(D[Y++]);return R}function h(D,Y){return(D[Y+0]<<0|D[Y+1]<<8|D[Y+2]<<16)>>>0}function p(D,Y){return(D[Y+0]<<0|D[Y+1]<<8|D[Y+2]<<16|D[Y+3]<<24)>>>0}new l;var v=[0],m=[0],x=[],b=new l,S=t,_=function(D,Y){var R={},k=0,A=!1,E=0,U=0;if(R.frames=[],!function($,V,T,q){for(var z=0;z<q;z++)if($[V+z]!=T.charCodeAt(z))return!0;return!1}(D,Y,"RIFF",4)){var Z,re;for(p(D,Y+=4),Y+=8;Y<D.length;){var ae=d(D,Y),ee=p(D,Y+=4);Y+=4;var de=ee+(1&ee);switch(ae){case"VP8 ":case"VP8L":R.frames[k]===void 0&&(R.frames[k]={}),(N=R.frames[k]).src_off=A?U:Y-8,N.src_size=E+ee+8,k++,A&&(A=!1,E=0,U=0);break;case"VP8X":(N=R.header={}).feature_flags=D[Y];var pe=Y+4;N.canvas_width=1+h(D,pe),pe+=3,N.canvas_height=1+h(D,pe),pe+=3;break;case"ALPH":A=!0,E=de+8,U=Y-8;break;case"ANIM":(N=R.header).bgcolor=p(D,Y),pe=Y+4,N.loop_count=(Z=D)[(re=pe)+0]<<0|Z[re+1]<<8,pe+=2;break;case"ANMF":var Le,N;(N=R.frames[k]={}).offset_x=2*h(D,Y),Y+=3,N.offset_y=2*h(D,Y),Y+=3,N.width=1+h(D,Y),Y+=3,N.height=1+h(D,Y),Y+=3,N.duration=h(D,Y),Y+=3,Le=D[Y++],N.dispose=1&Le,N.blend=Le>>1&1}ae!="ANMF"&&(Y+=de)}return R}}(S,0);_.response=S,_.rgbaoutput=!0,_.dataurl=!1;var O=_.header?_.header:null,F=_.frames?_.frames:null;if(O){O.loop_counter=O.loop_count,v=[O.canvas_height],m=[O.canvas_width];for(var X=0;X<F.length&&F[X].blend!=0;X++);}var J=F[0],ce=b.WebPDecodeRGBA(S,J.src_off,J.src_size,m,v);J.rgba=ce,J.imgwidth=m[0],J.imgheight=v[0];for(var K=0;K<m[0]*v[0]*4;K++)x[K]=ce[K];return this.width=m,this.height=v,this.data=x,this}(function(t){var e=function(){return typeof kh=="function"},r=function(v,m,x,b){var S=4,_=i;switch(b){case t.image_compression.FAST:S=1,_=s;break;case t.image_compression.MEDIUM:S=6,_=o;break;case t.image_compression.SLOW:S=9,_=l}v=n(v,m,x,_);var O=kh(v,{level:S});return t.__addimage__.arrayBufferToBinaryString(O)},n=function(v,m,x,b){for(var S,_,O,F=v.length/m,X=new Uint8Array(v.length+F),J=h(),ce=0;ce<F;ce+=1){if(O=ce*m,S=v.subarray(O,O+m),b)X.set(b(S,x,_),O+ce);else{for(var K,D=J.length,Y=[];K<D;K+=1)Y[K]=J[K](S,x,_);var R=p(Y.concat());X.set(Y[R],O+ce)}_=S}return X},a=function(v){var m=Array.apply([],v);return m.unshift(0),m},s=function(v,m){var x,b=[],S=v.length;b[0]=1;for(var _=0;_<S;_+=1)x=v[_-m]||0,b[_+1]=v[_]-x+256&255;return b},i=function(v,m,x){var b,S=[],_=v.length;S[0]=2;for(var O=0;O<_;O+=1)b=x&&x[O]||0,S[O+1]=v[O]-b+256&255;return S},o=function(v,m,x){var b,S,_=[],O=v.length;_[0]=3;for(var F=0;F<O;F+=1)b=v[F-m]||0,S=x&&x[F]||0,_[F+1]=v[F]+256-(b+S>>>1)&255;return _},l=function(v,m,x){var b,S,_,O,F=[],X=v.length;F[0]=4;for(var J=0;J<X;J+=1)b=v[J-m]||0,S=x&&x[J]||0,_=x&&x[J-m]||0,O=d(b,S,_),F[J+1]=v[J]-O+256&255;return F},d=function(v,m,x){if(v===m&&m===x)return v;var b=Math.abs(m-x),S=Math.abs(v-x),_=Math.abs(v+m-x-x);return b<=S&&b<=_?v:S<=_?m:x},h=function(){return[a,s,i,o,l]},p=function(v){var m=v.map(function(x){return x.reduce(function(b,S){return b+Math.abs(S)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(v,m,x,b){var S,_,O,F,X,J,ce,K,D,Y,R,k,A,E,U,Z=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(O=new h6(v)).imgData,_=O.bits,S=O.colorSpace,X=O.colors,[4,6].indexOf(O.colorType)!==-1){if(O.bits===8){D=(K=O.pixelBitlength==32?new Uint32Array(O.decodePixels().buffer):O.pixelBitlength==16?new Uint16Array(O.decodePixels().buffer):new Uint8Array(O.decodePixels().buffer)).length,R=new Uint8Array(D*O.colors),Y=new Uint8Array(D);var ae,ee=O.pixelBitlength-O.bits;for(E=0,U=0;E<D;E++){for(A=K[E],ae=0;ae<ee;)R[U++]=A>>>ae&255,ae+=O.bits;Y[E]=A>>>ae&255}}if(O.bits===16){D=(K=new Uint32Array(O.decodePixels().buffer)).length,R=new Uint8Array(D*(32/O.pixelBitlength)*O.colors),Y=new Uint8Array(D*(32/O.pixelBitlength)),k=O.colors>1,E=0,U=0;for(var de=0;E<D;)A=K[E++],R[U++]=A>>>0&255,k&&(R[U++]=A>>>16&255,A=K[E++],R[U++]=A>>>0&255),Y[de++]=A>>>16&255;_=8}b!==t.image_compression.NONE&&e()?(v=r(R,O.width*O.colors,O.colors,b),ce=r(Y,O.width,1,b)):(v=R,ce=Y,Z=void 0)}if(O.colorType===3&&(S=this.color_spaces.INDEXED,J=O.palette,O.transparency.indexed)){var pe=O.transparency.indexed,Le=0;for(E=0,D=pe.length;E<D;++E)Le+=pe[E];if((Le/=255)===D-1&&pe.indexOf(0)!==-1)F=[pe.indexOf(0)];else if(Le!==D){for(K=O.decodePixels(),Y=new Uint8Array(K.length),E=0,D=K.length;E<D;E++)Y[E]=pe[K[E]];ce=r(Y,O.width,1)}}var N=function($){var V;switch($){case t.image_compression.FAST:V=11;break;case t.image_compression.MEDIUM:V=13;break;case t.image_compression.SLOW:V=14;break;default:V=12}return V}(b);return Z===this.decode.FLATE_DECODE&&(re="/Predictor "+N+" "),re+="/Colors "+X+" /BitsPerComponent "+_+" /Columns "+O.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(ce&&this.__addimage__.isArrayBuffer(ce)||this.__addimage__.isArrayBufferView(ce))&&(ce=this.__addimage__.arrayBufferToBinaryString(ce)),{alias:x,data:v,index:m,filter:Z,decodeParameters:re,transparency:F,palette:J,sMask:ce,predictor:N,width:O.width,height:O.height,bitsPerComponent:_,colorSpace:S}}}})(ht.API),function(t){t.processGIF89A=function(e,r,n,a){var s=new f6(e),i=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:i,height:o},h=new qd(100).encode(d,100);return t.processJPEG.call(this,h,r,n,a)},t.processGIF87A=t.processGIF89A}(ht.API),Fn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fn.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ht.log("bit decode error:"+r)}},Fn.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Fn.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,o=s>>4,l=15&s,d=this.palette[o];if(this.data[i]=d.blue,this.data[i+1]=d.green,this.data[i+2]=d.red,this.data[i+3]=255,2*a+1>=this.width)break;d=this.palette[l],this.data[i+4]=d.blue,this.data[i+4+1]=d.green,this.data[i+4+2]=d.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},Fn.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Fn.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,d=s>>15?255:0,h=n*this.width*4+4*a;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=i,this.data[h+3]=d}this.pos+=t}},Fn.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&r)/r*255|0,d=(i>>11)/e*255|0,h=a*this.width*4+4*s;this.data[h]=d,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Fn.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*r;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},Fn.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=i}},Fn.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var s=new Fn(e,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},d=new qd(100).encode(l,100);return t.processJPEG.call(this,d,r,n,a)}}(ht.API),Pm.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var s=new Pm(e),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},d=new qd(100).encode(l,100);return t.processJPEG.call(this,d,r,n,a)}}(ht.API),ht.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,l=0,d=0;d<a;d+=4){var h=n[d],p=n[d+1],v=n[d+2],m=n[d+3];s[o++]=h,s[o++]=p,s[o++]=v,i[l++]=m}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Li=ht.API,yc=Li.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,h=d.fof?d.fof:1,p=e.doKerning!==!1,v=0,m=t.length,x=0,b=o[0]||l,S=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?S.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/s)||0)/1e3):(v=p&&Tt(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/h:0,S.push((o[n]||b)/l+v)),x=n;return S},Sm=Li.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Li.processArabic&&(t=Li.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:yc.apply(this,arguments).reduce(function(s,i){return s+i},0)},km=function(t,e,r,n){for(var a=[],s=0,i=t.length,o=0;s!==i&&o+e[s]<r;)o+=e[s],s++;a.push(t.slice(0,s));var l=s;for(o=0;s!==i;)o+e[s]>n&&(a.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&a.push(t.slice(l,s)),a},Nm=function(t,e,r){r||(r={});var n,a,s,i,o,l,d,h=[],p=[h],v=r.textIndent||0,m=0,x=0,b=t.split(" "),S=yc.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var _=Array(l).join(" "),O=[];b.map(function(X){(X=X.split(/\s*\n/)).length>1?O=O.concat(X.map(function(J,ce){return(ce&&J.length?`
`:"")+J})):O.push(X[0])}),b=O,l=Sm.apply(this,[_,r])}for(s=0,i=b.length;s<i;s++){var F=0;if(n=b[s],l&&n[0]==`
`&&(n=n.substr(1),F=1),v+m+(x=(a=yc.apply(this,[n,r])).reduce(function(X,J){return X+J},0))>e||F){if(x>e){for(o=km.apply(this,[n,a,e-(v+m),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);x=a.slice(n.length-(h[0]?h[0].length:0)).reduce(function(X,J){return X+J},0)}else h=[n];p.push(h),v=x+l,m=S}else h.push(n),v+=m+x,m=S}return d=l?function(X,J){return(J?_:"")+X.join(" ")}:function(X){return X.join(" ")},p.map(d)},Li.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var o,l,d=[];for(o=0,l=n.length;o<l;o++)d=d.concat(Nm.apply(this,[n[o],i,s]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var s=function(p){return"0x"+parseInt(p,10).toString(16)},i=t.__fontmetrics__.compress=function(p){var v,m,x,b,S=["{"];for(var _ in p){if(v=p[_],isNaN(parseInt(_,10))?m="'"+_+"'":(_=parseInt(_,10),m=(m=s(_).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof v=="number")v<0?(x=s(v).slice(3),b="-"):(x=s(v).slice(2),b=""),x=b+x.slice(0,-1)+n[x.slice(-1)];else{if(Tt(v)!=="object")throw new Error("Don't know what to do with value type "+Tt(v)+".");x=i(v)}S.push(m+x)}return S.push("}"),S.join("")},o=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,m,x,b,S={},_=1,O=S,F=[],X="",J="",ce=p.length-1,K=1;K<ce;K+=1)(b=p[K])=="'"?v?(x=v.join(""),v=void 0):v=[]:v?v.push(b):b=="{"?(F.push([O,x]),O={},x=void 0):b=="}"?((m=F.pop())[0][m[1]]=O,x=void 0,O=m[0]):b=="-"?_=-1:x===void 0?r.hasOwnProperty(b)?(X+=r[b],x=parseInt(X,16)*_,_=1,X=""):X+=b:r.hasOwnProperty(b)?(J+=r[b],O[x]=parseInt(J,16)*_,_=1,x=void 0,J=""):J+=b;return S},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var v=p.font,m=h.Unicode[v.postScriptName];m&&(v.metadata.Unicode={},v.metadata.Unicode.widths=m.widths,v.metadata.Unicode.kerning=m.kerning);var x=d.Unicode[v.postScriptName];x&&(v.metadata.Unicode.encoding=x,v.encoding=x.codePages[0])}])}(ht.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Vo(o)),i.metadata=t.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])}(ht),function(t){function e(){return(ft.canvg?Promise.resolve(ft.canvg):Ba(()=>import("./index.es-Ciq1HQBF.js"),__vite__mapDeps([2,1,3,4]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ht.API.addSvgAsImage=function(r,n,a,s,i,o,l,d){if(isNaN(n)||isNaN(a))throw Ht.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw Ht.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=i;var p=h.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,h.width,h.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(x){return x.fromString(p,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(v)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),n,a,s,i,l,d)})}}(),ht.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},ht.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],d=0,h=0,p=0;function v(x,b){var S,_=!1;for(S=0;S<x.length;S+=1)x[S]===b&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=o.length;for(p=0;p<m;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Tt(t)==="object"){for(a in t)if(s=t[a],v(o,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&v(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")l.push(String(s[d]-1));else if(s[d].length>1){for(h=0;h<s[d].length;h+=1)typeof s[d][h]!="number"&&(n=!1);n===!0&&l.push([s[d][0]-1,s[d][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,b=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?b.push("/"+x+" /"+r[x].value):b.push("/"+x+" "+r[x].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+i.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ht.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,i){for(var o,l=i.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],p=0,v=s.length;p<v;++p){if(o=i.metadata.characterToGlyph(s.charCodeAt(p)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(d[4-o.length],o)}return h.join("")},n=function(s){var i,o,l,d,h,p,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,v=(o=Object.keys(s).sort(function(m,x){return m-x})).length;p<v;p++)i=o[p],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(d=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),l.push("<"+i+"><"+d+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(i){var o=i.font,l=i.out,d=i.newObject,h=i.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,v=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",x=0;x<v.length;x++)m+=String.fromCharCode(v[x]);var b=d();h({data:m,addLength1:!0,objectId:b}),l("endobj");var S=d();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var _=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ii(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var O=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ii(o.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+S+" 0 R"),l("/BaseFont /"+Ii(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+O+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(i){var o=i.font,l=i.out,d=i.newObject,h=i.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,v="",m=0;m<p.length;m++)v+=String.fromCharCode(p[m]);var x=d();h({data:v,addLength1:!0,objectId:x}),l("endobj");var b=d();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var S=d();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ii(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=d();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ii(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,o=s.text||"",l=s.x,d=s.y,h=s.options||{},p=s.mutex||{},v=p.pdfEscape,m=p.activeFontKey,x=p.fonts,b=m,S="",_=0,O="",F=x[b].encoding;if(x[b].encoding!=="Identity-H")return{text:o,x:l,y:d,options:h,mutex:p};for(O=o,b=m,Array.isArray(o)&&(O=o[0]),_=0;_<O.length;_+=1)x[b].metadata.hasOwnProperty("cmap")&&(i=x[b].metadata.cmap.unicode.codeMap[O[_].charCodeAt(0)]),i||O[_].charCodeAt(0)<256&&x[b].metadata.hasOwnProperty("Unicode")?S+=O[_]:S+="";var X="";return parseInt(b.slice(1))<14||F==="WinAnsiEncoding"?X=v(S,b).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(X=r(S,x[b])),p.isHex=!0,{text:X,x:l,y:d,options:h,mutex:p}};e.events.push(["postProcessText",function(s){var i=s.text||"",o=[],l={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var d=0;for(d=0;d<i.length;d+=1)Array.isArray(i[d])&&i[d].length===3?o.push([a(Object.assign({},l,{text:i[d][0]})).text,i[d][1],i[d][2]]):o.push(a(Object.assign({},l,{text:i[d]})).text);s.text=o}else s.text=a(Object.assign({},l,{text:i})).text}])}(ht),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ht.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,s,i,o,l,d,h,p=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,F=0;this.__bidiEngine__={};var X=function(k){var A=k.charCodeAt(),E=A>>8,U=b[E];return U!==void 0?p[256*U+(255&A)]:E===252||E===253?"AL":_.test(E)?"L":E===8?"R":"N"},J=function(k){for(var A,E=0;E<k.length;E++){if((A=X(k.charAt(E)))==="L")return!1;if(A==="R")return!0}return!1},ce=function(k,A,E,U){var Z,re,ae,ee,de=A[U];switch(de){case"L":case"R":O=!1;break;case"N":case"AN":break;case"EN":O&&(de="AN");break;case"AL":O=!0,de="R";break;case"WS":de="N";break;case"CS":U<1||U+1>=A.length||(Z=E[U-1])!=="EN"&&Z!=="AN"||(re=A[U+1])!=="EN"&&re!=="AN"?de="N":O&&(re="AN"),de=re===Z?re:"N";break;case"ES":de=(Z=U>0?E[U-1]:"B")==="EN"&&U+1<A.length&&A[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&E[U-1]==="EN"){de="EN";break}if(O){de="N";break}for(ae=U+1,ee=A.length;ae<ee&&A[ae]==="ET";)ae++;de=ae<ee&&A[ae]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(ee=A.length,ae=U+1;ae<ee&&A[ae]==="NSM";)ae++;if(ae<ee){var pe=k[U],Le=pe>=1425&&pe<=2303||pe===64286;if(Z=A[ae],Le&&(Z==="R"||Z==="AL")){de="R";break}}}de=U<1||(Z=A[U-1])==="B"?"N":E[U-1];break;case"B":O=!1,a=!0,de=F;break;case"S":s=!0,de="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"BN":de="N"}return de},K=function(k,A,E){var U=k.split("");return E&&D(U,E,{hiLevel:F}),U.reverse(),A&&A.reverse(),U.join("")},D=function(k,A,E){var U,Z,re,ae,ee,de=-1,pe=k.length,Le=0,N=[],$=F?m:v,V=[];for(O=!1,a=!1,s=!1,Z=0;Z<pe;Z++)V[Z]=X(k[Z]);for(re=0;re<pe;re++){if(ee=Le,N[re]=ce(k,V,N,re),U=240&(Le=$[ee][x[N[re]]]),Le&=15,A[re]=ae=$[Le][5],U>0)if(U===16){for(Z=de;Z<re;Z++)A[Z]=1;de=-1}else de=-1;if($[Le][6])de===-1&&(de=re);else if(de>-1){for(Z=de;Z<re;Z++)A[Z]=ae;de=-1}V[re]==="B"&&(A[re]=0),E.hiLevel|=ae}s&&function(T,q,z){for(var Q=0;Q<z;Q++)if(T[Q]==="S"){q[Q]=F;for(var ne=Q-1;ne>=0&&T[ne]==="WS";ne--)q[ne]=F}}(V,A,pe)},Y=function(k,A,E,U,Z){if(!(Z.hiLevel<k)){if(k===1&&F===1&&!a)return A.reverse(),void(E&&E.reverse());for(var re,ae,ee,de,pe=A.length,Le=0;Le<pe;){if(U[Le]>=k){for(ee=Le+1;ee<pe&&U[ee]>=k;)ee++;for(de=Le,ae=ee-1;de<ae;de++,ae--)re=A[de],A[de]=A[ae],A[ae]=re,E&&(re=E[de],E[de]=E[ae],E[ae]=re);Le=ee}Le++}}},R=function(k,A,E){var U=k.split(""),Z={hiLevel:F};return E||(E=[]),D(U,E,Z),function(re,ae,ee){if(ee.hiLevel!==0&&h)for(var de,pe=0;pe<re.length;pe++)ae[pe]===1&&(de=S.indexOf(re[pe]))>=0&&(re[pe]=S[de+1])}(U,E,Z),Y(2,U,A,E,Z),Y(1,U,A,E,Z),U.join("")};return this.__bidiEngine__.doBidiReorder=function(k,A,E){if(function(Z,re){if(re)for(var ae=0;ae<Z.length;ae++)re[ae]=ae;o===void 0&&(o=J(Z)),d===void 0&&(d=J(Z))}(k,A),i||!l||d)if(i&&l&&o^d)F=o?1:0,k=K(k,A,E);else if(!i&&l&&d)F=o?1:0,k=R(k,A,E),k=K(k,A);else if(!i||o||l||d){if(i&&!l&&o^d)k=K(k,A),o?(F=0,k=R(k,A,E)):(F=1,k=R(k,A,E),k=K(k,A));else if(i&&o&&!l&&d)F=1,k=R(k,A,E),k=K(k,A);else if(!i&&!l&&o^d){var U=h;o?(F=1,k=R(k,A,E),F=0,h=!1,k=R(k,A,E),h=U):(F=0,k=R(k,A,E),k=K(k,A),F=1,h=!1,k=R(k,A,E),h=U,k=K(k,A))}}else F=0,k=R(k,A,E);else F=o?1:0,k=R(k,A,E);return k},this.__bidiEngine__.setOptions=function(k){k&&(i=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,d=k.isOutputRtl,h=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),i=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(i=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?i.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):i.push([r.doBidiReorder(a[o])]);n.text=i}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ws(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new A6(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new p6(this.contents),this.head=new g6(this),this.name=new x6(this),this.cmap=new C1(this),this.toUnicode={},this.hhea=new v6(this),this.maxp=new _6(this),this.hmtx=new S6(this),this.post=new b6(this),this.os2=new y6(this),this.loca=new P6(this),this.glyf=new k6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,l,d;for(d=[],i=0,o=(l=this.bbox).length;i<o;i++)e=l[i],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,s,i,o;for(i=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)a=e.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return i*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Gn,ws=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,s,i,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*i+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),p6=function(){var t;function e(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,s,i,o,l,d,h,p,v,m,x,b;for(b in m=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),i=Math.floor(p/l),h=16*m-p,(a=new ws).writeInt(this.scalarType),a.writeShort(m),a.writeShort(p),a.writeShort(i),a.writeShort(h),s=16*m,d=a.pos+s,o=null,x=[],r)for(v=r[b],a.writeString(b),a.writeInt(t(v)),a.writeInt(d),a.writeInt(v.length),x=x.concat(v),b==="head"&&(o=d),d+=v.length;d%4;)x.push(0),d++;return a.write(x),n=2981146554-t(a.data),a.pos=o+8,a.writeUInt32(n),a.data},t=function(r){var n,a,s,i;for(r=E1.call(r);r.length%4;)r.push(0);for(s=new ws(r),a=0,n=0,i=r.length;n<i;n=n+=4)a+=s.readUInt32();return 4294967295&a},e}(),m6={}.hasOwnProperty,ga=function(t,e){for(var r in e)m6.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Gn=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var g6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new ws).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),Am=function(){function t(e,r){var n,a,s,i,o,l,d,h,p,v,m,x,b,S,_,O,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),v=m/2,e.pos+=6,s=function(){var X,J;for(J=[],l=X=0;0<=v?X<v:X>v;l=0<=v?++X:--X)J.push(e.readUInt16());return J}(),e.pos+=2,b=function(){var X,J;for(J=[],l=X=0;0<=v?X<v:X>v;l=0<=v?++X:--X)J.push(e.readUInt16());return J}(),d=function(){var X,J;for(J=[],l=X=0;0<=v?X<v:X>v;l=0<=v?++X:--X)J.push(e.readUInt16());return J}(),h=function(){var X,J;for(J=[],l=X=0;0<=v?X<v:X>v;l=0<=v?++X:--X)J.push(e.readUInt16());return J}(),a=(this.length-e.pos+this.offset)/2,o=function(){var X,J;for(J=[],l=X=0;0<=a?X<a:X>a;l=0<=a?++X:--X)J.push(e.readUInt16());return J}(),l=_=0,F=s.length;_<F;l=++_)for(S=s[l],n=O=x=b[l];x<=S?O<=S:O>=S;n=x<=S?++O:--O)h[l]===0?i=n+d[l]:(i=o[h[l]/2+(n-x)-(v-l)]||0)!==0&&(i+=d[l]),this.codeMap[n]=65535&i}e.pos=p}return t.encode=function(e,r){var n,a,s,i,o,l,d,h,p,v,m,x,b,S,_,O,F,X,J,ce,K,D,Y,R,k,A,E,U,Z,re,ae,ee,de,pe,Le,N,$,V,T,q,z,Q,ne,Ae,Ne,fe;switch(U=new ws,i=Object.keys(e).sort(function(_e,Ee){return _e-Ee}),r){case"macroman":for(b=0,S=function(){var _e=[];for(x=0;x<256;++x)_e.push(0);return _e}(),O={0:0},s={},Z=0,de=i.length;Z<de;Z++)O[ne=e[a=i[Z]]]==null&&(O[ne]=++b),s[a]={old:e[a],new:O[e[a]]},S[a]=O[e[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(S),{charMap:s,subtable:U.data,maxGlyphID:b+1};case"unicode":for(A=[],p=[],F=0,O={},n={},_=d=null,re=0,pe=i.length;re<pe;re++)O[J=e[a=i[re]]]==null&&(O[J]=++F),n[a]={old:J,new:O[J]},o=O[J]-a,_!=null&&o===d||(_&&p.push(_),A.push(a),d=o),_=a;for(_&&p.push(_),p.push(65535),A.push(65535),R=2*(Y=A.length),D=2*Math.pow(Math.log(Y)/Math.LN2,2),v=Math.log(D/2)/Math.LN2,K=2*Y-D,l=[],ce=[],m=[],x=ae=0,Le=A.length;ae<Le;x=++ae){if(k=A[x],h=p[x],k===65535){l.push(0),ce.push(0);break}if(k-(E=n[k].new)>=32768)for(l.push(0),ce.push(2*(m.length+Y-x)),a=ee=k;k<=h?ee<=h:ee>=h;a=k<=h?++ee:--ee)m.push(n[a].new);else l.push(E-k),ce.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*Y+2*m.length),U.writeUInt16(0),U.writeUInt16(R),U.writeUInt16(D),U.writeUInt16(v),U.writeUInt16(K),z=0,N=p.length;z<N;z++)a=p[z],U.writeUInt16(a);for(U.writeUInt16(0),Q=0,$=A.length;Q<$;Q++)a=A[Q],U.writeUInt16(a);for(Ae=0,V=l.length;Ae<V;Ae++)o=l[Ae],U.writeUInt16(o);for(Ne=0,T=ce.length;Ne<T;Ne++)X=ce[Ne],U.writeUInt16(X);for(fe=0,q=m.length;fe<q;fe++)b=m[fe],U.writeUInt16(b);return{charMap:n,subtable:U.data,maxGlyphID:F+1}}},t}(),C1=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new Am(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=Am.encode(r,n),(s=new ws).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e}(),v6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),y6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),b6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(a=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,d;for(d=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)d.push(r.readUInt32());return d}).call(this)}},e}(),w6=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},x6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,s,i,o,l,d,h,p,v,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(d={},i=p=0,v=a.length;p<v;i=++p)s=a[i],r.pos=s.offset,h=r.readString(s.length),o=new w6(h,s),d[m=s.nameID]==null&&(d[m]=[]),d[s.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),_6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),S6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,s,i,o,l,d;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,p;for(p=[],n=h=0;0<=s?h<s:h>s;n=0<=s?++h:--h)p.push(r.readInt16());return p}(),this.widths=(function(){var h,p,v,m;for(m=[],h=0,p=(v=this.metrics).length;h<p;h++)i=v[h],m.push(i.advance);return m}).call(this),a=this.widths[this.widths.length-1],d=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),E1=[].slice,k6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,s,i,o,l,d,h,p,v;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,a=i.indexOf(r),(s=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new ws(n.read(s))).readShort(),h=l.readShort(),v=l.readShort(),d=l.readShort(),p=l.readShort(),this.cache[r]=o===-1?new j6(l,h,v,d,p):new N6(l,o,h,v,d,p),this.cache[r]))},e.prototype.encode=function(r,n,a){var s,i,o,l,d;for(o=[],i=[],l=0,d=n.length;l<d;l++)s=r[n[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e}(),N6=function(){function t(e,r,n,a,s,i){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),j6=function(){function t(e,r,n,a,s){var i,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ws(E1.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),P6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ga(e,Gn),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(r.readUInt32());return i}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<n.length&&n[i]==o){++i,a[o]=s;var l=this.offsets[o],d=this.offsets[o+1]-l;d>0&&(s+=d)}for(var h=new Array(4*a.length),p=0;p<a.length;++p)h[4*p+3]=255&a[p],h[4*p+2]=(65280&a[p])>>8,h[4*p+1]=(16711680&a[p])>>16,h[4*p]=(4278190080&a[p])>>24;return h},e}(),A6=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,s,i,o,l;for(a={},i=0,o=e.length;i<o;i++)a[s=e[i]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],a[s]=n;return a},t.prototype.encode=function(e,r){var n,a,s,i,o,l,d,h,p,v,m,x,b,S,_;for(a in n=C1.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),m={0:0},_=n.charMap)m[(l=_[a]).old]=l.new;for(x in v=n.maxGlyphID,i)x in m||(m[x]=v++);return h=function(O){var F,X;for(F in X={},O)X[O[F]]=F;return X}(m),p=Object.keys(h).sort(function(O,F){return O-F}),b=function(){var O,F,X;for(X=[],O=0,F=p.length;O<F;O++)o=p[O],X.push(h[o]);return X}(),s=this.font.glyf.encode(i,b,m),d=this.font.loca.encode(s.offsets,b),S={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();ht.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,s,i;if(Array.isArray(r))return"["+function(){var o,l,d;for(d=[],o=0,l=r.length;o<l;o++)n=r[o],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)i=r[a],s.push("/"+a+" "+e.convert(i));return s.push(">>"),s.join(`
`)}return""+r},e}();function I1(t,e,r,n,a){n=n||{};var s=1.15,i=a.internal.scaleFactor,o=a.internal.getFontSize()/i,l=a.getLineHeightFactor?a.getLineHeightFactor():s,d=o*l,h=/\r\n|\r|\n/g,p="",v=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(h):t,v=p.length||1),r+=o*(2-s),n.valign==="middle"?r-=v/2*d:n.valign==="bottom"&&(r-=v*d),n.halign==="center"||n.halign==="right"){var m=o;if(n.halign==="center"&&(m*=.5),p&&v>=1){for(var x=0;x<p.length;x++)a.text(p[x],e-a.getStringUnitWidth(p[x])*m,r),r+=d;return a}e-=a.getStringUnitWidth(t)*m}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var Lm={},Yi=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Lm=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var d=this.getFontList()[l];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var h=t.unifyColor(e.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=t.unifyColor(e.textColor),h&&(a=this.jsPDFDocument).setTextColor.apply(a,h),h=t.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,s){return this.jsPDFDocument.rect(e,r,n,a,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Lm||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Th=function(t,e){return Th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Th(t,e)};function D1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Th(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var M1=function(t){D1(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function L6(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function O6(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Qc(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,i){return Math.max(s,i)},0);return a}function R1(t,e,r,n){var a=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:s});var i=F1(a,!1);i&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,i)}function F1(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Tu(t,e){var r,n,a,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function $1(t,e){var r=Tu(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function T6(t,e,r,n,a){var s={},i=1.3333333333333333,o=Wd(e,function(F){return a.getComputedStyle(F).backgroundColor});o!=null&&(s.fillColor=o);var l=Wd(e,function(F){return a.getComputedStyle(F).color});l!=null&&(s.textColor=l);var d=E6(n,r);d&&(s.cellPadding=d);var h="borderTopColor",p=i*r,v=n.borderTopWidth;if(n.borderBottomWidth===v&&n.borderRightWidth===v&&n.borderLeftWidth===v){var m=(parseFloat(v)||0)/p;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var x=Wd(e,function(F){return a.getComputedStyle(F)[h]});x!=null&&(s.lineColor=x);var b=["left","right","center","justify"];b.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),b=["middle","bottom","top"],b.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var S=parseInt(n.fontSize||"");isNaN(S)||(s.fontSize=S/i);var _=C6(n);_&&(s.fontStyle=_);var O=(n.fontFamily||"").toLowerCase();return t.indexOf(O)!==-1&&(s.font=O),s}function C6(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Wd(t,e){var r=B1(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function B1(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:B1(t.parentElement,e):r}function E6(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),i=Tu(s,0);return a>i.top&&(i.top=a),a>i.bottom&&(i.bottom=a),i}function U1(t,e,r,n,a){var s,i;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),d=t.scaleFactor(),h=[],p=[],v=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:v};for(var m=0;m<o.rows.length;m++){var x=o.rows[m],b=(i=(s=x==null?void 0:x.parentElement)===null||s===void 0?void 0:s.tagName)===null||i===void 0?void 0:i.toLowerCase(),S=I6(l,d,r,x,n,a);S&&(b==="thead"?h.push(S):b==="tfoot"?v.push(S):p.push(S))}return{head:h,body:p,foot:v}}function I6(t,e,r,n,a,s){for(var i=new M1(n),o=0;o<n.cells.length;o++){var l=n.cells[o],d=r.getComputedStyle(l);if(a||d.display!=="none"){var h=void 0;s&&(h=T6(t,l,e,d,r)),i.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:h,_element:l,content:D6(l)})}}var p=r.getComputedStyle(n);if(i.length>0&&(a||p.display!=="none"))return i}function D6(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function M6(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ma(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function z1(t,e){var r=new Yi(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();M6(a,n,e);var s=Ma({},a,n,e),i;typeof window<"u"&&(i=window);var o=R6(a,n,e),l=F6(a,n,e),d=$6(r,s),h=U6(r,s,i);return{id:e.tableId,content:h,hooks:l,styles:o,settings:d}}function R6(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var d=t[l],h=e[l],p=r[l];n.columnStyles=Ma({},d,h,p)}else{var v=[t,e,r],m=v.map(function(x){return x[l]||{}});n[l]=Ma({},m[0],m[1],m[2])}},s=0,i=Object.keys(n);s<i.length;s++){var o=i[s];a(o)}return n}function F6(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,i=n;s<i.length;s++){var o=i[s];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function $6(t,e){var r,n,a,s,i,o,l,d,h,p,v,m,x=Tu(e.margin,40/t.scaleFactor()),b=(r=B6(t,e.startY))!==null&&r!==void 0?r:x.top,S;e.showFoot===!0?S="everyPage":e.showFoot===!1?S="never":S=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var _;e.showHead===!0?_="everyPage":e.showHead===!1?_="never":_=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var O=(s=e.useCss)!==null&&s!==void 0?s:!1,F=e.theme||(O?"plain":"striped"),X=!!e.horizontalPageBreak,J=(i=e.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:O,theme:F,startY:b,margin:x,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:_,showFoot:S,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:X,horizontalPageBreakRepeat:J,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function B6(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;s=i===a}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function U6(t,e,r){var n=e.head||[],a=e.body||[],s=e.foot||[];if(e.html){var i=e.includeHiddenHtml;if(r){var o=U1(t,e.html,r,i,e.useCss)||{};n=o.head||n,a=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||z6(n,a,s);return{columns:l,head:n,body:a,foot:s}}function z6(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var i=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(i=(o==null?void 0:o.colSpan)||1);for(var l=0;l<i;l++){var d=void 0;Array.isArray(n)?d=a.length:d=s+(l>0?"_".concat(l):"");var h={dataKey:d};a.push(h)}}),a}var Ch=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),q6=function(t){D1(e,t);function e(r,n,a,s,i,o){var l=t.call(this,r,n,o)||this;return l.cell=a,l.row=s,l.column=i,l.section=s.section,l}return e}(Ch),W6=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,s,i){for(var o=0,l=r;o<l.length;o++){var d=l[o],h=new q6(e,this,n,a,s,i),p=d(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new Ch(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new Ch(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),q1=function(){function t(e,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof M1&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,s){var i=n.cells[s.index];if(!i)return 0;var o=r.getLineHeight(i.styles.fontSize),l=i.padding("vertical"),d=l+o;return d>a?d:a},0)},t}(),W1=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var i=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=i.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Tu(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),V6=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var s=a[n],i=s.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},t}();function H6(t,e){Y6(t,e);var r=[],n=0;e.columns.forEach(function(s){var i=s.getMaxCustomCellWidth(e);i?s.width=i:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=Eh(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=Eh(r,a,function(s){return s.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),J6(e),K6(e,t),G6(e)}function Y6(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=$1(t,e);e.allRows().forEach(function(s){for(var i=0,o=e.columns;i<o.length;i++){var l=o[i],d=s.cells[l.index];if(d){var h=e.hooks.didParseCell;e.callCellHooks(t,h,d,s,l,null);var p=d.padding("horizontal");d.contentWidth=Qc(d.text,d.styles,t)+p;var v=Qc(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=v+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var m=10/r;d.minWidth=d.styles.minCellWidth||m,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(s){for(var i=0,o=e.columns;i<o.length;i++){var l=o[i],d=s.cells[l.index];if(d&&d.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,d.wrappedWidth),l.minWidth=Math.max(l.minWidth,d.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,d.minReadableWidth);else{var h=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}d&&(d.colSpan>1&&!l.minWidth&&(l.minWidth=d.minWidth),d.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=d.minWidth))}})}function Eh(t,e,r){for(var n=e,a=t.reduce(function(m,x){return m+x.wrappedWidth},0),s=0;s<t.length;s++){var i=t[s],o=i.wrappedWidth/a,l=n*o,d=i.width+l,h=r(i),p=d<h?h:d;e-=p-i.width,i.width=p}if(e=Math.round(e*1e10)/1e10,e){var v=t.filter(function(m){return e<0?m.width>r(m):!0});v.length&&(e=Eh(v,e,r))}return e}function G6(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var s=n[a],i=0,o=t.columns;i<o.length;i++){var l=o[i],d=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(d)d.cell.height+=s.height,r=d.cell.colSpan,delete s.cells[l.index],d.left--,d.left<=1&&delete e[l.index];else{var h=s.cells[l.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var p=n.length-a,v=h.rowSpan>p?p:h.rowSpan;e[l.index]={cell:h,left:v,row:s}}}}}function J6(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,s=0,i=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(i-=1,i>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(a){var d=a;delete n.cells[l.index],a=null,d.width=l.width+s}else{var d=n.cells[l.index];if(!d)continue;if(i=d.colSpan,s=0,d.colSpan>1){a=d,s+=l.width;continue}d.width=l.width+s}}}function K6(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var s=a[n],i=0,o=t.columns;i<o.length;i++){var l=o[i],d=s.cells[l.index];if(d){e.applyStyles(d.styles,!0);var h=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,h+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Om(d.text,h,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Om(d.text,h,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var p=d.styles.overflow(d.text,h);typeof p=="string"?d.text=[p]:d.text=p}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<v*d.rowSpan?r={height:v,count:d.rowSpan}:r&&r.count>0&&r.height>v&&(v=r.height),v>s.height&&(s.height=v)}}r.count--}}function Om(t,e,r,n,a){return t.map(function(s){return X6(s,e,r,n,a)})}function X6(t,e,r,n,a){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Qc(t,r,n))return t;for(;e<Qc(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function V1(t,e){var r=new Yi(t),n=Z6(e,r.scaleFactor()),a=new W6(e,n);return H6(r,a),r.applyStyles(r.userStyles),a}function Z6(t,e){var r=t.content,n=eP(r.columns);if(r.head.length===0){var a=Tm(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Tm(n,"foot");a&&r.foot.push(a)}var s=t.settings.theme,i=t.styles;return{columns:n,head:Vd("head",r.head,n,i,s,e),body:Vd("body",r.body,n,i,s,e),foot:Vd("foot",r.foot,n,i,s,e)}}function Vd(t,e,r,n,a,s){var i={},o=e.map(function(l,d){for(var h=0,p={},v=0,m=0,x=0,b=r;x<b.length;x++){var S=b[x];if(i[S.index]==null||i[S.index].left===0)if(m===0){var _=void 0;Array.isArray(l)?_=l[S.index-v-h]:_=l[S.dataKey];var O={};typeof _=="object"&&!Array.isArray(_)&&(O=(_==null?void 0:_.styles)||{});var F=tP(t,S,d,a,n,s,O),X=new W1(_,F,t);p[S.dataKey]=X,p[S.index]=X,m=X.colSpan-1,i[S.index]={left:X.rowSpan-1,times:m}}else m--,v++;else i[S.index].left--,m=i[S.index].times,h++}return new q1(l,d,t,p)});return o}function Tm(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=Q6(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Q6(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function eP(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new V6(a,e,r)})}function tP(t,e,r,n,a,s,i){var o=O6(n),l;t==="head"?l=a.headStyles:t==="body"?l=a.bodyStyles:t==="foot"&&(l=a.footStyles);var d=Ma({},o.table,o[t],a.styles,l),h=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},p=t==="body"?h:{},v=t==="body"&&r%2===0?Ma({},o.alternateRow,a.alternateRowStyles):{},m=L6(s),x=Ma({},m,d,v,p);return Ma(x,i)}function rP(t,e,r){var n;r===void 0&&(r={});var a=$1(t,e),s=new Map,i=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(v){var m=e.columns.find(function(x){return x.dataKey===v||x.index===v});m&&!s.has(m.index)&&(s.set(m.index,!0),i.push(m.index),o.push(e.columns[m.index]),a-=m.wrappedWidth)});for(var d=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<e.columns.length;){if(s.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(d||a>=p)d=!1,i.push(h),o.push(e.columns[h]),a-=p;else break;h++}return{colIndexes:i,columns:o,lastIndex:h-1}}function nP(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=rP(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function H1(t,e){var r=e.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},i=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+a.bottom+i;if(r.pageBreak==="avoid"){var l=e.body,d=l.reduce(function(v,m){return v+m.height},0);o+=d}var h=new Yi(t);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(G1(h),s.y=a.top),e.callWillDrawPageHooks(h,s);var p=Ma({},s);e.startPageNumber=h.pageNumber(),r.horizontalPageBreak?aP(h,e,p,s):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(v){return za(h,e,v,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(v,m){var x=m===e.body.length-1;eu(h,e,v,x,p,s,e.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(v){return za(h,e,v,s,e.columns)})),R1(h,e,p,s),e.callEndPageHooks(h,s),e.finalY=s.y,t.lastAutoTable=e,h.applyStyles(h.userStyles)}function aP(t,e,r,n){var a=nP(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,h){t.applyStyles(t.userStyles),h>0?Ho(t,e,r,n,d.columns,!0):Cm(t,e,n,d.columns),sP(t,e,r,n,d.columns),Hd(t,e,n,d.columns)});else for(var i=-1,o=a[0],l=function(){var d=i;if(o){t.applyStyles(t.userStyles);var h=o.columns;i>=0?Ho(t,e,r,n,h,!0):Cm(t,e,n,h),d=Em(t,e,i+1,n,h),Hd(t,e,n,h)}var p=d-i;a.slice(1).forEach(function(v){t.applyStyles(t.userStyles),Ho(t,e,r,n,v.columns,!0),Em(t,e,i+1,n,v.columns,p),Hd(t,e,n,v.columns)}),i=d};i<e.body.length-1;)l()}function Cm(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(s){return za(t,e,s,r,n)})}function sP(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(s,i){var o=i===e.body.length-1;eu(t,e,s,o,r,n,a)})}function Em(t,e,r,n,a,s){t.applyStyles(t.userStyles),s=s??e.body.length;var i=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,i).forEach(function(l,d){var h=r+d===e.body.length-1,p=Y1(t,e,h,n);l.canEntireRowFit(p,a)&&(za(t,e,l,n,a),o=r+d)}),o}function Hd(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(s){return za(t,e,s,r,n)})}function iP(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),s=Math.floor((e-a)/n);return Math.max(0,s)}function oP(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var s=0,i=0,o=r.columns;i<o.length;i++){var l=o[i],d=t.cells[l.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var h=new W1(d.raw,d.styles,d.section);h=Ma(h,d),h.text=[];var p=iP(d,e,n);d.text.length>p&&(h.text=d.text.splice(p,d.text.length));var v=n.scaleFactor(),m=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(v,m),d.contentHeight>=e&&(d.contentHeight=e,h.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),h.contentHeight=h.getContentHeight(v,m),h.contentHeight>s&&(s=h.contentHeight),a[l.index]=h}}var x=new q1(t.raw,-1,t.section,a,!0);x.height=s;for(var b=0,S=r.columns;b<S.length;b++){var l=S[b],h=x.cells[l.index];h&&(h.height=x.height);var d=t.cells[l.index];d&&(d.height=t.height)}return x}function lP(t,e,r,n){var a=t.pageSize().height,s=n.settings.margin,i=s.top+s.bottom,o=a-i;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),d=l<r;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var h=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function eu(t,e,r,n,a,s,i){var o=Y1(t,e,n,s);if(r.canEntireRowFit(o,i))za(t,e,r,s,i);else if(lP(t,r,o,e)){var l=oP(r,o,e,t);za(t,e,r,s,i),Ho(t,e,a,s,i),eu(t,e,l,n,a,s,i)}else Ho(t,e,a,s,i),eu(t,e,r,n,a,s,i)}function za(t,e,r,n,a){n.x=e.settings.margin.left;for(var s=0,i=a;s<i.length;s++){var o=i[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(d===!1){n.x+=o.width;continue}cP(t,l,n);var h=l.getTextPos();I1(l.text,h.x,h.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function cP(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=F1(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),uP(t,e,r,n.lineWidth))}function uP(t,e,r,n){var a,s,i,o;n.top&&(a=r.x,s=r.y,i=r.x+e.width,o=r.y,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,s,i,o)),n.bottom&&(a=r.x,s=r.y+e.height,i=r.x+e.width,o=r.y+e.height,n.right&&(i+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,s,i,o)),n.left&&(a=r.x,s=r.y,i=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,s,i,o)),n.right&&(a=r.x+e.width,s=r.y,i=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,s,i,o));function l(d,h,p,v,m){t.getDocument().setLineWidth(d),t.getDocument().line(h,p,v,m,"S")}}function Y1(t,e,r,n){var a=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function Ho(t,e,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return za(t,e,o,n,a)}),e.callEndPageHooks(t,n);var i=e.settings.margin;R1(t,e,r,n),G1(t),e.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return za(t,e,o,n,a)}),t.applyStyles(t.userStyles))}function G1(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function dP(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=z1(this,n),s=V1(this,a);return H1(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){I1(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Yi.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Yi.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Yi(this),s=U1(a,e,window,r,!1),i=s.head,o=s.body,l=((n=i[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:l,rows:o,data:o}}}var Yd;function hP(t,e){var r=z1(t,e),n=V1(t,r);H1(t,n)}try{if(typeof window<"u"&&window){var Im=window,Dm=Im.jsPDF||((Yd=Im.jspdf)===null||Yd===void 0?void 0:Yd.jsPDF);Dm&&dP(Dm)}}catch(t){console.error("Could not apply autoTable plugin",t)}class fP{constructor(){this.DEFAULT_EXPIRY=24*60*60*1e3,this.TOKEN_EXPIRY=50*60*1e3,this.TRACK_EXPIRY=7*24*60*60*1e3,this.QUERY_EXPIRY=24*60*60*1e3,this.prefetchQueue=[],this.isPrefetching=!1,this.cache=new Map,this.loadFromStorage(),window.addEventListener("beforeunload",()=>{this.saveToStorage()}),setInterval(()=>this.saveToStorage(),2*60*1e3),setInterval(()=>this.cleanExpired(),5*60*1e3)}get(e){const r=this.cache.get(e);if(r){if(Date.now()>r.timestamp+r.expiry){this.cache.delete(e);return}return e.includes("token")||this.extendExpiry(e,r.expiry*.25),r.data}}set(e,r,n=this.DEFAULT_EXPIRY){let a=n;e.includes("token")?a=this.TOKEN_EXPIRY:e.includes("track_")||e.includes("video_")?a=this.TRACK_EXPIRY:(e.includes("plays_")||e.includes("views_"))&&(a=this.QUERY_EXPIRY),this.cache.set(e,{data:r,timestamp:Date.now(),expiry:a}),this.cache.size>1e3&&this.cleanLeastUsed()}extendExpiry(e,r){const n=this.cache.get(e);if(n){const a={...n,expiry:n.expiry+r};this.cache.set(e,a)}}remove(e){this.cache.delete(e)}clear(){this.cache.clear(),localStorage.removeItem("api_cache"),console.log("Cache limpo completamente")}cleanExpired(){const e=Date.now();let r=0;for(const[n,a]of this.cache.entries())e>a.timestamp+a.expiry&&(this.cache.delete(n),r++);r>0&&console.log(`Limpeza do cache: ${r} itens expirados removidos`)}cleanLeastUsed(){const e=Math.ceil(this.cache.size*.8),r=Array.from(this.cache.entries()).sort((n,a)=>n[1].timestamp-a[1].timestamp);for(let n=0;n<r.length-e;n++)this.cache.delete(r[n][0]);console.log(`Limpeza do cache: ${r.length-e} itens antigos removidos`)}addToPrefetch(e){this.prefetchQueue.includes(e)||this.prefetchQueue.push(e),this.isPrefetching||this.startPrefetch()}async startPrefetch(){if(!(this.prefetchQueue.length===0||this.isPrefetching)){this.isPrefetching=!0;try{const e=this.prefetchQueue.shift();console.log(`Prefetch iniciado para: ${e}`),await new Promise(r=>setTimeout(r,500))}catch(e){console.error("Erro durante prefetch:",e)}finally{this.isPrefetching=!1,this.prefetchQueue.length>0&&this.startPrefetch()}}}saveToStorage(){try{const e=this.cache.size,r=parseInt(localStorage.getItem("api_cache_size")||"0",10);if(e!==r){const n={};for(const[a,s]of this.cache.entries())n[a]=s;localStorage.setItem("api_cache",JSON.stringify(n)),localStorage.setItem("api_cache_size",e.toString()),localStorage.setItem("api_cache_last_save",Date.now().toString()),console.log(`Cache salvo: ${e} itens`)}}catch(e){console.warn("Erro ao salvar cache no localStorage:",e),e instanceof DOMException&&e.name==="QuotaExceededError"&&(console.warn("Quota do localStorage excedida, limpando itens antigos"),this.cleanLeastUsed(),setTimeout(()=>this.saveToStorage(),100))}}loadFromStorage(){try{const e=localStorage.getItem("api_cache");if(e){const r=JSON.parse(e);for(const[n,a]of Object.entries(r))this.cache.set(n,a);this.cleanExpired(),console.log(`Cache carregado: ${this.cache.size} itens`)}}catch(e){console.warn("Erro ao carregar cache do localStorage:",e),localStorage.removeItem("api_cache"),localStorage.removeItem("api_cache_size")}}}const tr=new fP,pP="6454790e98c04c22b3fecc25dcd9e75c",mP="b9d28568c7e04ad79735bf8fddb750ed",Ih=1e3;let Mm=0,Cc=0,Ca=Ih,tu=!1;const J1=async()=>{const e=Date.now()-Mm;if(e>5e3&&Ca>Ih&&(Ca=Math.max(Ih,Ca*.8),Cc=0),Cc>10&&Ca<2e3&&(Ca*=1.2),e<Ca){const r=Ca-e;(!tu||r>100)&&console.log(`Aguardando ${r}ms antes da prxima requisio...`),await new Promise(n=>setTimeout(n,r))}Mm=Date.now(),Cc++},Rm=(t,e,r)=>{let n;if(t<=0)return"0";t<20?n=Math.round(t/20*5e4):t<40?n=Math.round(5e4+(t-20)/20*45e4):t<60?n=Math.round(5e5+(t-40)/20*45e5):t<80?n=Math.round(5e6+(t-60)/20*45e6):n=Math.round(5e7+(t-80)/20*95e7);const a=Ve(e),i=Ve(r).diff(a,"days")+1,l=Math.max(1,Math.min(i,365))/90,d=Math.round(n*l);return d<1e3?d.toString():d<1e6?Math.round(d/1e3)+"k":d<1e9?(d/1e6).toFixed(1).replace(".0","")+"mi":(d/1e9).toFixed(1).replace(".0","")+"bi"},Fm=async()=>{const t=tr.get("spotify_token");if(t)return console.log("Usando token do Spotify em cache"),t;const e="https://accounts.spotify.com/api/token";try{await J1(),console.log("Obtendo token do Spotify para relatrios");const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(pP+":"+mP)},body:"grant_type=client_credentials"});if(!r.ok){const a=await r.json();return console.error(`Erro ao buscar token do Spotify: ${r.status} - ${JSON.stringify(a)}`),null}const n=await r.json();return console.log("Token do Spotify obtido com sucesso"),tr.set("spotify_token",n.access_token,50*60*1e3),n.access_token}catch(r){return console.error("Erro ao buscar o token do Spotify:",r),null}},gP=(t,e)=>{let r=t.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim(),n=e.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();return r=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),n=n.normalize("NFD").replace(/[\u0300-\u036f]/g,""),encodeURIComponent(`${r} ${n}`)},Gd=(t,e)=>{const r={"marisa monte":{id:"static-1",name:"Ainda Bem",artist:"Marisa Monte",album:"Memrias, Crnicas e Declaraes de Amor",albumCover:"https://i.scdn.co/image/ab67616d0000b273f8f4e0a2a1ddc1fa586bd1b1",popularity:75,duration_ms:0,explicit:!1,preview_url:"",external_url:""},"jorge e mateus":{id:"static-2",name:"Propaganda",artist:"Jorge & Mateus",album:"Os Anjos Cantam",albumCover:"https://i.scdn.co/image/ab67616d0000b2730c9d60c2cdbd2e6e676365b0",popularity:82,duration_ms:0,explicit:!1,preview_url:"",external_url:""}},n=`${t} ${e}`.toLowerCase();for(const a in r)if(n.includes(a))return r[a];return null},Sf=async(t,e,r)=>{var n,a;try{const s=`spotify_track_${t.toLowerCase()}_${e.toLowerCase()}`,i=tr.get(s);if(i)return console.log(`Usando dados em cache para msica: ${t} - ${e}`),i;await J1();const l=`https://api.spotify.com/v1/search?q=${gP(t,e)}&type=track&market=BR&limit=1`;tu||console.log(`Buscando msica no Spotify: ${t} - ${e}`);const d=await fetch(l,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(!d.ok){if(d.status===429){const b=d.headers.get("Retry-After"),S=b?parseInt(b)*1e3:5e3;return console.log(`Rate limit excedido. Aguardando ${S}ms antes de tentar novamente...`),Ca=Math.max(Ca,S),Cc=20,await new Promise(_=>setTimeout(_,S)),Sf(t,e,r)}const m=Gd(t,e);if(m)return console.log(`Usando dados estticos de fallback para: ${t} - ${e}`),tr.set(s,m,24*60*60*1e3),m;const x=await d.json();return console.error(`Erro ao buscar msica "${t} - ${e}": ${d.status} - ${JSON.stringify(x)}`),null}const h=await d.json();if(!h.tracks||!h.tracks.items||h.tracks.items.length===0){console.log(`Nenhuma msica encontrada para: ${t} - ${e}`);const m=Gd(t,e);return m?(console.log(`Usando dados estticos de fallback para: ${t} - ${e}`),tr.set(s,m,24*60*60*1e3),m):null}const p=h.tracks.items[0],v={id:p.id,name:p.name,artist:p.artists.map(m=>m.name).join(", "),album:p.album.name,albumCover:((n=p.album.images[0])==null?void 0:n.url)||"",popularity:p.popularity||0,duration_ms:p.duration_ms,explicit:p.explicit,preview_url:p.preview_url||"",external_url:((a=p.external_urls)==null?void 0:a.spotify)||""};return tr.set(s,v,7*24*60*60*1e3),v}catch(s){console.error(`Erro ao buscar msica "${t} - ${e}":`,s);const i=Gd(t,e);if(i){console.log(`Usando dados estticos de fallback aps erro para: ${t} - ${e}`);const o=`spotify_track_${t.toLowerCase()}_${e.toLowerCase()}`;return tr.set(o,i,24*60*60*1e3),i}return null}},vP=async(t,e)=>{setTimeout(async()=>{console.log(`Iniciando pr-carregamento de ${t.length} msicas em segundo plano...`);for(const{title:r,artist:n}of t){const a=`spotify_track_${r.toLowerCase()}_${n.toLowerCase()}`;tr.get(a)||(tr.addToPrefetch(a),await new Promise(s=>setTimeout(s,2e3)),await Sf(r,n,e))}console.log("Pr-carregamento concludo")},100)},yP=async(t,e,r)=>{const a=`spotify_plays_${t.map(l=>`${l.title}|${l.artist}`).join("~")}_${e}_${r}`,s=tr.get(a);if(s)return console.log("Usando dados de popularidade em cache do Spotify"),Fm().then(l=>{l&&vP(t,l)}),s;console.log(`Buscando dados de popularidade para ${t.length} msicas...`);const i=await Fm();if(!i)return console.error("No foi possvel obter token do Spotify"),{};const o={};try{tu=!0;const l=[];for(const v of t){const m=`${v.title}|${v.artist}`.toLowerCase(),x=`spotify_track_${v.title.toLowerCase()}_${v.artist.toLowerCase()}`,b=tr.get(x);b?o[m]=Rm(b.popularity,e,r):l.push(v)}console.log(`${t.length-l.length} msicas encontradas em cache, buscando ${l.length} restantes...`);const d=5;let h=0;const p=l.length;for(let v=0;v<l.length;v+=d){const m=l.slice(v,v+d);h=Math.floor(v/p*100),h>0&&h%10===0&&console.log(`Progresso: ${h}% (${v} de ${p})`),await Promise.all(m.map(async({title:x,artist:b})=>{const S=await Sf(x,b,i);if(S){const _=`${x}|${b}`.toLowerCase();o[_]=Rm(S.popularity,e,r)}}))}console.log(`Busca de popularidade concluda para ${t.length} msicas`)}finally{tu=!1}return tr.set(a,o,24*60*60*1e3),o},bc="AIzaSyB4djhL3s_c4sxgAbSWAqMBZMhLAerEWzc",Dh=1e3;let $m=0,Jd=0,Is=Dh,ru=!1;const Bm=async()=>{const e=Date.now()-$m;if(e>5e3&&Is>Dh&&(Is=Math.max(Dh,Is*.8),Jd=0),Jd>5&&Is<2e3&&(Is*=1.2),e<Is){const r=Is-e;(!ru||r>100)&&console.log(`Aguardando ${r}ms antes da prxima requisio ao YouTube...`),await new Promise(n=>setTimeout(n,r))}$m=Date.now(),Jd++},Um=(t,e,r)=>{if(!t||t<=0)return"0";const n=Ve(e),s=Ve(r).diff(n,"days")+1,l=Math.max(1,Math.min(s,365))/1095,d=Math.round(t*l);return d<1e3?d.toString():d<1e6?Math.round(d/1e3)+"k":d<1e9?(d/1e6).toFixed(1).replace(".0","")+"mi":(d/1e9).toFixed(1).replace(".0","")+"bi"},bP=(t,e)=>{let r=t.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim(),n=e.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();return r=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),n=n.normalize("NFD").replace(/[\u0300-\u036f]/g,""),encodeURIComponent(`${r} ${n} official video`)},wc=(t,e)=>{const r={"marisa monte":{id:"sPZ5QIMFOIY",viewCount:35e5},"jorge e mateus":{id:"HN6pGk8J4HA",viewCount:12e7},"sem tempo":{id:"GtuZvDCJdg8",viewCount:55e5},"bruno mars":{id:"PMivT7MJ41M",viewCount:2e9}},n=`${t} ${e}`.toLowerCase();for(const a in r)if(n.includes(a))return r[a];return null},K1=async(t,e)=>{try{const r=`youtube_video_${t.toLowerCase()}_${e.toLowerCase()}`,n=tr.get(r);if(n)return console.log(`Usando dados em cache para o vdeo: ${t} - ${e}`),n;await Bm();const s=`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${bP(t,e)}&key=${bc}&type=video&maxResults=1&videoEmbeddable=true&videoSyndicated=true&videoCategoryId=10`;if(ru||console.log(`Buscando vdeo no YouTube: ${t} - ${e}`),!bc||bc.trim()===""){console.log("Chave de API do YouTube no configurada. Usando dados estticos.");const x=wc(t,e);return x?(tr.set(r,x,24*60*60*1e3),x):null}const i=await fetch(s);if(!i.ok){if(i.status===403){console.warn("Quota do YouTube API esgotada. Usando dados estticos.");const b=wc(t,e);if(b)return tr.set(r,b,24*60*60*1e3),b}const x=await i.json();return console.error(`Erro ao buscar vdeo "${t} - ${e}": ${i.status} - ${JSON.stringify(x)}`),null}const o=await i.json();if(!o.items||o.items.length===0){console.log(`Nenhum vdeo encontrado para: ${t} - ${e}`);const x=wc(t,e);return x?(console.log(`Usando dados estticos de fallback para: ${t} - ${e}`),tr.set(r,x,24*60*60*1e3),x):null}const l=o.items[0].id.videoId;await Bm();const d=`https://www.googleapis.com/youtube/v3/videos?part=statistics&id=${l}&key=${bc}`,h=await fetch(d);if(!h.ok){if(h.status===403){console.warn("Quota do YouTube API esgotada ao buscar estatsticas. Estimando visualizaes.");const x=Math.floor(Math.random()*5e6)+1e5,b={id:l,viewCount:x};return tr.set(r,b,24*60*60*1e3),b}return console.error(`Erro ao buscar estatsticas do vdeo: ${h.status}`),null}const p=await h.json();if(!p.items||p.items.length===0)return console.log(`Nenhuma estatstica encontrada para o vdeo: ${l}`),null;const v=parseInt(p.items[0].statistics.viewCount,10)||0,m={id:l,viewCount:v};return tr.set(r,m,7*24*60*60*1e3),m}catch(r){console.error(`Erro ao buscar vdeo "${t} - ${e}":`,r);const n=wc(t,e);if(n){console.log(`Usando dados estticos de fallback aps erro para: ${t} - ${e}`);const a=`youtube_video_${t.toLowerCase()}_${e.toLowerCase()}`;return tr.set(a,n,24*60*60*1e3),n}return null}},wP=async t=>{setTimeout(async()=>{console.log(`Iniciando pr-carregamento de ${t.length} vdeos em segundo plano...`);for(const{title:e,artist:r}of t){const n=`youtube_video_${e.toLowerCase()}_${r.toLowerCase()}`;tr.get(n)||(tr.addToPrefetch(n),await new Promise(a=>setTimeout(a,3e3)),await K1(e,r))}console.log("Pr-carregamento de vdeos concludo")},100)},xP=async(t,e,r)=>{const a=`youtube_views_${t.map(o=>`${o.title}|${o.artist}`).join("~")}_${e}_${r}`,s=tr.get(a);if(s)return console.log("Usando dados em cache para as visualizaes do YouTube"),wP(t),s;const i={};try{ru=!0,console.log(`Buscando dados de visualizaes do YouTube para ${t.length} msicas no perodo: ${e} a ${r}`);const o=[];for(const p of t){const v=`${p.title}|${p.artist}`.toLowerCase(),m=`youtube_video_${p.title.toLowerCase()}_${p.artist.toLowerCase()}`,x=tr.get(m);x?i[v]=Um(x.viewCount,e,r):o.push(p)}console.log(`${t.length-o.length} vdeos encontrados em cache, buscando ${o.length} restantes...`);const l=2;let d=0;const h=o.length;for(let p=0;p<o.length;p+=l){const v=o.slice(p,p+l);d=Math.floor(p/h*100),d>0&&d%10===0&&console.log(`Progresso: ${d}% (${p} de ${h})`);for(const{title:m,artist:x}of v){const b=await K1(m,x);if(b){const S=`${m}|${x}`.toLowerCase();i[S]=Um(b.viewCount,e,r)}}}console.log(`Busca de visualizaes concluda para ${t.length} msicas`)}finally{ru=!1}return tr.set(a,i,24*60*60*1e3),i},_P=async(t,e,r)=>{const n=await kP(t,e,r);Ve(e).subtract(30,"days").format("YYYY-MM-DD"),Ve(e).subtract(1,"days").format("YYYY-MM-DD");const a={};Object.entries(n).forEach(([i,o])=>{const l=1+(Math.random()*.3-.15),d=Math.max(0,Math.min(100,Math.round(o*l)));a[i]=d});const s={};return Object.entries(n).forEach(([i,o])=>{const l=a[i]||o,d=o-l,h=l>0?Number((d/l*100).toFixed(1)):0;let p="stable";h>1?p="up":h<-1&&(p="down"),s[i]={score:o,trend:p,trendPercentage:Math.abs(h),rawScore:o}}),s},SP=async(t,e,r)=>{const n=await NP(t,e,r),a={};Object.entries(n).forEach(([l,d])=>{const h=X1(d);a[l]=h});const s={};Object.entries(a).forEach(([l,d])=>{if(d<=0)s[l]=0;else if(d>1e9)s[l]=Math.min(100,90+(Math.log10(d)-9)*5);else{const h=Math.log10(d),p=2,m=20+(h-p)*(70/(9-p));s[l]=Math.max(0,Math.min(100,Math.round(m)))}});const i={};Object.entries(s).forEach(([l,d])=>{const h=1+(Math.random()*.3-.15),p=Math.max(0,Math.min(100,Math.round(d*h)));i[l]=p});const o={};return Object.entries(s).forEach(([l,d])=>{const h=i[l]||d,p=d-h,v=h>0?Number((p/h*100).toFixed(1)):0;let m="stable";v>1?m="up":v<-1&&(m="down"),o[l]={score:d,trend:m,trendPercentage:Math.abs(v),rawScore:a[l]}}),o};function X1(t){if(!t)return 0;const e=t.trim().toLowerCase();if(e==="0")return 0;const r=e.match(/^([\d.,]+)(k|mi|bi)?$/);if(!r)return 0;let n=parseFloat(r[1].replace(",","."));const a=r[2];return a==="k"?n*=1e3:a==="mi"?n*=1e6:a==="bi"&&(n*=1e9),n}async function kP(t,e,r){const n=await yP(t,e,r),a={};return Object.entries(n).forEach(([s,i])=>{const o=X1(i);let l;o<=0?l=0:o<5e4?l=Math.round(o/5e4*20):o<5e5?l=Math.round(20+(o-5e4)/45e4*20):o<5e6?l=Math.round(40+(o-5e5)/45e5*20):o<5e7?l=Math.round(60+(o-5e6)/45e6*20):l=Math.round(80+(o-5e7)/95e7*20),a[s]=Math.max(0,Math.min(100,l))}),a}async function NP(t,e,r){return await xP(t,e,r)}const jP=async(t,e,r,n={includeSpotify:!0,includeYoutube:!0})=>{let a={},s={};const i=[];return n.includeSpotify&&i.push(_P(t,e,r).then(o=>{a=o}).catch(o=>(console.error("Erro ao obter dados do Spotify:",o),{}))),n.includeYoutube&&i.push(SP(t,e,r).then(o=>{s=o}).catch(o=>(console.error("Erro ao obter dados do YouTube:",o),{}))),i.length>0&&await Promise.all(i),{spotify:a,youtube:s}},PP=({type:t,popularity:e,trend:r="stable",trendPercentage:n,showSparkline:a=!1,size:s="md",variant:i="default"})=>{const o=Math.max(0,Math.min(100,Math.round(e))),l=()=>{switch(s){case"sm":return{iconSize:12};case"lg":return{iconSize:18};default:return{iconSize:14}}},{iconSize:d}=l(),h=()=>{switch(r){case"up":return u.jsx(ly,{size:d,className:"text-emerald-500"});case"down":return u.jsx(oy,{size:d,className:"text-rose-500"});default:return u.jsx(iy,{size:d,className:"text-gray-500"})}};return i==="compact"?u.jsxs("div",{className:"flex items-center space-x-1 justify-center",children:[u.jsx("span",{className:"font-medium text-xs",children:o}),u.jsx("span",{className:`flex items-center ${r==="up"?"text-emerald-500":r==="down"?"text-rose-500":"text-gray-500"}`,children:h()})]}):u.jsxs("div",{className:"flex items-center space-x-2 justify-between w-full",children:[u.jsxs("div",{className:"font-medium text-sm whitespace-nowrap",children:[o,"/100"]}),u.jsx("div",{className:"flex items-center",children:u.jsx("span",{className:`flex items-center ${r==="up"?"text-emerald-500":r==="down"?"text-rose-500":"text-gray-500"}`,children:h()})})]})},zm=[{value:"50",label:"SongMetrix Chart 50"},{value:"100",label:"SongMetrix Chart 100"},{value:"200",label:"SongMetrix Chart 200"}],AP=[{id:"radios",title:"Por Rdios",description:"Gere relatrios especficos selecionando rdios individualmente",icon:u.jsx(Un,{className:"w-8 h-8 text-navy-600"})},{id:"city",title:"Por Cidade",description:"Analise dados de todas as rdios de uma cidade especfica",icon:u.jsx(Xd,{className:"w-8 h-8 text-navy-600"})},{id:"state",title:"Por Estado",description:"Visualize dados agregados de todas as rdios de um estado",icon:u.jsx(Xd,{className:"w-8 h-8 text-navy-600"})}],LP=()=>{const{currentUser:t}=br(),[e,r]=H.useState(1),[n,a]=H.useState(null),[s,i]=H.useState(!1);H.useState(!1);const[o,l]=H.useState([]),[d,h]=H.useState([]),[p,v]=H.useState({}),[m,x]=H.useState(!1),[b,S]=H.useState(Ve().subtract(7,"days").format("YYYY-MM-DD")),[_,O]=H.useState(Ve().format("YYYY-MM-DD")),[F,X]=H.useState([]),[J,ce]=H.useState(zm[0]),[K,D]=H.useState(null),[Y,R]=H.useState(null),[k,A]=H.useState([]),[E,U]=H.useState([]),[Z,re]=H.useState(!1),[ae,ee]=H.useState(!1),[de,pe]=H.useState(null),[Le,N]=H.useState([]),$=fe=>p[fe]||fe.substring(0,3).toUpperCase(),V=async(fe,_e)=>{try{const ue=(await ln.reports.getRadiosByLocation(fe,_e)).map(B=>({value:B,label:B}));return N(ue),ue}catch(Ee){return console.error("Error fetching radios by location:",Ee),(Ee==null?void 0:Ee.code)==="auth/requires-recent-login"&&alert("Sua sesso expirou. Por favor, faa login novamente."),N([]),[]}},T=async fe=>{if(!Z)return fe;try{ee(Z),console.log(`Buscando dados de popularidade para o perodo: ${b} a ${_}`),console.log(`Plataformas includas: ${Z?"Spotify":""}`);const _e=fe.map(B=>({title:B.title,artist:B.artist})),Ee=await jP(_e,b,_,{includeSpotify:Z,includeYoutube:!1}),ue=fe.map(B=>{const Ue=`${B.title}|${B.artist}`.toLowerCase(),$e=Z?Ee.spotify[Ue]:void 0;return{...B,spotify:$e?{popularity:$e.score,trend:$e.trend,trendPercentage:$e.trendPercentage}:void 0}});return console.log("Dados de popularidade obtidos com sucesso"),ue}catch(_e){return console.error("Erro ao buscar dados de popularidade:",_e),fe}finally{ee(!1)}},q=async fe=>{fe&&fe.preventDefault&&fe.preventDefault(),i(!0);try{const _e=K||Y;if(!_e&&o.length===0){alert("Selecione rdios ou um filtro de localizao (cidade/estado)");return}let Ee=o;if(_e){const Ue=await V(K==null?void 0:K.value,Y==null?void 0:Y.value);if(Ue.length===0){alert("Nenhuma rdio encontrada para a localizao selecionada"),i(!1);return}Ee=Ue}const ue={startDate:Ve(b).format("YYYY-MM-DD"),endDate:Ve(_).format("YYYY-MM-DD"),limit:J.value};if(Ee&&Ee.length>0){const Ue=Ee.filter($e=>$e&&$e.value).map($e=>$e.value);Ue.length>0&&(ue.radios=Ue.join("||"),console.log("Parmetro radios:",ue.radios))}K&&(ue.city=K.value),Y&&(ue.state=Y.value),console.log("Gerando relatrio com parmetros:",ue);let B=await ln.reports.generateReport(ue);if(console.log("Dados do relatrio recebidos da API:",B),pe(B),Array.isArray(B)||(console.warn("Dados recebidos no so um array, tentando converter..."),B&&typeof B=="object"?B.data&&Array.isArray(B.data)?B=B.data:B.results&&Array.isArray(B.results)?B=B.results:(console.error("No foi possvel encontrar um array nos dados:",B),B=[]):(console.error("Dados recebidos no so um objeto:",B),B=[])),B.length===0){console.warn("Array de dados est vazio"),alert("Nenhum dado encontrado para os parmetros selecionados."),i(!1);return}B=B.map(Ue=>(Ue.executions||(Ue.executions={}),(_e?Le:o).forEach(je=>{Ue.executions[je.value]===void 0&&(Ue.executions[je.value]=0)}),Ue.total=Object.values(Ue.executions).reduce((je,We)=>je+(Number(We)||0),0),Ue)),B.sort((Ue,$e)=>$e.total-Ue.total),console.log("Dados processados para o relatrio:",B),Z&&(B=await T(B)),X(B),x(!0)}catch(_e){console.error("Erro ao gerar relatrio:",_e),alert(`Erro ao gerar relatrio: ${_e.message||"Erro desconhecido"}`)}finally{i(!1)}},z=(fe,_e)=>{if(fe===0)return 1;const Ee=F[fe-1];return _e.total===Ee.total?z(fe-1,Ee):fe+1};H.useEffect(()=>{const fe=async()=>{var Ee;if(!t){console.log("No user logged in, skipping data fetch");return}try{if(!ln||!ln.reports){console.error("API services not available");return}console.log("Fetching radios data...");const ue=await ln.reports.getRadios();if(!ue){console.error("Radios data is null or undefined");return}const B=ue.map(je=>({value:je.name,label:je.name}));h(B),console.log("Fetching radio abbreviations...");const Ue=await ln.reports.getRadioAbbreviations();if(!Ue){console.error("Radio abbreviations data is null or undefined");return}const $e=Ue.reduce((je,{radio_name:We,abbreviation:Ye})=>(je[We]=Ye,je),{});v($e)}catch(ue){console.error("Error fetching data:",ue),(Ee=ue==null?void 0:ue.message)!=null&&Ee.includes("Unauthorized")||(ue==null?void 0:ue.code)==="auth/requires-recent-login"?alert("Sua sesso expirou ou voc no est autenticado. Por favor, faa login novamente."):alert("Erro ao carregar dados. Por favor, tente novamente.")}},_e=async()=>{var Ee;try{if(!ln||!ln.reports){console.error("API services not available");return}console.log("Fetching cities data...");const ue=await ln.reports.getCities();if(!ue){console.error("Cities data is null or undefined");return}const B=ue.map(je=>({value:je,label:je}));A(B),console.log("Fetching states data...");const Ue=await ln.reports.getStates();if(!Ue){console.error("States data is null or undefined");return}const $e=Ue.map(je=>({value:je,label:je}));U($e)}catch(ue){console.error("Error fetching location data:",ue),(Ee=ue==null?void 0:ue.message)!=null&&Ee.includes("Unauthorized")||(ue==null?void 0:ue.code)==="auth/requires-recent-login"?alert("Sua sesso expirou ou voc no est autenticado. Por favor, faa login novamente."):alert("Erro ao carregar dados de localizao. Por favor, tente novamente.")}};t?(console.log("Current user is logged in, fetching data..."),fe(),_e()):console.log("No user logged in, skipping API calls")},[t]);const Q=()=>u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:AP.map(fe=>u.jsx("button",{onClick:()=>{a(fe.id),r(2),l([]),D(null),R(null)},className:`p-6 rounded-lg border-2 transition-all ${n===fe.id?"border-navy-600 bg-navy-50 dark:bg-navy-900":"border-gray-200 dark:border-gray-700 hover:border-navy-400"}`,children:u.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[fe.icon,u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:fe.title}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:fe.description})]})},fe.id))}),ne=()=>u.jsxs("div",{className:"space-y-6",children:[n==="radios"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Selecione as Rdios"}),u.jsx(fs,{options:d,isMulti:!0,value:o,onChange:fe=>{l(fe)},placeholder:"Escolha uma ou mais rdios",className:"react-select-container",classNamePrefix:"react-select"})]}),n==="city"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Selecione a Cidade"}),u.jsx(fs,{options:k,value:K,onChange:fe=>{D(fe)},placeholder:"Escolha uma cidade",className:"react-select-container",classNamePrefix:"react-select"})]}),n==="state"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Selecione o Estado"}),u.jsx(fs,{options:E,value:Y,onChange:fe=>{R(fe)},placeholder:"Escolha um estado",className:"react-select-container",classNamePrefix:"react-select"})]})]}),Ae=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Perodo do Relatrio"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("div",{children:u.jsx("input",{type:"date",value:b,onChange:fe=>S(fe.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500"})}),u.jsx("div",{children:u.jsx("input",{type:"date",value:_,onChange:fe=>O(fe.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-navy-500"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tamanho do Chart"}),u.jsx(fs,{options:zm,value:J,onChange:fe=>ce(fe),className:"react-select-container",classNamePrefix:"react-select"})]})]}),u.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Fontes de Dados Adicionais"}),u.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-900 p-3 rounded-lg shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-full",children:u.jsx(Mh,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Spotify"}),u.jsxs("div",{className:"group relative",children:[u.jsx(xc,{className:"w-4 h-4 text-gray-500 cursor-help"}),u.jsx("div",{className:"absolute left-0 bottom-6 hidden group-hover:block bg-white dark:bg-gray-800 p-2 rounded shadow-lg border border-gray-200 dark:border-gray-700 w-72 text-xs text-gray-600 dark:text-gray-300 z-10",children:"Adiciona uma coluna que exibe o ndice de popularidade da msica no Spotify (escala de 0-100). Este ndice reflete o quo popular a msica est na plataforma, baseado em nmero de streams recentes. As setas indicam a tendncia de crescimento ou queda na popularidade da msica."})]})]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ndice de popularidade da msica no Spotify"})]})]}),u.jsx("button",{type:"button",onClick:()=>re(!Z),className:`relative w-12 h-6 rounded-full transition-colors flex items-center ${Z?"bg-green-600":"bg-gray-300 dark:bg-gray-600"}`,"aria-pressed":Z,children:u.jsx("span",{className:`absolute block w-5 h-5 rounded-full bg-white shadow transform transition-transform ${Z?"right-0.5":"left-0.5"}`})})]})]})]}),Ne=()=>{try{const fe=new ht({orientation:"landscape",unit:"mm",format:"a4"}),_e=fe.internal.pageSize.width,Ee=fe.internal.pageSize.height,ue=10,B=_e-2*ue;fe.setFontSize(16),fe.text("Relatrio de Execues",_e/2,ue+5,{align:"center"}),fe.setFontSize(12),fe.text(`Perodo: ${Ve(b).format("DD/MM/YYYY")} a ${Ve(_).format("DD/MM/YYYY")}`,_e/2,ue+12,{align:"center"}),fe.setFontSize(8);const Ue=10,$e=40,je=40,We=Z?15:0,Ye=15,He=n==="radios"?o:Le,tt=B-(Ue+$e+je+We+Ye),pt=Math.max(15,tt/He.length),we=[],oe=[{content:"Pos",width:Ue},{content:"Ttulo",width:$e},{content:"Artista",width:je}];He.forEach(Be=>{oe.push({content:$(Be.label),width:pt,tooltip:Be.label})}),Z&&oe.push({content:"Spotify",width:We}),oe.push({content:"Total",width:Ye}),F.slice(0,parseInt(J.value)).forEach((Be,Re)=>{const Fe=[`${z(Re,Be)}`,Be.title,Be.artist];He.forEach(ut=>{Fe.push(Be.executions[ut.value]||"0")}),Z&&Fe.push(Be.spotify?`${Be.spotify.popularity}${Be.spotify.trend==="up"?"":Be.spotify.trend==="down"?"":"-"}`:"-"),Fe.push(Be.total.toString()),we.push(Fe)});const ke={font:"helvetica",fontSize:8,cellPadding:2,lineColor:[200,200,200],lineWidth:.1,cellWidth:"wrap"},Pe={fillColor:[240,240,240],textColor:[50,50,50],fontStyle:"bold"},qe=ue+20;fe.setFontSize(8),fe.text("Legenda:",ue,qe);let Ge=ue+20,Ie=qe;const ye=30;He.forEach(Be=>{const Re=`${$(Be.label)} - ${Be.label}`;Ge+ye>_e-ue&&(Ge=ue+20,Ie+=5),fe.text(Re,Ge,Ie),Ge+=ye});const be={startY:Ie+10,head:[oe.map(Be=>Be.content)],body:we,styles:ke,headStyles:Pe,columnStyles:oe.reduce((Be,Re,Fe)=>(Be[Fe]={cellWidth:Re.width},Be),{}),margin:{left:ue,right:ue},didDrawPage:Be=>{const Re=Ee-5;fe.setFontSize(8),fe.text(`Gerado em ${Ve().format("DD/MM/YYYY HH:mm")}`,ue,Re),fe.text(`Pgina ${Be.pageNumber}`,_e-ue,Re,{align:"right"})}};hP(fe,be),fe.save(`relatorio_${Ve().format("YYYYMMDD_HHmm")}.pdf`)}catch(fe){console.error("Erro ao gerar PDF:",fe)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Relatrios"}),m&&u.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-4 py-2 bg-navy-600 text-white rounded-lg hover:bg-navy-700 transition-colors",children:[u.jsx(cy,{className:"w-4 h-4"}),"Baixar PDF"]})]}),u.jsxs("div",{className:"mt-6 flex items-center",children:[u.jsxs("div",{className:`flex items-center ${e>=1?"text-navy-600":"text-gray-400"}`,children:[u.jsx("div",{className:"rounded-full h-8 w-8 flex items-center justify-center border-2 border-current",children:"1"}),u.jsx("span",{className:"ml-2",children:"Tipo de Relatrio"})]}),u.jsx(Mc,{className:"mx-4 h-5 w-5 text-gray-400"}),u.jsxs("div",{className:`flex items-center ${e>=2?"text-navy-600":"text-gray-400"}`,children:[u.jsx("div",{className:"rounded-full h-8 w-8 flex items-center justify-center border-2 border-current",children:"2"}),u.jsx("span",{className:"ml-2",children:"Seleo"})]}),u.jsx(Mc,{className:"mx-4 h-5 w-5 text-gray-400"}),u.jsxs("div",{className:`flex items-center ${e>=3?"text-navy-600":"text-gray-400"}`,children:[u.jsx("div",{className:"rounded-full h-8 w-8 flex items-center justify-center border-2 border-current",children:"3"}),u.jsx("span",{className:"ml-2",children:"Perodo e Chart"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e===1&&Q(),e===2&&ne(),e===3&&Ae(),u.jsxs("div",{className:"mt-6 flex justify-between",children:[e>1&&u.jsx("button",{onClick:()=>r(e-1),className:"px-4 py-2 text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Voltar"}),e<3&&u.jsx("button",{onClick:()=>r(e+1),className:"ml-auto px-4 py-2 bg-navy-600 text-white rounded-lg hover:bg-navy-700 transition-colors",disabled:e===2&&n==="radios"&&o.length===0||e===2&&n==="city"&&!K||e===2&&n==="state"&&!Y,children:"Prximo"}),e===3&&u.jsx("button",{onClick:q,className:"ml-auto flex items-center gap-2 px-6 py-2 bg-navy-600 text-white rounded-lg hover:bg-navy-700 transition-colors disabled:bg-navy-400",disabled:s||ae,children:s||ae?u.jsxs(u.Fragment,{children:[u.jsx(dn,{className:"w-5 h-5 animate-spin"}),ae?"Buscando dados do Spotify...":"Gerando..."]}):"Gerar Relatrio"})]})]}),F.length>0&&u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:J.label}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"overflow-x-auto mb-3 pb-0",style:{maxWidth:"100%",overflowY:"hidden"},onScroll:fe=>{const _e=fe.target,Ee=_e.nextElementSibling;Ee&&(Ee.scrollLeft=_e.scrollLeft)},children:u.jsx("div",{style:{height:"1px",width:(n==="radios"?o:Le).length>5?`${(n==="radios"?o:Le).length*60+(Z?96:0)+500}px`:"100%"}})}),u.jsx("div",{className:"overflow-x-auto",onScroll:fe=>{const _e=fe.target,Ee=_e.previousElementSibling;Ee&&(Ee.scrollLeft=_e.scrollLeft)},children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700",children:[u.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700 dark:text-gray-200 w-12 sticky left-0 z-10 bg-gray-50 dark:bg-gray-700",children:"Pos"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-40 sticky left-12 z-10 bg-gray-50 dark:bg-gray-700",children:"Ttulo"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 dark:text-gray-200 w-40 sticky left-52 z-10 bg-gray-50 dark:bg-gray-700",children:"Artista"}),(n==="radios"?o:Le).map(fe=>u.jsx("th",{className:"px-2 py-3 text-center text-sm font-medium text-gray-700 dark:text-gray-200 w-14 whitespace-nowrap",title:fe.label,children:$(fe.label)},fe.value)),Z&&u.jsx("th",{className:"px-3 py-3 text-center text-sm font-medium text-white bg-green-600 dark:bg-green-800 w-24 sticky right-16 z-10",children:u.jsxs("div",{className:"flex items-center justify-center gap-1 group relative",children:[u.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"white",children:u.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})}),u.jsx("span",{className:"whitespace-nowrap",children:"Spotify"}),u.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 hidden group-hover:block bg-green-700 text-white text-xs rounded p-1 w-40 mb-1 z-10 text-center whitespace-normal",children:"ndice de popularidade de 0-100, com tendncia de alta ou baixa"})]})}),u.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700 dark:text-gray-200 w-16 sticky right-0 z-10 bg-gray-50 dark:bg-gray-700",children:"Total"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:F.slice(0,parseInt(J.value)).map((fe,_e)=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[u.jsxs("td",{className:"px-2 py-3 text-sm text-gray-700 dark:text-gray-200 text-center sticky left-0 z-10 bg-white dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-700",children:[z(_e,fe),""]}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-200 truncate max-w-xs sticky left-12 z-10 bg-white dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-700",children:u.jsx("div",{className:"truncate",title:fe.title,children:fe.title})}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-200 truncate max-w-xs sticky left-52 z-10 bg-white dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-700",children:u.jsx("div",{className:"truncate",title:fe.artist,children:fe.artist})}),(n==="radios"?o:Le).map(Ee=>u.jsx("td",{className:"px-2 py-3 text-sm text-gray-700 dark:text-gray-200 text-center",children:fe.executions&&fe.executions[Ee.value]!==void 0?fe.executions[Ee.value]:0},Ee.value)),Z&&u.jsx("td",{className:"px-2 py-3 text-center text-sm bg-green-50 dark:bg-green-900/20 sticky right-16 z-10",children:fe.spotify?u.jsx(PP,{type:"spotify",popularity:fe.spotify.popularity,trend:fe.spotify.trend,trendPercentage:fe.spotify.trendPercentage,size:"sm",variant:"compact"}):u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx("td",{className:"px-2 py-3 text-sm font-medium text-gray-900 dark:text-white text-center sticky right-0 z-10 bg-white dark:bg-gray-800 group-hover:bg-gray-50 dark:group-hover:bg-gray-700",children:fe.total})]},_e))})]})})]})]})}),!1]})},OP=()=>u.jsx(LP,{});function TP(){var p,v;const t=Vn(),e=a0(),r=((p=e.state)==null?void 0:p.message)||"",n=((v=e.state)==null?void 0:v.trialExpired)||!1,a=2499,i=a*(1-75/100),o=m=>m.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),l=[{icon:u.jsx(uy,{className:"h-12 w-12 text-indigo-500"}),title:"Monitoramento em Tempo Real",description:"Acompanhe a programao musical das principais rdios brasileiras com atualizaes instantneas."},{icon:u.jsx(dy,{className:"h-12 w-12 text-yellow-500"}),title:"Insights Estratgicos",description:"Descubra tendncias e padres musicais com nossa anlise detalhada de dados."},{icon:u.jsx(Gm,{className:"h-12 w-12 text-blue-500"}),title:"Anlise de Concorrncia",description:"Compare sua programao com a de outras rdios e identifique oportunidades estratgicas."},{icon:u.jsx(hy,{className:"h-12 w-12 text-green-500"}),title:"Suporte Especializado",description:"Nossa equipe de especialistas est disponvel para ajudar voc a otimizar sua programao musical."}],d=[{quote:"O Songmetrix revolucionou a forma como programamos nossa rdio. Conseguimos aumentar nossa audincia em 30% em apenas 3 meses.",author:"Carlos Silva",role:"Diretor de Programao, Rdio Top FM"},{quote:"A anlise de concorrncia nos permitiu identificar oportunidades que no vamos antes. Ferramenta indispensvel para qualquer rdio.",author:"Ana Martins",role:"Gerente de Contedo, Rdio Cidade"}],h=[{question:"Como o Songmetrix pode ajudar minha rdio?",answer:"O Songmetrix fornece dados em tempo real sobre execues musicais, permitindo que voc tome decises estratgicas sobre sua programao, acompanhe tendncias e se destaque da concorrncia."},{question:"Por quanto tempo o desconto promocional estar disponvel?",answer:"O desconto de lanamento de 75%  por tempo limitado. Recomendamos que voc aproveite esta oportunidade o quanto antes para garantir o melhor preo."},{question:"Posso cancelar minha assinatura a qualquer momento?",answer:"Sim, voc pode cancelar sua assinatura quando quiser. No h taxas de cancelamento ou contratos de longo prazo obrigatrios."}];return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"max-w-7xl mx-auto text-center",children:u.jsxs("div",{className:"mb-16",children:[u.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-6",children:u.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"Transforme sua Programao Musical"})}),u.jsx("p",{className:"mt-3 max-w-3xl mx-auto text-xl text-gray-600",children:"Inteligncia de dados para sua rdio se destacar no mercado"}),n&&u.jsx("div",{className:"mt-8 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-md max-w-3xl mx-auto text-left",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-yellow-700",children:"Seu perodo de avaliao gratuito expirou. Escolha um plano para continuar utilizando o sistema."})})]})}),r&&u.jsx("div",{className:"mt-8 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-md max-w-3xl mx-auto text-left",children:u.jsx("p",{className:"text-sm text-blue-700",children:r})})]})}),u.jsx("div",{className:"max-w-7xl mx-auto mb-20",children:u.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-700 rounded-3xl shadow-xl overflow-hidden",children:u.jsxs("div",{className:"px-6 py-12 md:p-12 lg:flex lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"lg:w-0 lg:flex-1",children:[u.jsxs("h2",{className:"text-3xl font-extrabold tracking-tight text-white sm:text-4xl",children:[u.jsx("span",{className:"block",children:"Oferta de Lanamento"}),u.jsx("span",{className:"block text-indigo-200",children:"75% de desconto por tempo limitado!"})]}),u.jsx("p",{className:"mt-4 max-w-3xl text-lg text-indigo-100",children:"Aproveite esta oportunidade nica e transforme sua rdio com o poder da anlise de dados."})]}),u.jsx("div",{className:"mt-8 lg:mt-0 lg:ml-8 lg:flex-shrink-0",children:u.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-lg p-6 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsxs("div",{className:"text-white text-opacity-70 line-through text-2xl mr-3",children:["R$ ",o(a)]}),u.jsxs("div",{className:"text-white text-4xl font-bold",children:["R$ ",o(i)]})]}),u.jsx("p",{className:"text-indigo-200 mt-1",children:"/ms"}),u.jsx("div",{className:"mt-6",children:u.jsx(Fi,{fullWidth:!0,onClick:()=>t("/contact",{state:{plan:"Premium"}}),className:"bg-white text-indigo-600 hover:bg-indigo-50",children:"Assinar Agora"})})]})})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto mb-20",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Recursos Exclusivos"}),u.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-500",children:"Tudo o que voc precisa para otimizar sua programao musical"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4",children:l.map((m,x)=>u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 transition-all duration-300 hover:shadow-lg hover:transform hover:scale-105",children:[u.jsx("div",{className:"mb-5",children:m.icon}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:m.title}),u.jsx("p",{className:"text-gray-600",children:m.description})]},x))})]}),u.jsx("div",{className:"max-w-5xl mx-auto mb-20",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[u.jsxs("div",{className:"px-6 py-8 sm:p-10 sm:pb-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"inline-flex px-4 py-1 rounded-full text-sm font-semibold tracking-wide uppercase bg-indigo-100 text-indigo-600",children:"Plano Premium"}),u.jsxs("div",{className:"flex items-baseline mt-4",children:[u.jsxs("span",{className:"text-5xl font-extrabold text-gray-900",children:["R$ ",o(i)]}),u.jsx("span",{className:"ml-1 text-2xl font-medium text-gray-500",children:"/ms"})]})]}),u.jsxs("div",{className:"bg-red-100 text-red-800 rounded-full px-3 py-1 text-sm font-semibold transform rotate-3",children:["Economize R$ ",o(a-i),"/ms"]})]}),u.jsx("p",{className:"mt-5 text-lg text-gray-500",children:"Acesso completo a todas as funcionalidades do Songmetrix para impulsionar sua rdio."})]}),u.jsxs("div",{className:"px-6 pt-6 pb-8 bg-gray-50 sm:p-10 sm:pt-6",children:[u.jsx("ul",{className:"space-y-4",children:["Monitoramento ilimitado de rdios","Anlise em tempo real da programao","Relatrios personalizados e exportveis","Anlise detalhada da concorrncia","Insights estratgicos para sua programao","Suporte prioritrio 24/7","Acesso  API de integrao","Atualizaes e novos recursos prioritrios","Consultoria especializada mensal"].map((m,x)=>u.jsxs("li",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Pa,{className:"h-6 w-6 text-green-500"})}),u.jsx("p",{className:"ml-3 text-base text-gray-700",children:m})]},x))}),u.jsx("div",{className:"mt-8",children:u.jsx(Fi,{fullWidth:!0,onClick:()=>t("/contact",{state:{plan:"Premium"}}),children:"Assinar Premium"})})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto mb-20",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"O que nossos clientes dizem"}),u.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-500",children:"Histrias de sucesso de rdios que transformaram sua programao com o Songmetrix"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:d.map((m,x)=>u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 border-l-4 border-indigo-500",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(Oi,{className:"h-5 w-5 text-yellow-400"}),u.jsx(Oi,{className:"h-5 w-5 text-yellow-400"}),u.jsx(Oi,{className:"h-5 w-5 text-yellow-400"}),u.jsx(Oi,{className:"h-5 w-5 text-yellow-400"}),u.jsx(Oi,{className:"h-5 w-5 text-yellow-400"})]}),u.jsxs("p",{className:"text-gray-600 italic mb-6",children:['"',m.quote,'"']}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900",children:m.author}),u.jsx("p",{className:"text-gray-500 text-sm",children:m.role})]})]},x))})]}),u.jsxs("div",{className:"max-w-5xl mx-auto mb-20",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Perguntas Frequentes"}),u.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-500",children:"Tire suas dvidas sobre o Songmetrix"})]}),u.jsx("div",{className:"space-y-8",children:h.map((m,x)=>u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m.question}),u.jsx("p",{className:"text-gray-600",children:m.answer})]},x))})]}),u.jsxs("div",{className:"max-w-7xl mx-auto mb-20",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Compare os Planos"}),u.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-500",children:"Escolha o plano ideal para sua rdio"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Trial"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Experimente por 7 dias"}),u.jsxs("ul",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx(Pa,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),u.jsx("p",{className:"ml-3 text-gray-600",children:"Acesso bsico ao monitoramento"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx(Pa,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),u.jsx("p",{className:"ml-3 text-gray-600",children:"Visualizao limitada de relatrios"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx(Pa,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),u.jsx("p",{className:"ml-3 text-gray-600",children:"Suporte por email"})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-b from-indigo-50 to-white rounded-lg shadow-md p-8 border-2 border-indigo-500",children:[u.jsx("div",{className:"inline-flex px-3 py-1 rounded-full text-sm font-semibold bg-indigo-100 text-indigo-600 mb-4",children:"Recomendado"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Premium"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Acesso completo a todas as funcionalidades"}),u.jsxs("ul",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx(Pa,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),u.jsx("p",{className:"ml-3 text-gray-600",children:"Monitoramento ilimitado de rdios"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx(Pa,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),u.jsx("p",{className:"ml-3 text-gray-600",children:"Relatrios detalhados e exportveis"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx(Pa,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),u.jsx("p",{className:"ml-3 text-gray-600",children:"Anlise de concorrncia"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx(Pa,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),u.jsx("p",{className:"ml-3 text-gray-600",children:"Suporte prioritrio 24/7"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx(Pa,{className:"h-6 w-6 text-green-500 flex-shrink-0"}),u.jsx("p",{className:"ml-3 text-gray-600",children:"Consultoria especializada mensal"})]})]})]})]})]}),u.jsxs("div",{className:"max-w-3xl mx-auto mb-20 text-center",children:[u.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-8",children:"Ainda tem dvidas?"}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Nossa equipe est pronta para ajudar voc a escolher o melhor plano para sua rdio."}),u.jsx(Fi,{onClick:()=>t("/contact",{state:{plan:"Premium"}}),className:"px-8 py-3 text-lg",children:"Fale com um Especialista"})]})]})}const CP="6454790e98c04c22b3fecc25dcd9e75c",EP="b9d28568c7e04ad79735bf8fddb750ed",qm=1e3;let Wm=0;const eo=async()=>{const e=Date.now()-Wm;if(e<qm){const r=qm-e;console.log(`Aguardando ${r}ms antes da prxima requisio...`),await new Promise(n=>setTimeout(n,r))}Wm=Date.now()},IP=async()=>{const t="https://accounts.spotify.com/api/token";try{await eo(),console.log("Obtendo token do Spotify");const e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(CP+":"+EP)},body:"grant_type=client_credentials"});if(!e.ok){const n=await e.json();return console.error(`Erro ao buscar token do Spotify: ${e.status} - ${JSON.stringify(n)}`),null}const r=await e.json();return console.log("Token do Spotify obtido com sucesso"),r.access_token}catch(e){return console.error("Erro ao buscar o token do Spotify:",e),null}},Z1=async(t,e="BR",r=20)=>{try{await eo(),console.log(`Buscando playlists populares para o pas ${e} com limite ${r}`);const n=`https://api.spotify.com/v1/search?q=top&type=playlist&market=${encodeURIComponent(e)}&limit=${r}`;console.log("URL da requisio:",n);const a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok){const o=await a.json();if(console.error(`Erro ao buscar playlists populares: ${a.status} - ${JSON.stringify(o)}`),a.status===429){const l=a.headers.get("Retry-After"),d=l?parseInt(l)*1e3:5e3;return console.log(`Rate limit excedido. Aguardando ${d}ms antes de tentar novamente...`),await new Promise(h=>setTimeout(h,d)),Z1(t,e,r)}return null}const s=await a.json();return console.log("Dados recebidos:",s),!s.playlists||!s.playlists.items||!Array.isArray(s.playlists.items)?(console.error("Formato de resposta inesperado:",s),null):{message:"Playlists populares",playlists:s.playlists.items.map(o=>{var l,d,h,p;return{id:o.id,name:o.name,description:o.description||"",owner:((l=o.owner)==null?void 0:l.display_name)||"Desconhecido",images:((d=o.images)==null?void 0:d.map(v=>v.url))||[],tracks_total:((h=o.tracks)==null?void 0:h.total)||0,external_url:((p=o.external_urls)==null?void 0:p.spotify)||""}})}}catch(n){return console.error("Erro ao buscar playlists populares:",n),null}},kf=async(t,e,r=50)=>{try{if(await eo(),console.log(`Buscando faixas da playlist ${e} com limite ${r}`),!e||e.trim()==="")return console.error("ID da playlist invlido"),null;const n=`https://api.spotify.com/v1/playlists/${encodeURIComponent(e)}/tracks?limit=${r}&market=BR`;console.log("URL da requisio:",n);const a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok){const o=await a.json();if(console.error(`Erro ao buscar faixas da playlist: ${a.status} - ${JSON.stringify(o)}`),a.status===429){const l=a.headers.get("Retry-After"),d=l?parseInt(l)*1e3:5e3;return console.log(`Rate limit excedido. Aguardando ${d}ms antes de tentar novamente...`),await new Promise(h=>setTimeout(h,d)),kf(t,e,r)}return a.status===404?(console.log("Playlist no encontrada. Buscando outra playlist via search..."),DP(t,r)):null}const s=await a.json();return console.log("Dados recebidos:",s),!s.items||!Array.isArray(s.items)?(console.error("Formato de resposta inesperado:",s),null):s.items.filter(o=>o.track!==null).map(o=>{var l,d;return{id:o.track.id,name:o.track.name,artist:o.track.artists.map(h=>h.name).join(", "),album:o.track.album.name,albumCover:((l=o.track.album.images[0])==null?void 0:l.url)||"",popularity:o.track.popularity||0,duration_ms:o.track.duration_ms,explicit:o.track.explicit,preview_url:o.track.preview_url||"",external_url:((d=o.track.external_urls)==null?void 0:d.spotify)||""}})}catch(n){return console.error("Erro ao buscar faixas da playlist:",n),null}},DP=async(t,e=50)=>{try{const n=await fetch("https://api.spotify.com/v1/search?q=top%20hits&type=playlist&market=BR&limit=1",{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)return console.error(`Erro ao buscar playlist alternativa: ${n.status}`),null;const a=await n.json();if(!a.playlists||!a.playlists.items||a.playlists.items.length===0)return console.error("Nenhuma playlist encontrada"),null;const s=a.playlists.items[0];return console.log(`Encontrada playlist alternativa: ${s.name} (${s.id})`),kf(t,s.id,e)}catch(r){return console.error("Erro ao buscar playlist alternativa:",r),null}},Q1=async(t,e="BR",r=50)=>{try{await eo(),console.log(`Buscando categorias para o pas ${e} com limite ${r}`);const n=`https://api.spotify.com/v1/browse/categories?country=${encodeURIComponent(e)}&locale=pt_BR&limit=${r}`;console.log("URL da requisio:",n);const a=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok){const o=await a.json();if(console.error(`Erro ao buscar categorias: ${a.status} - ${JSON.stringify(o)}`),a.status===429){const l=a.headers.get("Retry-After"),d=l?parseInt(l)*1e3:5e3;return console.log(`Rate limit excedido. Aguardando ${d}ms antes de tentar novamente...`),await new Promise(h=>setTimeout(h,d)),Q1(t,e,r)}return null}const s=await a.json();return console.log("Dados recebidos:",s),!s.categories||!s.categories.items||!Array.isArray(s.categories.items)?(console.error("Formato de resposta inesperado:",s),null):s.categories.items.map(o=>{var l;return{id:o.id,name:o.name,icons:((l=o.icons)==null?void 0:l.map(d=>d.url))||[]}})}catch(n){return console.error("Erro ao buscar categorias:",n),null}},ev=async(t,e,r="BR",n=20)=>{try{if(await eo(),console.log(`Buscando playlists da categoria ${e} para o pas ${r} com limite ${n}`),!e||e.trim()==="")return console.error("ID da categoria invlido"),null;const a=`https://api.spotify.com/v1/browse/categories/${encodeURIComponent(e)}/playlists?country=${encodeURIComponent(r)}&limit=${n}`;console.log("URL da requisio:",a);const s=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!s.ok){const l=await s.json();if(console.error(`Erro ao buscar playlists da categoria: ${s.status} - ${JSON.stringify(l)}`),s.status===429){const d=s.headers.get("Retry-After"),h=d?parseInt(d)*1e3:5e3;return console.log(`Rate limit excedido. Aguardando ${h}ms antes de tentar novamente...`),await new Promise(p=>setTimeout(p,h)),ev(t,e,r,n)}return s.status===404?(console.log("Categoria no encontrada ou sem playlists. Buscando playlists por termos relacionados..."),Vm(t,e,r,n)):null}const i=await s.json();return console.log("Dados recebidos:",i),!i.playlists||!i.playlists.items||!Array.isArray(i.playlists.items)?(console.error("Formato de resposta inesperado:",i),Vm(t,e,r,n)):i.playlists.items.map(l=>{var d,h,p,v;return{id:l.id,name:l.name,description:l.description||"",owner:((d=l.owner)==null?void 0:d.display_name)||"Desconhecido",images:((h=l.images)==null?void 0:h.map(m=>m.url))||[],tracks_total:((p=l.tracks)==null?void 0:p.total)||0,external_url:((v=l.external_urls)==null?void 0:v.spotify)||""}})}catch(a){return console.error("Erro ao buscar playlists da categoria:",a),null}},Vm=async(t,e,r="BR",n=20)=>{try{await eo(),console.log(`Buscando playlists com o termo "${e}" para o pas ${r} com limite ${n}`);const a=`https://api.spotify.com/v1/search?q=${encodeURIComponent(e)}&type=playlist&market=${encodeURIComponent(r)}&limit=${n}`;console.log("URL da requisio:",a);const s=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!s.ok){const l=await s.json();return console.error(`Erro ao buscar playlists por termo: ${s.status} - ${JSON.stringify(l)}`),null}const i=await s.json();return console.log("Dados recebidos:",i),!i.playlists||!i.playlists.items||!Array.isArray(i.playlists.items)?(console.error("Formato de resposta inesperado:",i),null):i.playlists.items.map(l=>{var d,h,p,v;return{id:l.id,name:l.name,description:l.description||"",owner:((d=l.owner)==null?void 0:d.display_name)||"Desconhecido",images:((h=l.images)==null?void 0:h.map(m=>m.url))||[],tracks_total:((p=l.tracks)==null?void 0:p.total)||0,external_url:((v=l.external_urls)==null?void 0:v.spotify)||""}})}catch(a){return console.error(`Erro ao buscar playlists com o termo "${e}":`,a),null}},MP=()=>[{code:"BR",name:"Brasil"},{code:"US",name:"Estados Unidos"},{code:"GB",name:"Reino Unido"},{code:"ES",name:"Espanha"},{code:"FR",name:"Frana"},{code:"IT",name:"Itlia"},{code:"DE",name:"Alemanha"},{code:"JP",name:"Japo"},{code:"AU",name:"Austrlia"},{code:"CA",name:"Canad"},{code:"MX",name:"Mxico"},{code:"AR",name:"Argentina"},{code:"CL",name:"Chile"},{code:"CO",name:"Colmbia"},{code:"PT",name:"Portugal"}];function RP(){const{currentUser:t}=br(),[e,r]=H.useState(!1),[n,a]=H.useState(!1),[s,i]=H.useState(()=>{const z=localStorage.getItem("spotifyToken"),Q=localStorage.getItem("spotifyTokenExpiration");return z&&Q&&Date.now()<parseInt(Q)?{token:z,expiresAt:parseInt(Q)}:null}),[o,l]=H.useState({timeRange:"medium_term",limit:"20",country:"BR",playlistId:""}),[d,h]=H.useState({value:"BR",label:"Brasil"}),[p,v]=H.useState(null),[m,x]=H.useState(null),[b,S]=H.useState([]),[_,O]=H.useState([]),[F,X]=H.useState([]),[J,ce]=H.useState([]),[K,D]=H.useState(!1),[Y,R]=H.useState(""),A=MP().map(z=>({value:z.code,label:z.name})),E=b.map(z=>({value:z.id,label:z.name})),U=_.map(z=>({value:z.id,label:z.name})),Z=H.useCallback(async()=>{try{if(s&&s.expiresAt>Date.now())return console.log("Usando token do Spotify existente"),s.token;console.log("Obtendo novo token do Spotify...");const z=await IP();if(z){console.log("Novo token do Spotify obtido com sucesso");const Q=Date.now()+36e5;return i({token:z,expiresAt:Q}),localStorage.setItem("spotifyToken",z),localStorage.setItem("spotifyTokenExpiration",Q.toString()),z}else return console.error("Falha ao obter token do Spotify"),R("No foi possvel obter o token do Spotify. Por favor, tente novamente mais tarde."),null}catch(z){return console.error("Erro ao obter token do Spotify:",z),R("Erro ao obter token do Spotify. Por favor, tente novamente mais tarde."),null}},[s]),re=H.useCallback(()=>{console.log("Limpando token do Spotify armazenado"),localStorage.removeItem("spotifyToken"),localStorage.removeItem("spotifyTokenExpiration"),i(null)},[]),ae=H.useCallback(async()=>{r(!0),R(""),console.log("Carregando playlists populares...");const z=await Z();if(!z){R("No foi possvel obter o token do Spotify. Tente novamente mais tarde."),r(!1);return}const Q=await Z1(z,o.country);if(Q&&Q.playlists.length>0){S(Q.playlists);const ne=Q.playlists[0];o.playlistId||(console.log(`Selecionando primeira playlist: ${ne.name} (${ne.id})`),l(Ae=>({...Ae,playlistId:ne.id})),v({value:ne.id,label:ne.name}),pe(ne.id))}else R("No foi possvel carregar playlists. Por favor, tente outra regio ou mais tarde.");r(!1)},[Z,o.country,o.playlistId]),ee=H.useCallback(async()=>{r(!0),R(""),console.log("Carregando categorias...");const z=await Z();if(!z){R("No foi possvel obter o token do Spotify. Tente novamente mais tarde."),r(!1);return}const Q=await Q1(z,o.country);Q&&Q.length>0?O(Q):console.warn("No foi possvel carregar categorias"),r(!1)},[Z,o.country]),de=H.useCallback(async z=>{if(!z)return;D(!0),R(""),console.log(`Carregando playlists da categoria ${z}...`);const Q=await Z();if(!Q){R("No foi possvel obter o token do Spotify. Tente novamente mais tarde."),D(!1);return}const ne=await ev(Q,z,o.country);if(ne&&ne.length>0){X(ne);const Ae=ne[0];l(Ne=>({...Ne,playlistId:Ae.id})),v({value:Ae.id,label:Ae.name}),pe(Ae.id)}else R("No foi possvel encontrar playlists para esta categoria. Tente outra categoria."),X([]);D(!1)},[Z,o.country]),pe=H.useCallback(async z=>{if(z){a(!0),R("");try{const Q=await Z();if(!Q){R("No foi possvel obter o token do Spotify. Tente novamente mais tarde."),a(!1);return}console.log(`Carregando faixas da playlist: ${z}`);const ne=await kf(Q,z,parseInt(o.limit));ne&&ne.length>0?(console.log(`Faixas carregadas com sucesso: ${ne.length} faixas`),ce(ne)):(console.error("No foi possvel carregar faixas da playlist"),R("No foi possvel carregar as faixas dessa playlist. Tente selecionar outra playlist."),ce([]))}catch(Q){console.error("Erro ao carregar faixas da playlist:",Q),R("Erro ao carregar faixas da playlist. Por favor, tente novamente."),ce([])}finally{a(!1)}}},[Z,o.limit]);H.useEffect(()=>{t&&(ae(),ee())},[t,ae,ee]),H.useEffect(()=>{o.playlistId&&pe(o.playlistId)},[o.playlistId,pe]);const Le=()=>{ae(),ee()},N=z=>{x(z),z?de(z.value):X([])},$=z=>{l({...o,playlistId:z.id}),v({value:z.id,label:z.name}),pe(z.id)},V=()=>{l({timeRange:"medium_term",limit:"20",country:"BR",playlistId:""}),h({value:"BR",label:"Brasil"}),v(null),x(null),X([]),ae(),ee()},T=z=>{const Q=Math.floor(z/6e4),ne=Math.floor(z%6e4/1e3);return`${Q}:${ne.toString().padStart(2,"0")}`},q=()=>{re(),ae(),ee()};return u.jsxs("div",{className:"spotify-container",children:[u.jsxs("div",{className:"spotify-header",children:[u.jsx("h2",{children:"Spotify Charts"}),u.jsx("p",{children:"Explore as msicas mais populares do Spotify, playlists e categorias."})]}),u.jsxs("div",{className:"spotify-filters",children:[u.jsxs("div",{className:"spotify-filter-row",children:[u.jsxs("div",{className:"spotify-filter-group",children:[u.jsx("label",{htmlFor:"country-select",children:"Pas:"}),u.jsx(fs,{id:"country-select",options:A,value:d,onChange:z=>{h(z),l({...o,country:z.value})},placeholder:"Selecione um pas",className:"react-select-container",classNamePrefix:"react-select"})]}),u.jsxs("div",{className:"spotify-filter-group",children:[u.jsx("label",{htmlFor:"category-select",children:"Categoria:"}),u.jsx(fs,{id:"category-select",options:U,value:m,onChange:N,placeholder:"Selecione uma categoria",isClearable:!0,className:"react-select-container",classNamePrefix:"react-select"})]}),u.jsxs("div",{className:"spotify-filter-group",children:[u.jsx("label",{htmlFor:"playlist-select",children:"Playlist:"}),u.jsx(fs,{id:"playlist-select",options:E,value:p,onChange:z=>{z&&(v(z),l({...o,playlistId:z.value}))},placeholder:"Selecione uma playlist",className:"react-select-container",classNamePrefix:"react-select",isClearable:!0})]}),u.jsxs("div",{className:"spotify-filter-group",children:[u.jsx("label",{htmlFor:"limit-select",children:"Limite:"}),u.jsxs("select",{id:"limit-select",value:o.limit,onChange:z=>l({...o,limit:z.target.value}),children:[u.jsx("option",{value:"10",children:"10"}),u.jsx("option",{value:"20",children:"20"}),u.jsx("option",{value:"50",children:"50"})]})]})]}),u.jsxs("div",{className:"spotify-filter-buttons",children:[u.jsx("button",{className:"spotify-btn-primary",onClick:Le,disabled:e,children:e?"Carregando...":"Pesquisar"}),u.jsx("button",{className:"spotify-btn-secondary",onClick:V,children:"Limpar Filtros"})]})]}),Y&&u.jsxs("div",{className:"spotify-error",children:[u.jsx(fy,{size:16}),u.jsx("span",{children:Y}),u.jsx("button",{onClick:q,children:"Tentar Novamente"})]}),e?u.jsxs("div",{className:"spotify-loading",children:[u.jsx("div",{className:"spotify-loading-spinner"}),u.jsx("p",{children:"Carregando..."})]}):u.jsxs(u.Fragment,{children:[m&&F.length>0&&u.jsxs("div",{className:"spotify-tracks-container",children:[u.jsx("div",{className:"spotify-tracks-header",children:u.jsxs("h3",{className:"spotify-tracks-title",children:["Playlists de ",m.label]})}),u.jsx("div",{className:"spotify-content",children:F.map(z=>u.jsxs("div",{className:"spotify-card",onClick:()=>$(z),children:[u.jsx(jc.LazyLoadImage,{src:z.images[0]||"/placeholder-playlist.png",alt:z.name,effect:"blur",className:"spotify-card-image",placeholderSrc:"/placeholder-playlist.png"}),u.jsxs("div",{className:"spotify-card-content",children:[u.jsx("h3",{className:"spotify-card-title",children:z.name}),u.jsxs("p",{className:"spotify-card-subtitle",children:["Por ",z.owner]}),u.jsx("p",{className:"spotify-card-description",children:z.description}),u.jsx("div",{className:"spotify-card-footer",children:u.jsxs("span",{children:[z.tracks_total," faixas"]})})]})]},z.id))})]}),(!m||F.length===0)&&b.length>0&&u.jsxs("div",{className:"spotify-tracks-container",children:[u.jsx("div",{className:"spotify-tracks-header",children:u.jsx("h3",{className:"spotify-tracks-title",children:"Playlists Populares"})}),u.jsx("div",{className:"spotify-content",children:b.map(z=>u.jsxs("div",{className:"spotify-card",onClick:()=>$(z),children:[u.jsx(jc.LazyLoadImage,{src:z.images[0]||"/placeholder-playlist.png",alt:z.name,effect:"blur",className:"spotify-card-image",placeholderSrc:"/placeholder-playlist.png"}),u.jsxs("div",{className:"spotify-card-content",children:[u.jsx("h3",{className:"spotify-card-title",children:z.name}),u.jsxs("p",{className:"spotify-card-subtitle",children:["Por ",z.owner]}),u.jsx("p",{className:"spotify-card-description",children:z.description}),u.jsx("div",{className:"spotify-card-footer",children:u.jsxs("span",{children:[z.tracks_total," faixas"]})})]})]},z.id))})]}),n?u.jsxs("div",{className:"spotify-loading",children:[u.jsx("div",{className:"spotify-loading-spinner"}),u.jsx("p",{children:"Carregando faixas..."})]}):J.length>0&&p&&u.jsxs("div",{className:"spotify-tracks-container",children:[u.jsx("div",{className:"spotify-tracks-header",children:u.jsxs("h3",{className:"spotify-tracks-title",children:["Faixas de ",p.label]})}),u.jsxs("table",{className:"spotify-tracks-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"#"}),u.jsx("th",{children:"Ttulo"}),u.jsx("th",{children:"lbum"}),u.jsx("th",{children:"Popularidade"}),u.jsx("th",{children:u.jsx(nu,{className:"w-4 h-4"})}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:J.map((z,Q)=>u.jsxs("tr",{children:[u.jsx("td",{children:Q+1}),u.jsx("td",{children:u.jsxs("div",{className:"spotify-track-info",children:[u.jsx(jc.LazyLoadImage,{src:z.albumCover||"/placeholder-album.png",alt:z.album,effect:"blur",className:"spotify-track-image",placeholderSrc:"/placeholder-album.png"}),u.jsxs("div",{className:"spotify-track-details",children:[u.jsx("span",{className:"spotify-track-name",children:z.name}),u.jsx("span",{className:"spotify-track-artist",children:z.artist})]})]})}),u.jsx("td",{className:"spotify-track-album",children:z.album}),u.jsx("td",{children:u.jsxs("div",{className:"spotify-track-popularity",children:[u.jsx("span",{children:z.popularity}),u.jsx("div",{className:"spotify-popularity-bar",children:u.jsx("div",{className:"spotify-popularity-fill",style:{width:`${z.popularity}%`}})})]})}),u.jsx("td",{children:T(z.duration_ms)}),u.jsx("td",{children:u.jsxs("div",{className:"spotify-track-actions",children:[z.preview_url&&u.jsx("a",{href:z.preview_url,target:"_blank",rel:"noopener noreferrer",className:"spotify-track-action",title:"Ouvir prvia",children:u.jsx(py,{className:"w-4 h-4"})}),u.jsx("a",{href:z.external_url,target:"_blank",rel:"noopener noreferrer",className:"spotify-track-action",title:"Abrir no Spotify",children:u.jsx(my,{className:"w-4 h-4"})})]})})]},z.id))})]})]}),!e&&!n&&J.length===0&&b.length===0&&F.length===0&&u.jsx("div",{className:"spotify-empty",children:u.jsx("p",{children:"Nenhum dado encontrado. Por favor, tente outros filtros ou verifique sua conexo."})})]})]})}function FP(){const[t,e]=H.useState("dashboard"),r=n=>{e(n)};return u.jsx(yy,{children:u.jsx(qb,{children:u.jsxs(by,{children:[u.jsx(_r,{path:"/login",element:u.jsx(Jb,{})}),u.jsx(_r,{path:"/register",element:u.jsx(Kb,{})}),u.jsx(_r,{path:"/pending-approval",element:u.jsx(e5,{})}),u.jsx(_r,{path:"/payment/success",element:u.jsx(Oj,{})}),u.jsx(_r,{path:"/payment/canceled",element:u.jsx(Tj,{})}),u.jsx(_r,{path:"/first-access",element:u.jsx(Qb,{})}),u.jsx(_r,{path:"/plans",element:u.jsx(TP,{})}),u.jsxs(_r,{path:"/",element:u.jsx(Xb,{children:u.jsx(n5,{currentView:t,onNavigate:r})}),children:[u.jsx(_r,{index:!0,element:u.jsx(Ea,{to:"/dashboard",replace:!0})}),u.jsx(_r,{path:"dashboard",element:u.jsx(a5,{})}),u.jsx(_r,{path:"ranking",element:u.jsx(HS,{})}),u.jsx(_r,{path:"realtime",element:u.jsx(SN,{})}),u.jsx(_r,{path:"radios",element:u.jsx(ej,{})}),u.jsx(_r,{path:"relatorios",element:u.jsx(OP,{})}),u.jsx(_r,{path:"spotify",element:u.jsx(RP,{})}),u.jsx(_r,{path:"admin/users",element:u.jsx(oc,{children:u.jsx(pj,{})})}),u.jsx(_r,{path:"admin/abbreviations",element:u.jsx(oc,{children:u.jsx(mj,{})})}),u.jsx(_r,{path:"admin/streams",element:u.jsx(oc,{children:u.jsx(kj,{})})}),u.jsx(_r,{path:"admin/relay-streams",element:u.jsx(oc,{children:u.jsx(Lj,{})})})]})]})})})}const Hm=localStorage.getItem("theme");Hm==="dark"||!Hm&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");Zd.createRoot(document.getElementById("root")).render(u.jsx(FP,{}));export{Uo as _};
